#+title: digger
* Todo
** object_poolオブジェクト間の接触判定
地形判定とは異なる。オブジェクト層で起こる反応。
game_objectとmapではやり方が異なる。
** プレイヤーキャラ以外を追加する
表示文字を引数によって変える必要がある。
** 設定のファイル化
CDDAみたいに、設定類はすべてjsonかymlにする。
** メニュー
2つ目state。
** ターン実装
getchでなんとなくターンぽくなっているが、移動以外でもターンが進んでしまう。
** アイテム追加
** カメラ追加
** 戦闘モード
** パーティ
エンカウント型にすると、map上のシンボルが複数のキャラクターを持つことがありうる。
現状のCharacterと合わなくなるような気がする。
map上とbattle上のcharacterは別物だ。

map上の方はtankとかにするか。敵キャラはtankとは限らないわけだが。それに降車する可能性も。
** ゲームのおおまかな設計をやる
バトルディッガーにしようとうっすら考えてたが、さすがに丸パクはよくないので、混ぜよう。
そろそろどういう仕様にするか決めないといけない段階。

合成システムはカンタンで奥深そうなんだよな。
なのでシステム的にはディッガーよりハタ人間。
*** フィールド
- シンボルエンカウント
- ターンベース
- イベント
* 大TODO
- ローグライク … とりあえずこれをやる。
- エンカウント戦闘
- インベントリシステム
* Archive
** DONE 移動システム
CLOSED: [2021-06-26 土 21:31]
- 地形判定
** DONE マップをtxtファイルから読み込む
CLOSED: [2021-06-26 土 10:19]
** DONE mainファイル分割
CLOSED: [2021-06-24 木 23:45]
同じ形にした。
** DONE テスト追加
CLOSED: [2021-06-24 木 23:46]
** DONE テスト環境構築
CLOSED: [2021-06-24 木 23:46]
- 単独RSpec
- カバレッジ
** DONE 複数ウィンドウエリア
CLOSED: [2021-06-28 月 10:23]
メッセージエリア、ステータスエリアなどウィンドウにエリアを追加する。
** DONE component追加
CLOSED: [2021-06-29 火 10:05]
game_objectを構成するもの。直に起動されることはなく、object_poolにもaddされない。
** DONE inputに分割
CLOSED: [2021-07-03 土 12:45]
今はすべてfield_stateでやっているが、characterのcomponentでやるようにする。
** DONE 別入力
CLOSED: [2021-07-03 土 12:45]
とりあえず敵をランダム移動できるようにする。
** DONE message_displayとmessageの分割
CLOSED: [2021-07-03 土 00:09]
statsを作ってそこにmessageを入れることで対応した。
** DONE テストrequireを自動化する
CLOSED: [2021-07-03 土 12:46]
めんどいので。
** DONE RSpec lintを追加した
CLOSED: [2021-07-04 日 00:10]
その日の気分で書きがちなところに基準ができた。必須だな。
