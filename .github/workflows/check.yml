name: Check

on:
  push:

jobs:
  lint:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: linting org files
      run: make textlint

  relink:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: relink
      run: make relink

    - name: diff check
      run: |
        git status # ジョブが失敗したとき、どこで失敗したか人が確認する用
        test -z "$(git status -s)"
