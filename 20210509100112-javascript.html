<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-02-11 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JavaScript</title>
<meta name="generator" content="Org mode">
<meta name="author" content="root">
<link rel='shortcut icon' type='image/x-icon' href='/roam/favicon.ico' /><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' /><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css' /><link rel='stylesheet' href='../css/site.css' /><link rel='stylesheet' href='../roam/css/code.css' /><link rel='stylesheet' href='css/site.css' /><link rel='stylesheet' href='css/code.css' />
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content">
<h1 class="title">JavaScript</h1>

<div id="outline-container-org44a20bf" class="outline-2">
<h2 id="org44a20bf"><a href="#org44a20bf">概要</a></h2>
<div class="outline-text-2" id="text-org44a20bf">
<p>
JavaScriptはブラウザ上で動作するのを特徴とする<a href="20210509101246-programming_language.html#ID-868ac56a-2d42-48d7-ab7f-7047c85a8f39">Programming Language</a>。WEB開発のフロントエンドに多用される。多くのフレームワーク、ライブラリが存在していて、活発に開発が進んでいる。
</p>

<p>
古い本だと書き方が古くなってたり最悪動かなかったりする。最新のコードを読んでもよくわからない、ということも多い。書籍を買うときは発行年度を確かめることが必要。以前JSやってたので<a href="20210902220546-react.html#ID-dc50d818-d7d1-48a8-ad76-62ead617c670">React</a>,<a href="20210831232330-typescript.html#ID-ad1527ee-63b3-4a9b-a553-10899f57c234">TypeScript</a>にいって大丈夫だろう、は罠。学ぶ前に最新のJSをキャッチアップしておかないと、理解しにくい。
</p>
</div>
</div>
<div id="outline-container-org3258ba5" class="outline-2">
<h2 id="org3258ba5"><a href="#org3258ba5">Memo</a></h2>
<div class="outline-text-2" id="text-org3258ba5">
<p>
新しく追加された構文などもあって、ややこしい。
</p>
</div>
<div id="outline-container-orgc4f89b3" class="outline-3">
<h3 id="orgc4f89b3"><a href="#orgc4f89b3">npxでライブラリの場所を探す</a></h3>
<div class="outline-text-3" id="text-orgc4f89b3">
<p>
どこに実行ファイルがあるのか知りたいことがある。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>実行ファイルを探す</label><pre class="src src-shell">npx which textlint
</pre>
</div>

<div class="results" id="orgff5228d">
<p>
<i>home/silver/roam/node_modules</i>.bin/textlint
</p>

</div>
</div>
</div>

<div id="outline-container-org89686eb" class="outline-3">
<h3 id="org89686eb"><a href="#org89686eb">文字コードの仕組み</a></h3>
<div class="outline-text-3" id="text-org89686eb">
<ul class="org-ul">
<li><a href="https://ja.javascript.info/arraybuffer-binary-arrays">ArrayBuffer, binary arrays</a></li>
<li><a href="https://qiita.com/mouseofmicky/items/ab6340a2a4634bee723d">JavaScriptのバイナリー文字列とatob、btoaの関係について - Qiita</a></li>
</ul>

<p>
パラメータを圧縮する。
</p>
<ul class="org-ul">
<li>元データ → 圧縮 → base64エンコード(圧縮によってURLに使えない文字が含まれるため) → URL表示形式</li>
</ul>

<p>
パラメータを解凍する。
</p>
<ul class="org-ul">
<li>URL表示形式 → base64デコード → 解凍 → 元データ</li>
</ul>
</div>
</div>
<div id="outline-container-org94d1366" class="outline-3">
<h3 id="org94d1366"><a href="#org94d1366">プロジェクトすべてにprettierをかける</a></h3>
<div class="outline-text-3" id="text-org94d1366">
<p>
prettierは書式を整形しプロジェクトで一貫性をもたせられるツール。
</p>

<div class="org-src-container">
<pre class="src src-shell">npx prettier --write <span class="org-string">"**/*.js"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org84c5761" class="outline-3">
<h3 id="org84c5761"><a href="#org84c5761">インストールしてるのに開発用サーバでライブラリのエラーが出るとき</a></h3>
<div class="outline-text-3" id="text-org84c5761">
<p>
<code>npm install</code> などでライブラリを追加したあとは、 <code>npm start</code> を再起動する必要がある。
</p>
</div>
</div>
<div id="outline-container-orgdb7eaf9" class="outline-3">
<h3 id="orgdb7eaf9"><a href="#orgdb7eaf9">create-react-appでエラーが出るとき</a></h3>
<div class="outline-text-3" id="text-orgdb7eaf9">
<p>
create-react-appを実行するとき、このようなエラーがでるとき。
</p>
<blockquote>
<p>
&ldquo;You are running create-react-app 4.0.3 which is behind the latest release (5.0.0)&rdquo;
</p>
</blockquote>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>キャッシュを削除する</label><pre class="src src-shell">npx clear-npx-cache
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>バージョンを明示する</label><pre class="src src-shell">npx create-react-app@latest my-app
</pre>
</div>
</div>
</div>
<div id="outline-container-org1162ab0" class="outline-3">
<h3 id="org1162ab0"><a href="#org1162ab0">D3.js: グラフ描画ライブラリ</a></h3>
<div class="outline-text-3" id="text-org1162ab0">
<ul class="org-ul">
<li><a href="https://d3js.org/">D3.js - Data-Driven Documents</a></li>
<li><a href="https://github.com/d3/d3">d3/d3: Bring data to life with SVG, Canvas and HTML.</a></li>
</ul>
<p>
公式サイト。
</p>
</div>
</div>
<div id="outline-container-orgfcd65a7" class="outline-3">
<h3 id="orgfcd65a7"><a href="#orgfcd65a7">関数の合成</a></h3>
<div class="outline-text-3" id="text-orgfcd65a7">
<p>
関数型プログラミングでは小さい関数を定義する。
それらを合成して、目的を達成する。
</p>

<ul class="org-ul">
<li>返り値を工夫してメソッドチェーンにする。</li>
</ul>

<p>
<code>replace</code> は引数、返り値が文字列なので…。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">template</span> = <span class="org-string">"hh:mm:ss tt"</span>;
<span class="org-keyword">const</span> <span class="org-variable-name">clockTime</span> = template
      .replace(<span class="org-string">"hh"</span>, <span class="org-string">"03"</span>)
      .replace(<span class="org-string">"mm"</span>, <span class="org-string">"33"</span>)
      .replace(<span class="org-string">"ss"</span>, <span class="org-string">"33"</span>)
      .replace(<span class="org-string">"tt"</span>, <span class="org-string">"PM"</span>);
console.log(clockTime);
</pre>
</div>
<p>
といったことができる。
</p>

<ul class="org-ul">
<li>高階関数を利用する(<a href="https://www.oreilly.co.jp/books/9784873119380/">O&rsquo;Reilly Japan - Reactハンズオンラーニング 第2版</a> p.62)</li>
</ul>
<p>
関数を集約させるところに注目。
<code>compose</code> で非破壊の関数をまとめて順番に評価している。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">oneSecond</span> = () =&gt; 1000;
<span class="org-keyword">const</span> <span class="org-variable-name">getCurrentTime</span> = () =&gt; <span class="org-keyword">new</span> <span class="org-type">Date</span>();
<span class="org-keyword">const</span> <span class="org-variable-name">clear</span> = () =&gt; console.clear();
<span class="org-keyword">const</span> <span class="org-variable-name">log</span> = message =&gt; console.log(message);

<span class="org-keyword">const</span> <span class="org-variable-name">serializeClockTime</span> = date =&gt; ({
    hours: date.getHours(),
    minutes: date.getMinutes(),
    seconds: date.getSeconds()
});

<span class="org-keyword">const</span> <span class="org-variable-name">civilianHours</span> = clockTime =&gt; ({
    ...clockTime,
    hours: clockTime.hours &gt; 12 ? clockTime.hours - 12 : clockTime.hours
});

<span class="org-keyword">const</span> <span class="org-variable-name">appendAMPM</span> = clockTime =&gt; ({
    ...clockTime,
    ampm: clockTime.hours &gt;= 12 ? <span class="org-string">"PM"</span> : <span class="org-string">"AM"</span>
})

<span class="org-keyword">const</span> <span class="org-variable-name">display</span> = target =&gt; time =&gt; target(time);

<span class="org-keyword">const</span> <span class="org-variable-name">formatClock</span> = format =&gt; time =&gt;
      format
      .replace(<span class="org-string">"hh"</span>, time.hours)
      .replace(<span class="org-string">"mm"</span>, time.minutes)
      .replace(<span class="org-string">"ss"</span>, time.seconds)
      .replace(<span class="org-string">"tt"</span>, time.ampm);

<span class="org-keyword">const</span> <span class="org-variable-name">prependZero</span> = key =&gt; clockTime =&gt; ({
    ...clockTime,
    [key]: clockTime[key] &lt; 10 ? <span class="org-string">"0"</span> + clockTime[key] : <span class="org-string">""</span> + clockTime[key]
});

<span class="org-keyword">const</span> <span class="org-variable-name">compose</span> = (...fns) =&gt; arg =&gt;
      fns.reduce((conposed, f) =&gt; f(composed), arg);
<span class="org-comment-delimiter">// </span><span class="org-comment">reduce&#12398;&#31532;&#19968;&#24341;&#25968;&#12399;&#12467;&#12540;&#12523;&#12496;&#12483;&#12463;&#38306;&#25968;&#12289;&#31532;&#20108;&#24341;&#25968;&#12399;&#21021;&#26399;&#20516;&#12290;</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">&#37197;&#21015;&#20869;&#12398;&#26368;&#21021;&#12398;&#38306;&#25968;&#12399;&#24341;&#25968;arg&#12391;&#21628;&#12403;&#20986;&#12373;&#12428;&#12289;&#12381;&#12428;&#20197;&#38477;&#12399;&#21069;&#12398;&#38306;&#25968;&#12398;&#25147;&#12426;&#20516;&#12364;&#27425;&#12398;&#38306;&#25968;&#12398;&#24341;&#25968;&#12392;&#12375;&#12390;&#28193;&#12373;&#12428;&#12427;&#12290;</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">&#37197;&#21015;&#20869;&#12398;&#38306;&#25968;&#12399;&#38918;&#12395;&#21628;&#12403;&#20986;&#12373;&#12428;&#12289;&#26368;&#24460;&#12398;&#38306;&#25968;&#12398;&#25147;&#12426;&#20516;&#12364;&#26368;&#32066;&#30340;&#12395;&#25147;&#12426;&#20516;&#12392;&#12375;&#12390;&#36820;&#12373;&#12428;&#12427;&#12290;</span>

<span class="org-keyword">const</span> <span class="org-variable-name">convertToCivilianTime</span> = clockTime =&gt;
      compose(
          appendAMPM,
          civilianHours
      )(clockTime);

<span class="org-keyword">const</span> <span class="org-variable-name">doubleDigits</span> = civilianTime =&gt;
      compose(
          prependZero(<span class="org-string">"hours"</span>),
          prependZero(<span class="org-string">"minutes"</span>),
          prependZero(<span class="org-string">"seconds"</span>)
      )(civilianTime);

<span class="org-keyword">const</span> <span class="org-variable-name">startTicking</span> = () =&gt;
      setInterval(
          compose(
              clear,
              getCurrentTime,
              serializeClockTime,
              convertToCivilianTime,
              doubleDigits,
              formatClock(<span class="org-string">"hh:mm:ss tt"</span>),
              display(log)
          ),
          oneSecond()
      );

startTicking();
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdab6bc3" class="outline-3">
<h3 id="orgdab6bc3"><a href="#orgdab6bc3">再帰</a></h3>
<div class="outline-text-3" id="text-orgdab6bc3">
<p>
自身を呼び出す。非同期処理と組み合わさったときに真価を発揮する。
また、データ構造の探索に用いられる。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">countdown</span> = (value, fn) =&gt; {
    fn(value);
    <span class="org-keyword">return</span> value &gt; 0 ? countdown(value - 1, fn) : value;
};

countdown(10, value =&gt; console.log(value));
</pre>
</div>
</div>
</div>
<div id="outline-container-org972a952" class="outline-3">
<h3 id="org972a952"><a href="#org972a952">高階関数/カリー化</a></h3>
<div class="outline-text-3" id="text-org972a952">
<ul class="org-ul">
<li><code>userLogs</code> 関数を定義。</li>
<li><code>userLogs</code> に引数を渡して <code>logs</code> 関数を定義。</li>
<li><code>logs</code> 関数に値を渡す。すべてのコンソールの先頭に&ldquo;grandpa23&rdquo;が出る。</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">userLogs</span> = userName =&gt; message =&gt;
      console.log(<span class="org-string">`${userName} -&gt; ${message}`</span>);
<span class="org-keyword">const</span> <span class="org-variable-name">log</span> = userLogs(<span class="org-string">"grandpa23"</span>);
log(<span class="org-string">"attempted to load 20 fake members"</span>);
getFakeMembers(20).then(
    members =&gt; log(<span class="org-string">`successfully loaded ${members.length} members`</span>)
).<span class="org-keyword">catch</span>(
    error =&gt; log(<span class="org-string">"encountered an error loading members"</span>)
);
<span class="org-comment-delimiter">// </span><span class="org-comment">grandpa23 -&gt; attempted to load 20 fake members</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">grandpa23 -&gt; successfully loaded 20 members</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">grandpa23 -&gt; attempted to load 20 fake members</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">grandpa23 -&gt; encountered an error loading members</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org74417a6" class="outline-3">
<h3 id="org74417a6"><a href="#org74417a6">reduce</a></h3>
<div class="outline-text-3" id="text-org74417a6">
<p>
配列を単一の値へ変換する。
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">ages</span> = [21, 18, 42, 40, 64, 63, 34];
<span class="org-keyword">const</span> <span class="org-variable-name">maxAge</span> = ages.reduce((max, age) =&gt; {
    console.log(<span class="org-string">`${age} &gt; ${max} = ${age &gt; max}`</span>);
    <span class="org-keyword">if</span> (age &gt; max) {
        <span class="org-keyword">return</span> age;
    } <span class="org-keyword">else</span> {
        <span class="org-keyword">return</span> max;
    }
}, 0);

console.log(<span class="org-string">"maxAge"</span>, maxAge);

<span class="org-comment-delimiter">// </span><span class="org-comment">21 &gt; 0 = true</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">18 &gt; 21 = false</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">42 &gt; 21 = true</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">40 &gt; 42 = false</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">64 &gt; 42 = true</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">63 &gt; 64 = false</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">34 &gt; 64 = false</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">maxAge 64</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org00bac27" class="outline-3">
<h3 id="org00bac27"><a href="#org00bac27">命令形 vs. 宣言型</a></h3>
<div class="outline-text-3" id="text-org00bac27">
<ul class="org-ul">
<li><a href="https://www.oreilly.co.jp/books/9784873119380/">O&rsquo;Reilly Japan - Reactハンズオンラーニング 第2版</a> p39</li>
</ul>
<blockquote>
<p>
関数型プログラミングは、宣言型プログラミングというより大きなプログラミングパラダイムの
一部です。宣言型プログラミングにおいては、「何をするのか」（what）が重要で、「どのようにす
るのか」（how）は重要ではありません。ひたすらwhat を記述することでアプリケーションを構築
するプログラミングのスタイルを宣言型と呼びます。
一方で、従来のプログラミング言語は、結果を得るための手順（how）を記述します。これを命
令型プログラミングと呼びます。
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org7fb626b" class="outline-3">
<h3 id="org7fb626b"><a href="#org7fb626b">export</a></h3>
<div class="outline-text-3" id="text-org7fb626b">
<p>
単一のオブジェクトをエクスポートする場合は、 <code>export default</code> と記述する。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">export</span> <span class="org-keyword">default</span> <span class="org-keyword">new</span> <span class="org-type">Expedition</span>(<span class="org-string">"Mt. Freel"</span>, 2, [<span class="org-string">"water"</span>, <span class="org-string">"snack"</span>]);
</pre>
</div>

<p>
インポート側。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">import</span> freel from <span class="org-string">"./mt-freel"</span>
</pre>
</div>

<p>
エクスポートするときの <code>default</code> キーワードによって、インポートの記述が変わる。
</p>

<p>
commonJSでは <code>require</code> 関数を使う。
</p>
</div>
</div>
<div id="outline-container-org5fa2cf1" class="outline-3">
<h3 id="org5fa2cf1"><a href="#org5fa2cf1">async</a></h3>
<div class="outline-text-3" id="text-org5fa2cf1">
<p>
<code>async</code> 関数は、非同期関数を同期関数のように呼び出せる。
</p>

<p>
エラー処理。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">getFakePerson</span> = <span class="org-keyword">async</span> () =&gt; {
    <span class="org-keyword">try</span> {
        <span class="org-keyword">const</span> <span class="org-variable-name">res</span> = <span class="org-keyword">await</span> fetch(<span class="org-string">"https://api.randomuser.me/?nat=US&amp;results=1"</span>);
        <span class="org-keyword">const</span> { results } = <span class="org-keyword">await</span> res.json();
        console.log(results);
    } <span class="org-keyword">catch</span> (error) {
        console.error(error);
    }
};
</pre>
</div>
<p>
単に関数呼び出しを囲うだけでいい。
</p>
</div>
</div>
<div id="outline-container-orgd632d7b" class="outline-3">
<h3 id="orgd632d7b"><a href="#orgd632d7b">promise method</a></h3>
<div class="outline-text-3" id="text-orgd632d7b">
<p>
非同期のアクセス処理を行う関数。
アクセスに時間がかかる間待ってるのは無駄なので、平行処理させる。
</p>
<div class="org-src-container">
<pre class="src src-javascript">fetch(<span class="org-string">"https://google.com"</span>) <span class="org-comment-delimiter">// </span><span class="org-comment">promise&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#36820;&#12387;&#12390;&#12367;&#12427;&#12384;&#12369;</span>

fetch(<span class="org-string">"https://google.com"</span>).then(res =&gt;
    res.json() <span class="org-comment-delimiter">// </span><span class="org-comment">&#38750;&#21516;&#26399;&#20966;&#29702;&#12375;&#12383;&#32080;&#26524;&#12364;&#36820;&#12387;&#12390;&#12367;&#12427;</span>
)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-javascript">fetch(<span class="org-string">"https://google.com"</span>)
  .then(res =&gt; res.json())
  .then(json =&gt; json.results)
  .then(console.log)
  .<span class="org-keyword">catch</span>(console.error);
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcbf210c" class="outline-3">
<h3 id="orgcbf210c"><a href="#orgcbf210c">spread syntax</a></h3>
<div class="outline-text-3" id="text-orgcbf210c">
<p>
<code>...</code> : スプレッド構文。いくつかの用途がある。
</p>

<ul class="org-ul">
<li>配列の連結に使用される。</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">peaks</span> = [<span class="org-string">"Tallac"</span>, <span class="org-string">"Ralston"</span>, <span class="org-string">"Rose"</span>];
<span class="org-keyword">const</span> <span class="org-variable-name">canyons</span> = [<span class="org-string">"Ward"</span>, <span class="org-string">"Blackwood"</span>];
<span class="org-keyword">const</span> <span class="org-variable-name">tahoe</span> = [...peaks, ...canyons];

console.log(tahoe.join(<span class="org-string">", "</span>)); <span class="org-comment-delimiter">// </span><span class="org-comment">Tallac, Ralston, Rose, Ward, Blackwood</span>
</pre>
</div>

<ul class="org-ul">
<li>配列のコピー作成(イミュータブル)</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">peaks</span> = [<span class="org-string">"Tallac"</span>, <span class="org-string">"Ralton"</span>, <span class="org-string">"Rose"</span>];
<span class="org-keyword">const</span> [<span class="org-variable-name">last</span>] = [...peaks].reverse(); <span class="org-comment-delimiter">// </span><span class="org-comment">peaks&#12364;reverse()&#12391;&#30772;&#22730;&#12377;&#12427;&#12398;&#12434;&#38450;&#12368;&#12383;&#12417;&#12289;&#12467;&#12500;&#12540;&#12434;&#20316;&#25104;&#12377;&#12427;&#12290;&#12381;&#12375;&#12390;&#37197;&#21015;&#12398;&#26368;&#21021;&#12398;&#35201;&#32032;&#12434;last&#12395;&#20195;&#20837;&#12377;&#12427;&#12290;</span>

console.log(last); <span class="org-comment-delimiter">// </span><span class="org-comment">Rose</span>
console.log(peaks.join(<span class="org-string">", "</span>)); <span class="org-comment-delimiter">// </span><span class="org-comment">Tallac, Ralston, Rose =&gt; &#30772;&#22730;&#12375;&#12390;&#12394;&#12356;</span>
</pre>
</div>

<ul class="org-ul">
<li>配列の「残り全部」を表現する</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">num</span> = [1, 2, 3]
<span class="org-keyword">const</span> [first, ...others] = nums;
console.log(others.join(<span class="org-string">", "</span>)); <span class="org-comment-delimiter">// </span><span class="org-comment">2, 3</span>
</pre>
</div>

<ul class="org-ul">
<li>関数の引数を配列として受け取る</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript">funciton directions(...args) {
    <span class="org-keyword">let</span> [start, ...remaining] = args;
    <span class="org-keyword">let</span> [finish, ...stops] = remaining.reverse();

    args.length
    start
    finish
    stops.length
}

directions(<span class="org-string">"Truckee"</span>, <span class="org-string">"Tahoe City"</span>, <span class="org-string">"Sunnyside"</span>) <span class="org-comment-delimiter">// </span><span class="org-comment">&#20219;&#24847;&#12398;&#24341;&#25968;&#12434;&#21463;&#12369;&#21462;&#12428;&#12427;</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
オブジェクトの連結
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">morning</span> = {
  breakfast: <span class="org-string">"oatmeal"</span>,
  lunch: <span class="org-string">"peanut butter and jelly"</span>
};

<span class="org-keyword">const</span> <span class="org-variable-name">dinner</span> = <span class="org-string">"mac and cheese"</span>;
<span class="org-keyword">const</span> <span class="org-variable-name">backpackingMeals</span> = {
  ...morning,
  dinner
};

console.log(backpackingMeals);

<span class="org-comment-delimiter">// </span><span class="org-comment">{</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">breakfast: "oatmeals",</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">lunch: "peanut butter and jelly",</span>
<span class="org-comment-delimiter">//     </span><span class="org-comment">dinner: "mac and cheese"</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">}</span>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org79de167" class="outline-3">
<h3 id="org79de167"><a href="#org79de167">object literal</a></h3>
<div class="outline-text-3" id="text-org79de167">
<p>
変数をオブジェクトのプロパティ名として記述する場合、プロパティ名を省略できる。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">name</span> = <span class="org-string">"Alice"</span>;
<span class="org-keyword">const</span> <span class="org-variable-name">age</span> = 9;

<span class="org-keyword">const</span> <span class="org-variable-name">person</span> = { name, age };
console.log(person); <span class="org-comment-delimiter">// </span><span class="org-comment">{ name: "Alice", age: 9 }</span>
</pre>
</div>

<p>
関数もオブジェクトリテラル内に記述することが可能。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">name</span> = <span class="org-string">"Alice"</span>;
<span class="org-keyword">const</span> <span class="org-variable-name">age</span> = 9;
<span class="org-keyword">const</span> <span class="org-variable-name">print</span> = <span class="org-keyword">function</span>() {
  console.log(<span class="org-string">`${this.name}`</span> is <span class="org-string">`${this.age} years old.`</span>)
}

<span class="org-keyword">const</span> <span class="org-variable-name">person</span> = { name, age, print };
person.print(); <span class="org-comment-delimiter">// </span><span class="org-comment">"Alice is 9 years old."</span>
</pre>
</div>

<p>
オブジェクトリテラル内に関数を記述する際に、functionキーワードを省略できる。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">skier</span> = {
    name,
    sound,
    powderYell() {
        <span class="org-keyword">let</span> <span class="org-variable-name">yell</span> = <span class="org-constant">this</span>.sound.toUpperCase();
        console.log(<span class="org-string">`${yell} ${yell} ${yell}`</span>);
    },
    speed(mph) {
        <span class="org-constant">this</span>.speed = mph;
        console.log(<span class="org-string">"speed:"</span>, mph);
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc9a115b" class="outline-3">
<h3 id="orgc9a115b"><a href="#orgc9a115b">destructuring</a></h3>
<div class="outline-text-3" id="text-orgc9a115b">
<p>
必要なプロパティのみを取捨選択して、代入できる機能。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">aaa</span> = {
    bread: <span class="org-string">"aaa"</span>,
    meat: <span class="org-string">"bbb"</span>,
    cheese: <span class="org-string">"ccc"</span>
};

<span class="org-keyword">const</span> { bread, meat } = sandwitch <span class="org-comment-delimiter">// </span><span class="org-comment">&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#24517;&#35201;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12415;&#12434;&#21462;&#25448;&#36984;&#25246;&#12377;&#12427;</span>
sandwitch <span class="org-comment-delimiter">// </span><span class="org-comment">=&gt; aaa, bbb</span>
</pre>
</div>

<p>
読み飛ばすことも可能。必要な要素のみを取得することをリストマッチングという。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> [, , <span class="org-variable-name">thirdAnimal</span>] = [<span class="org-string">"Horse"</span>, <span class="org-string">"Mouse"</span>, <span class="org-string">"Cat"</span>];

console.log(thirdAnimal); <span class="org-comment-delimiter">// </span><span class="org-comment">Cat</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc17e25f" class="outline-3">
<h3 id="orgc17e25f"><a href="#orgc17e25f">arrow function</a></h3>
<div class="outline-text-3" id="text-orgc17e25f">
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">aaa</span> = (arg) =&gt; <span class="org-string">`return_value: ${arg}`</span>;
</pre>
</div>

<p>
戻り値のオブジェクトを括弧で囲む必要がある。
</p>
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">aaa</span> = (firstName) =&gt; ({
    first: firstName,
    last: lastName
})
</pre>
</div>

<p>
アロー関数は独自のスコープを持たないので、アロー関数の外側と内側でスコープが保持される。
</p>
</div>
</div>
<div id="outline-container-orga13de2a" class="outline-3">
<h3 id="orga13de2a"><a href="#orga13de2a">巻き上げ</a></h3>
<div class="outline-text-3" id="text-orga13de2a">
<p>
関数式は変数宣言の前で呼び出せない。
</p>
<div class="org-src-container">
<pre class="src src-javascript">aaa() <span class="org-comment-delimiter">// </span><span class="org-comment">&#12371;&#12428;&#12399;&#21628;&#12403;&#20986;&#12379;&#12394;&#12356;</span>

<span class="org-keyword">const</span> = aaa = <span class="org-keyword">function</span>() {
  <span class="org-string">"aaa"</span>
}
</pre>
</div>

<p>
関数宣言は宣言の前で呼び出すことができる。(巻き上げ)
</p>
<div class="org-src-container">
<pre class="src src-javascript">bbb() <span class="org-comment-delimiter">// </span><span class="org-comment">&#12371;&#12428;&#12399;&#21628;&#12403;&#20986;&#12379;&#12427;</span>

<span class="org-keyword">function</span> <span class="org-function-name">bbb</span>() {
  <span class="org-string">"bbb"</span>
  }
</pre>
</div>
</div>
</div>
<div id="outline-container-org695c9f5" class="outline-3">
<h3 id="org695c9f5"><a href="#org695c9f5">node</a></h3>
<div class="outline-text-3" id="text-org695c9f5">
<p>
フルスタックアプリケーションを構築するために設計されたJavaScript実行環境。
</p>
</div>
</div>
<div id="outline-container-org1fbc204" class="outline-3">
<h3 id="org1fbc204"><a href="#org1fbc204">npm</a></h3>
<div class="outline-text-3" id="text-org1fbc204">
<p>
Node.jsのパッケージ管理システム。
package.jsonで管理する。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>初期化</label><pre class="src src-shell">npm init
npm init -y <span class="org-comment-delimiter"># </span><span class="org-comment">&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#35373;&#23450;&#12434;&#20351;&#29992;&#12377;&#12427;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org41b73ee" class="outline-3">
<h3 id="org41b73ee"><a href="#org41b73ee">yarn</a></h3>
<div class="outline-text-3" id="text-org41b73ee">
<p>
Node.jsのパッケージ管理システム。
当時npmではできなかった依存パッケージのバージョン固定化のために実装された。
</p>
</div>
</div>
<div id="outline-container-orgd81e398" class="outline-3">
<h3 id="orgd81e398"><a href="#orgd81e398">バージョンを無視してインストール</a></h3>
<div class="outline-text-3" id="text-orgd81e398">
<div class="org-src-container">
<pre class="src src-shell">yarn install --ignore-engines
</pre>
</div>
</div>
</div>
<div id="outline-container-org7908d65" class="outline-3">
<h3 id="org7908d65"><a href="#org7908d65">スプレッド演算子</a></h3>
<div class="outline-text-3" id="text-org7908d65">
<p>
<code>...state</code> といった記法。中身を展開するスプレッド演算子。
<a href="https://stackoverflow.com/questions/31048953/what-does-the-three-dots-notation-do-in-javascript">reactjs - What does the three dots notation do in Javascript? - Stack Overflow</a>
</p>

<p>
↓2つは同じ意味。
</p>
<div class="org-src-container">
<pre class="src src-javascript">&lt;Modal {...<span class="org-constant">this</span>.props} title=<span class="org-string">'Modal heading'</span> animation={<span class="org-constant">false</span>}&gt;
&lt;Modal a={<span class="org-constant">this</span>.props.a} b={<span class="org-constant">this</span>.props.b} title=<span class="org-string">'Modal heading'</span> animation={<span class="org-constant">false</span>}&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org4c19a44" class="outline-3">
<h3 id="org4c19a44"><a href="#org4c19a44">特徴</a></h3>
<div class="outline-text-3" id="text-org4c19a44">
<p>
<a href="https://book.yyts.org/revisiting-javascript/objects-and-classes">JavaScriptのオブジェクトとクラス - サバイバルTypeScript-TypeScript入門</a>
</p>

<blockquote>
<p>
JavaScriptの特徴はオブジェクトリテラル{}という記法を用いて、簡単にオブジェクトを生成できる点です。
</p>

<p>
JavaやPHPなどの言語では、オブジェクトを生成するにはまずクラスを定義し、そのクラスを元にインスタンスを作るのが普通ですが、JavaScriptはクラス定義がなくてもこのようにオブジェクトリテラルを書くと、オブジェクトをインラインで作れます。
オブジェクトリテラルがあるおかげで、JavaScriptでは自由度の高いコードが書けるようになっています。
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-comment-delimiter">// </span><span class="org-comment">&#31354;&#12387;&#12413;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;</span>
<span class="org-keyword">const</span> <span class="org-variable-name">object</span> = {};

<span class="org-comment-delimiter">// </span><span class="org-comment">&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25351;&#23450;&#12375;&#12394;&#12364;&#12425;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;</span>
<span class="org-keyword">const</span> <span class="org-variable-name">person</span> = { name: <span class="org-string">"Bob"</span>, age: 25 };
</pre>
</div>

<dl class="org-dl">
<dt>メソッド</dt><dd>オブジェクトに関連づいた関数のことです。</dd>
</dl>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">object</span> = {
  <span class="org-comment-delimiter">// </span><span class="org-comment">&#12461;&#12540;&#12392;&#20516;&#12395;&#20998;&#12369;&#12390;&#26360;&#12356;&#12383;&#12513;&#12477;&#12483;&#12489;&#23450;&#32681;</span>
  <span class="org-function-name">printHello1</span>: <span class="org-keyword">function</span> () {
    console.log(<span class="org-string">"Hello"</span>);
  },
  <span class="org-comment-delimiter">// </span><span class="org-comment">&#30701;&#12356;&#27083;&#25991;&#12434;&#29992;&#12356;&#12383;&#12513;&#12477;&#12483;&#12489;&#23450;&#32681;</span>
  printHello2() {
    console.log(<span class="org-string">"Hello"</span>);
  },
};
</pre>
</div>

<blockquote>
<p>
JavaやPHPでは、オブジェクトのフィールドとメソッドははっきり区別されます。
一方、JavaScriptではその区別はきっちりしていません。Javaで言うところの
メソッドとフィールドは、JavaScriptでは同じように扱われます。たとえば、
メソッドにnullを代入することで、フィールドに変えてしまうこともできます。
</p>
</blockquote>

<blockquote>
<p>
このようにclassでクラスを定義し、newでインスタンスを生成するスタイルは、
JavaやPHP、Rubyなどと使用感がよく似ています。
</p>

<p>
JavaScriptのクラスの特徴は、クラスもオブジェクトの一種というところです。
オブジェクトとは、プロパティの集合体だと前述しましたが、クラスもオブジェ
クトなのでプロパティの集合体としての性質を持ちます。したがって、定義し
たクラスはプロパティを追加したり、変更したりできます。
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">const</span> <span class="org-variable-name">myObject</span> = {};
myObject.key = <span class="org-string">"value"</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36861;&#21152;</span>
&#8203;<span class="org-keyword">class</span> MyClass {}
MyClass.key = <span class="org-string">"value"</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36861;&#21152;</span>
</pre>
</div>

<p>
ほかの言語ではクラスを後から変更できない。
</p>
<div class="org-src-container">
<pre class="src src-typescript">interface Person {
  name: string;
  age: number;
}
</pre>
</div>

<p>
インターフェースでの型ガードを自前で実装する必要がある。
</p>
<div class="org-src-container">
<pre class="src src-typescript">type UnKnownObject&lt;T extends object&gt; = {
  [P in keyof T]: unknown;
};

function isStudent(obj: unknown): obj is Student {
  if (typeof obj !== 'object') {
    return false;
  }
  if (obj === null) {
    return false;
  }
  const {
    name,
    age,
    grade
  } = obj as UnKnownObject&lt;Student&gt;;
  if (typeof name !== 'string') {
    return false;
  }
  if (typeof age !== 'number') {
    return false;
  }
  if (typeof grade !== 'number') {
    return false;
  }
  return true;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org09305c9" class="outline-3">
<h3 id="org09305c9"><a href="#org09305c9">配列</a></h3>
<div class="outline-text-3" id="text-org09305c9">
<ul class="org-ul">
<li>配列を処理するときはやりたいことに応じて関数を選択します。するとやりたいことが明確になるのでわかりやすくもなります。除去したときは`filter()`、新しい配列を作るときは`map()`という感じです。</li>
</ul>
</div>
</div>
<div id="outline-container-org8b71dc6" class="outline-3">
<h3 id="org8b71dc6"><a href="#org8b71dc6">コールバック関数</a></h3>
<div class="outline-text-3" id="text-org8b71dc6">
<ul class="org-ul">
<li>コールバック関数: 他の関数に引数として渡す関数のことです。</li>
</ul>
<p>
<a href="https://sbfl.net/blog/2019/02/08/javascript-callback-func/">JavaScriptの「コールバック関数」とは一体なんなのか</a>
</p>
</div>
</div>
<div id="outline-container-orgbd7f319" class="outline-3">
<h3 id="orgbd7f319"><a href="#orgbd7f319">Eslint無視の方法</a></h3>
<div class="outline-text-3" id="text-orgbd7f319">
<div class="org-src-container">
<pre class="src src-json">"rules": {
    "comma-dangle": "error",
    "require-yield": "error",
    "no-unused-vars": "off",
    "no-undef": "off",
},
</pre>
</div>

<p>
などと書きます。
</p>
</div>
</div>
<div id="outline-container-org6c2632c" class="outline-3">
<h3 id="org6c2632c"><a href="#org6c2632c">クラスを使わずにモジュール分割する</a></h3>
<div class="outline-text-3" id="text-org6c2632c">
<div class="org-src-container">
<pre class="src src-javascript"><span class="org-keyword">var</span> <span class="org-variable-name">Msg</span> = (<span class="org-keyword">function</span>() {
  <span class="org-keyword">function</span> <span class="org-function-name">test</span>() {
  }
}
Msg.test()
</pre>
</div>
</div>
</div>
<div id="outline-container-org16047cd" class="outline-3">
<h3 id="org16047cd"><a href="#org16047cd">命名の意味</a></h3>
<div class="outline-text-3" id="text-org16047cd">
<ul class="org-ul">
<li><code>_</code> で始まるのはプライベートメソッドです。言語によっては未使用変数ということもあります。</li>
</ul>
</div>
</div>
<div id="outline-container-org8ab8a28" class="outline-3">
<h3 id="org8ab8a28"><a href="#org8ab8a28">関数宣言と関数式</a></h3>
<div class="outline-text-3" id="text-org8ab8a28">
<p>
2つの関数宣言の方法があります。
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-comment-delimiter">// </span><span class="org-comment">&#38306;&#25968;&#23459;&#35328;</span>
<span class="org-keyword">function</span> <span class="org-function-name">hello</span>() {
  <span class="org-keyword">return</span> <span class="org-string">"hello"</span>;
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-comment-delimiter">// </span><span class="org-comment">&#38306;&#25968;&#24335;&#12391;&#38306;&#25968;&#12434;&#23450;&#32681;</span>
<span class="org-keyword">let</span> <span class="org-variable-name">hello</span> = <span class="org-keyword">function</span> () {
    <span class="org-keyword">return</span> <span class="org-string">"hello"</span>;
}; <span class="org-comment-delimiter">//</span><span class="org-comment">&#8592;&#12475;&#12511;&#12467;&#12525;&#12531;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgad177ae" class="outline-3">
<h3 id="orgad177ae"><a href="#orgad177ae">2つの関数式の書き方</a></h3>
<div class="outline-text-3" id="text-orgad177ae">
<p>
関数式には2つの書き方があります。
</p>

<div class="org-src-container">
<pre class="src src-javascript"><span class="org-comment-delimiter">// </span><span class="org-comment">function&#24335;&#12434;&#29992;&#12356;&#12383;&#38306;&#25968;&#24335;</span>
<span class="org-keyword">const</span> <span class="org-variable-name">hello</span> = <span class="org-keyword">function</span> (<span class="org-variable-name">name</span>) {
  <span class="org-keyword">return</span> <span class="org-string">`Hello, ${name}!`</span>;
};

<span class="org-comment-delimiter">// </span><span class="org-comment">&#12450;&#12525;&#12540;&#38306;&#25968;&#12398;&#38306;&#25968;&#24335;</span>
<span class="org-keyword">const</span> <span class="org-variable-name">hello</span> = (name) =&gt; {
  <span class="org-keyword">return</span> <span class="org-string">`Hello, ${name}!`</span>;
};
</pre>
</div>

<p>
短く書けるのでアロー関数が好まれます。
</p>
</div>
</div>
<div id="outline-container-org59f81b3" class="outline-3">
<h3 id="org59f81b3"><a href="#org59f81b3">NodeList</a></h3>
<div class="outline-text-3" id="text-org59f81b3">
<ul class="org-ul">
<li>NodeList - <a href="https://developer.mozilla.org/ja/docs/Web/API/NodeList">https://developer.mozilla.org/ja/docs/Web/API/NodeList</a></li>
<li>text node: タグに囲まれたもの。 <code>&lt;p&gt;これ&lt;/p&gt;。</code></li>
<li>element node: <code>&lt;p&gt;や、&lt;/p&gt;</code></li>
<li>DOMツリー: ブラウザがアクセスしてHTMLを解析すると文書の内容を表すオブジェクトのツリー構造が構築されます。これがDOMツリーです。DOMツリーを形成する1つ1つのオブジェクトがノードです。さらに子のオブジェクトを持っている可能性があります。</li>
</ul>
<p>
<a href="https://qiita.com/KDE_SPACE/items/e21bb31dd4d9c162c4a6">https://qiita.com/KDE_SPACE/items/e21bb31dd4d9c162c4a6</a>
</p>
</div>
</div>
<div id="outline-container-orgfab8bf8" class="outline-3">
<h3 id="orgfab8bf8"><a href="#orgfab8bf8">package.json</a></h3>
<div class="outline-text-3" id="text-orgfab8bf8">
<p>
パッケージを理解するために不可欠です。
</p>
</div>
<div id="outline-container-orgf6f966e" class="outline-4">
<h4 id="orgf6f966e"><a href="#orgf6f966e">scripts</a></h4>
<div class="outline-text-4" id="text-orgf6f966e">
<p>
makeのようなもの。
</p>
<div class="org-src-container">
<pre class="src src-shell">npm run &lt;&#12479;&#12473;&#12463;&#21517;&gt;
</pre>
</div>
<p>
で実行できる。
</p>

<div class="org-src-container">
<pre class="src src-json">"scripts": {
    "build": "NODE_ENV=production babel src --out-dir lib --source-maps",
    "watch": "babel src --out-dir lib --watch --source-maps",
    "prepublish": "npm run --if-present build",
    "test": "mocha --require @babel/register test/*test.js"
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org50e4f28" class="outline-4">
<h4 id="org50e4f28"><a href="#org50e4f28">files</a></h4>
<div class="outline-text-4" id="text-org50e4f28">
<p>
npm installされたときに展開されるファイル、実行されるファイルを指定する。
</p>

<div class="org-src-container">
<pre class="src src-json">"main": "lib/index.js",
"files": [
    "lib",
    "src"
],
</pre>
</div>

<p>
srcをコンパイルしてlibに格納、パッケージとしてはこちらを使用する、みたいなことを指定する。はず。
</p>
</div>
</div>
<div id="outline-container-orgb4d52c0" class="outline-4">
<h4 id="orgb4d52c0"><a href="#orgb4d52c0">GitHubリポジトリから読み込むとき</a></h4>
<div class="outline-text-4" id="text-orgb4d52c0">
<div class="org-src-container">
<pre class="src src-shell">npm install git@github.com:kijimaD/textlint-plugin-org#develop
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4256cc5" class="outline-3">
<h3 id="org4256cc5"><a href="#org4256cc5">.babelrc</a></h3>
<div class="outline-text-3" id="text-org4256cc5">
<p>
babelの設定。presetは使うbabelと合わせる必要がある。
</p>
<div class="org-src-container">
<pre class="src src-json">{
  "presets": [
      "@babel/preset-env"
  ],
  "env": {
    "development": {
      "presets": [
          "jsdoc-to-assert",
          "power-assert"
      ]
    }
  }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgffb8be2" class="outline-3">
<h3 id="orgffb8be2"><a href="#orgffb8be2">.eslintrc</a></h3>
<div class="outline-text-3" id="text-orgffb8be2">
</div>
<div id="outline-container-orgbf3cca5" class="outline-4">
<h4 id="orgbf3cca5"><a href="#orgbf3cca5">extends</a></h4>
<div class="outline-text-4" id="text-orgbf3cca5">
<p>
事前にnode i airbnb-baseしておいて
.eslintrcに追加するとルールセットを追加できる。
</p>
<div class="org-src-container">
<pre class="src src-json">"extends": "airbnb-base",
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org082cde7" class="outline-3">
<h3 id="org082cde7"><a href="#org082cde7">パッケージ関連の言葉</a></h3>
<div class="outline-text-3" id="text-org082cde7">
<p>
ややこしい。
</p>
</div>
<div id="outline-container-org20c34f3" class="outline-4">
<h4 id="org20c34f3"><a href="#org20c34f3">npm パッケージマネージャ</a></h4>
<div class="outline-text-4" id="text-org20c34f3">
<p>
package.jsonに書かれた設定でいろいろ実行。
パッケージインストール、アップデート、タスク実行、などいろいろ。
パッケージをインストールするときには、これが実行されてコンパイルされて使える状態になってたりする。
</p>

<div class="org-src-container">
<pre class="src src-shell">npm i
</pre>
</div>

<p>
パッケージ内のコマンドを実行する。おそらくbundle execとかと同じ。
</p>

<div class="org-src-container">
<pre class="src src-shell">npx lint
</pre>
</div>
</div>
</div>
<div id="outline-container-org19d60b8" class="outline-4">
<h4 id="org19d60b8"><a href="#org19d60b8">node 実行環境</a></h4>
<div class="outline-text-4" id="text-org19d60b8">
<div class="org-src-container">
<pre class="src src-shell">node <span class="org-comment-delimiter"># </span><span class="org-comment">repl&#36215;&#21205;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">node -v
</pre>
</div>

<p>
本体をバージョンアップしても反映されないときは実行場所を確認する。
nでバージョンしても、読んでるのはnvmだったりする。.bash_profileなどを確認。
</p>
</div>
</div>
</div>
<div id="outline-container-org4e60183" class="outline-3">
<h3 id="org4e60183"><a href="#org4e60183">便利コマンド</a></h3>
<div class="outline-text-3" id="text-org4e60183">
<p>
ファイルに更新があったらテスト実行する。超便利。
</p>
<div class="org-src-container">
<pre class="src src-shell">npm test -- --watch
</pre>
</div>
</div>
</div>
<div id="outline-container-org800d2bb" class="outline-3">
<h3 id="org800d2bb"><a href="#org800d2bb">npm publishのやりかた</a></h3>
<div class="outline-text-3" id="text-org800d2bb">
<ul class="org-ul">
<li>npm publishはローカルのファイルをアップロードして公開するので、ブランチ、 <code>git status</code> に気をつける。</li>
</ul>

<div class="org-src-container">
<pre class="src src-javascript"># &#12479;&#12464;&#20184;&#12369;&#12392;&#12467;&#12511;&#12483;&#12488;&#12434;&#34892;&#12358;&#12290;package.json&#12418;&#26356;&#26032;&#12373;&#12428;&#12427;&#12290;
npm login
npm version [ major | minor | patch ]
npm publish
git push --follow-tags
</pre>
</div>

<ul class="org-ul">
<li><a href="https://qiita.com/akameco/items/de7718c6e10dc22be5b0">npm publishの流れとそれを1コマンド行うnp - Qiita</a></li>
<li><a href="https://ja.wikipedia.org/wiki/%E3%82%BB%E3%83%9E%E3%83%B3%E3%83%86%E3%82%A3%E3%83%83%E3%82%AF%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0">セマンティックバージョニング - Wikipedia</a></li>
<li><a href="https://semver.org/lang/ja/">セマンティック バージョニング 2.0.0 | Semantic Versioning</a></li>
<li><a href="https://github.com/semver/semver">semver/semver: Semantic Versioning Specification</a></li>
</ul>
</div>
</div>
<div id="outline-container-org8e8856f" class="outline-3">
<h3 id="org8e8856f"><a href="#org8e8856f">DOM操作</a></h3>
<div class="outline-text-3" id="text-org8e8856f">
<ul class="org-ul">
<li><a href="https://qiita.com/uhyo/items/1c565b61d934cbb88c2e#rangesurroundcontents">全部言えたらDOMマスター！　HTML+DOMでノードを挿入する方法大全 - Qiita</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org40509d8" class="outline-2">
<h2 id="org40509d8"><a href="#org40509d8">Tasks</a></h2>
<div class="outline-text-2" id="text-org40509d8">
</div>
<div id="outline-container-orge875be1" class="outline-3">
<h3 id="orge875be1"><a href="#orge875be1"><span class="todo TODO">TODO</span> <a href="https://jsprimer.net/basic/ecmascript/">ECMAScript · JavaScript Primer #jsprimer</a></a></h3>
<div class="outline-text-3" id="text-orge875be1">
<p>
ECMAScriptの仕様策定プロセス。
</p>
</div>
</div>
<div id="outline-container-orgc4bd78c" class="outline-3">
<h3 id="orgc4bd78c"><a href="#orgc4bd78c"><span class="todo TODO">TODO</span> <a href="https://github.com/azu/large-scale-javascript">azu/large-scale-javascript: 複雑なJavaScriptアプリケーションを作るために考えること</a></a></h3>
<div class="outline-text-3" id="text-orgc4bd78c">
<p>
規模によって考えること。
</p>
</div>
</div>
<div id="outline-container-orgad3f84b" class="outline-3">
<h3 id="orgad3f84b"><a href="#orgad3f84b"><span class="todo TODO">TODO</span> ネストしたコードの解消方法</a></h3>
<div class="outline-text-3" id="text-orgad3f84b">
<p>
やたらネストして大きな関数になりがち。
どうやって解消すればよいのだろう。
</p>
</div>
</div>
<div id="outline-container-org6ac3d34" class="outline-3">
<h3 id="org6ac3d34"><a href="#org6ac3d34"><span class="todo TODO">TODO</span> 実際にinstallしてCIで確かめる</a></h3>
<div class="outline-text-3" id="text-org6ac3d34">
<p>
プラグイン本体でテストしてるが、実際にnpm installするわけではないので依存パッケージ検知できないことがある。
ローカルでクリーンインストールでもglobalにインストールしてたりしてるので検知できないのだろう。
</p>
</div>
</div>
</div>
<div id="outline-container-org6a98c5f" class="outline-2">
<h2 id="org6a98c5f"><a href="#org6a98c5f">References</a></h2>
<div class="outline-text-2" id="text-org6a98c5f">
</div>
<div id="outline-container-orge472716" class="outline-3">
<h3 id="orge472716"><a href="#orge472716"><a href="https://www.fundely.co.jp/blog/tech/2019/10/09/180017/">Webで3Dモデルを扱いたい |</a></a></h3>
<div class="outline-text-3" id="text-orge472716">
<p>
WebGLによる3Dモデルの概要。
</p>
</div>
</div>
<div id="outline-container-org1e7672b" class="outline-3">
<h3 id="org1e7672b"><a href="#org1e7672b"><a href="https://azu.github.io/JavaScript-Plugin-Architecture/">この書籍について · JavaScript Plugin Architecture</a></a></h3>
<div class="outline-text-3" id="text-org1e7672b">
<p>
プラグインのアーキテクチャに関する本。
</p>
</div>
</div>
<div id="outline-container-orgb19cf61" class="outline-3">
<h3 id="orgb19cf61"><a href="#orgb19cf61"><a href="https://www.oreilly.co.jp/books/9784873119380/">O&rsquo;Reilly Japan - Reactハンズオンラーニング 第2版</a></a></h3>
</div>
<div id="outline-container-org0132b2c" class="outline-3">
<h3 id="org0132b2c"><a href="#org0132b2c"><a href="https://jsprimer.net/">JavaScript Primer - 迷わないための入門書 #jsprimer</a></a></h3>
</div>
<div id="outline-container-org105d6a5" class="outline-3">
<h3 id="org105d6a5"><a href="#org105d6a5"><a href="https://book.yyts.org/">https://book.yyts.org/</a></a></h3>
</div>
<div id="outline-container-org000b176" class="outline-3">
<h3 id="org000b176"><a href="#org000b176"><a href="https://future-architect.github.io/typescript-guide/index.html">https://future-architect.github.io/typescript-guide/index.html</a></a></h3>
</div>
<div id="outline-container-orgf8cd60c" class="outline-3">
<h3 id="orgf8cd60c"><a href="#orgf8cd60c"><a href="http://wiki.c2.com/?DeclarativeProgramming">Declarative Programming</a></a></h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"/>
</div>
</body>
</html>
