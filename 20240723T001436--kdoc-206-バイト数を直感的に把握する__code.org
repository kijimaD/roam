:properties:
:ID: 20240723T001436
:end:
#+title:      KDOC 206: バイト数を直感的に把握する
#+date:       [2024-07-23 Tue 00:14]
#+filetags:   :code:
#+identifier: 20240723T001436

* この文書のステータス
- 作成
  - [X] 2024-07-30 貴島
- レビュー
  - [X] 2024-08-01 貴島

* 概要

[[id:3f07fe5f-95c8-4824-86ae-3cc616f787d3][CPU]]まわりの本を読んでいると、よく1バイト分確保して〜という文章が出てくる。そのたびにちょっと考えて進数変換しているので、覚えて感覚でやるようにする。

1バイト。

- (2進数) 8桁で1バイト ~1000 1110~
- (16進数) 2桁で1バイト ~8E~
- ASCIIコードでは1バイトで1文字を表す
  - 「A」 → ~41~ , 「1」 → ~31~

2バイト。

- (2進数) ~1001 0000 1000 1110~
- (16進数) ~908E~

3バイト。

- (2進数) ~1110 0110 1000 0100 1001 1011~
- (16進数) ~E6849B~
- UTF-8エンコードは1〜4バイトの可変長コードである。多くの日本語は3バイトで表現される
  - 「あ」 → ~E3 81 82~ , 「愛」 → ~E6849B~
- RGBカラーコードは、各色1バイトの合計3バイトで表現する
  - ~`FF FF FF~ (白)
  - [[https://ja.wikipedia.org/wiki/%E3%82%AB%E3%83%A9%E3%83%BC%E3%82%B3%E3%83%BC%E3%83%89][カラーコード - Wikipedia]]
  - [[https://ja.wikipedia.org/wiki/%E3%82%A6%E3%82%A7%E3%83%96%E3%82%AB%E3%83%A9%E3%83%BC][ウェブカラー - Wikipedia]]

* 確認方法

確かめてみると手っ取り早い。

#+caption: 調べる方法1。-nは末尾に改行を出さないオプション
#+begin_src shell :results raw
echo -n "愛" | hexdump -C
#+end_src

#+RESULTS:
#+begin_src
00000000  e6 84 9b                                          |...|
00000003
#+end_src

#+caption: 調べる方法2
#+begin_src shell :results raw
echo -n "ABCD" | xxd
#+end_src

#+RESULTS:
#+begin_src
00000000: 4142 4344                                ABCD
#+end_src

* 関連
- [[id:20240320T195316][KDOC 126: xxdでファイルをバイナリで見る]]。バイナリを確認する方法が共通している
