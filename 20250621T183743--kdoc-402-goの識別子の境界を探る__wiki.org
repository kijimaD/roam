:properties:
:ID: 20250621T183743
:mtime:    20250629200141
:ctime:    20250621183747
:end:
#+title:      KDOC 402: Goã®è­˜åˆ¥å­ã®å¢ƒç•Œã‚’æ¢ã‚‹
#+date:       [2025-06-21 Sat 18:37]
#+filetags:   :wiki:
#+identifier: 20250621T183743

* ã“ã®æ–‡æ›¸ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- ä½œæˆ
  - [X] 2025-06-21 è²´å³¶
- ãƒ¬ãƒ“ãƒ¥ãƒ¼
  - [X] 2025-06-29 è²´å³¶

* æ¦‚è¦

å¤šãã®ç¾ä»£çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã¯è­˜åˆ¥å­ã«Unicodeã®æ–‡å­—(ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆ)ã‚’ä½¿ãˆã‚‹ã¨ã„ã†ã“ã¨ã‚’çŸ¥ã£ã¦ã„ãŸãŒã€ã¡ã‚ƒã‚“ã¨Goã®ä»•æ§˜ã‚’èª¿ã¹ãŸã“ã¨ã¯ãªã‹ã£ãŸã€‚ç¢ºèªã™ã‚‹ã€‚

æœ€åˆã«ã€ä½•ã‚‚èª¿ã¹ãšã«å®Ÿè¡Œã—ã¦ã¿ã¦ç¢ºã‹ã‚ã¦ã¿ã‚‹ã€‚é•å’Œæ„ŸãŒã™ã”ã„ãŒã€è‹±èªãƒã‚¤ãƒ†ã‚£ãƒ–ãŒè¦‹ã¦ã„ã‚‹ã®ã¯ã“ã†ã„ã†æ™¯è‰²ãªã®ã ã‚ã†ã€‚

#+caption: ã™ã¹ã¦æ­£ã—ã„ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã€‚ãƒ“ãƒ«ãƒ‰ã€å®Ÿè¡Œã§ãã‚‹
#+begin_src go
  import "fmt"
  func main() {
          // å¤‰æ•°åã«æ—¥æœ¬èªãŒä½¿ãˆã‚‹
          ã‚ := "a"
          fmt.Println(ã‚)

          // é–¢æ•°åã«æ—¥æœ¬èªãŒä½¿ãˆã‚‹
          æ¼¢å­—()

          // å‹åã«æ—¥æœ¬èªãŒä½¿ãˆã‚‹
          type åœ°å struct {}
          var æ±Ÿæˆ¸å·æ©‹ åœ°å
          fmt.Println(æ±Ÿæˆ¸å·æ©‹)
  }

  func æ¼¢å­—() {}
#+end_src

#+RESULTS:
#+begin_src
a
{}
#+end_src

èª¿ã¹ã¦ã¿ã‚‹ã€‚

[[https://go.dev/ref/spec#letter][è¨€èªä»•æ§˜æ›¸]]ã«ã‚ˆã‚‹ã¨ã€è­˜åˆ¥å­(~identifier~)ã®å®šç¾©ã¯ã“ã†ã ã€‚å‡ºã¦ããŸ ~letter~, ~unicode_letter~ ã‚‚è¾¿ã£ã¦èª¿ã¹ãŸã€‚

#+caption: identifierã®å®šç¾©
#+begin_src code
  identifier = letter { letter | unicode_digit } .
  letter     = unicode_letter | "_" .
  unicode_letter = /* a Unicode code point categorized as "Letter" */ .
#+end_src

ã“ã“ã‹ã‚‰ã‚ã‹ã‚‹ã“ã¨ã€è€ƒå¯Ÿã€‚

- Unicodeã«ã¯ã‚«ãƒ†ã‚´ãƒªã¨ã„ã†æ¦‚å¿µãŒã‚ã‚‹ã€‚letter(æ–‡å­—), mark(çµåˆè¨˜å·), number(æ•°å­—), punctuation(å¥èª­ç‚¹), ...
  - çµåˆè¨˜å·ã¯ã‚¢ã‚¯ã‚»ãƒ³ãƒˆè¨˜å·ã®ã‚ˆã†ã«ã€ã»ã‹ã®æ–‡å­—ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†è¨˜å·ã®ã“ã¨ã§ã‚ã‚‹
  - ãŸã¨ãˆã°æ¼¢å­—ã¯letterã®ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªotherã«å±ã™ã‚‹
- è­˜åˆ¥å­ã®å…ˆé ­ã«letterã‚«ãƒ†ã‚´ãƒªã®æ–‡å­—ãŒã‚ã‚Œã°ã€ã‚ã¨ã¯ãªã‚“ã§ã‚‚ã„ã„ã€‚é€†ã«ã„ãˆã°ã€çµåˆè¨˜å·ã€æ•°å­—ã€å¥èª­ç‚¹ã€...ã‹ã‚‰é–‹å§‹ã§ããªã„
- ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ ~_~ ã¯å¥èª­ç‚¹ã‚«ãƒ†ã‚´ãƒªã®æ–‡å­—ã§ã‚ã‚‹ã€‚ä¾‹å¤–çš„ã«letterã¨ã—ã¦è¨±å®¹ã•ã‚Œã¦ã„ã‚‹
  - è‡ªç„¶ã«ä½¿ã£ã¦ã„ã¦ã€å…¨ãæ„è­˜ã—ã¦ãªã‹ã£ãŸ

ä»¥ä¸Šã‹ã‚‰ã€ç„¡åŠ¹ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è©¦ã—ãŸ[fn:1]ã€‚

#+caption: çµåˆè¨˜å·ã€æ•°å­—ã€å¥èª­ç‚¹ã€...ã‹ã‚‰é–‹å§‹ã§ããªã„
#+begin_src shell :results output
  tmpfile=$(mktemp /tmp/tmpgo.XXXXXX.go)

  cat > $tmpfile <<EOF
  package main

  func main() {
    // å…ˆé ­ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆè¨˜å·ã¯ä¸å¯
    â—ŒÌ€ := "ã‚"
    print(â—ŒÌ€)

    // å…ˆé ­ã®æ•°å­—ã¯ä¸å¯
    ï¼™ := "ã‚"
    print(ï¼™)

    // å…ˆé ­ã®æ¼¢æ•°å­—ã¯letteræ‰±ã„ãªã®ã§å•é¡Œãªã„
    ä¹ := "ã‚"
    print(ä¹)

    // å…ˆé ­ã®å¥èª­ç‚¹ã¯ä¸å¯
    ã€ := "ã‚"
    print(ã€)

    // å…ˆé ­ã®ã‚·ãƒ³ãƒœãƒ«ã¯ä¸å¯
    ğŸ‘ := "ã‚"
    print(ğŸ‘)
  }
  EOF

  go run $tmpfile 2>&1
  rm $tmpfile
#+end_src

#+RESULTS:
#+begin_src
/tmp/tmpgo.FO1KQz.go:5:3: invalid character U+25CC 'â—Œ' in identifier
/tmp/tmpgo.FO1KQz.go:5:6: invalid character U+0300 'Ì€' in identifier
/tmp/tmpgo.FO1KQz.go:6:9: invalid character U+25CC 'â—Œ' in identifier
/tmp/tmpgo.FO1KQz.go:6:12: invalid character U+0300 'Ì€' in identifier
/tmp/tmpgo.FO1KQz.go:9:3: identifier cannot begin with digit U+FF19 'ï¼™'
/tmp/tmpgo.FO1KQz.go:10:9: identifier cannot begin with digit U+FF19 'ï¼™'
/tmp/tmpgo.FO1KQz.go:17:3: invalid character U+3001 'ã€' in identifier
/tmp/tmpgo.FO1KQz.go:18:9: invalid character U+3001 'ã€' in identifier
/tmp/tmpgo.FO1KQz.go:21:3: invalid character U+1F44D 'ğŸ‘' in identifier
/tmp/tmpgo.FO1KQz.go:22:9: invalid character U+1F44D 'ğŸ‘' in identifier
/tmp/tmpgo.FO1KQz.go:22:9: too many errors
#+end_src

èª¿ã¹ã‚‹å‰ã®èªè­˜ã¯ã€æ­£ç¢ºã§ã¯ãªã‹ã£ãŸã®ãŒã‚ã‹ã£ãŸã€‚

* é–¢é€£
- [[https://en.wikipedia.org/wiki/Unicode_character_property][Unicode character property - Wikipedia]]ã€‚ã‚«ãƒ†ã‚´ãƒªè¡¨ã‚’å‚è€ƒã«ã—ãŸ
- [[https://go.dev/ref/spec#letter][The Go Programming Language Specification]]ã€‚Goã®è¨€èªä»•æ§˜æ›¸

* Footnotes

[fn:1] org-babelã§æ¨™æº–ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™ãŸã‚ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰å®Ÿè¡Œã—ã¦ã„ã‚‹ã€‚
