<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-09-14 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Go</title>
<meta name="generator" content="Org mode">
<meta name="author" content="root">
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' /><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Ultra&display=swap" rel="stylesheet"><link rel='stylesheet' href='css/site.css' /><link rel='stylesheet' href='css/code.css' />
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content">
<h1 class="title">Go</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5ddf075">概要</a></li>
<li><a href="#org363a336">Memo</a>
<ul>
<li><a href="#org7239043">基本事項</a></li>
<li><a href="#org9a43204">基本コマンド</a></li>
<li><a href="#org90cc67b">Emacsでの実行方法</a></li>
</ul>
</li>
<li><a href="#orgd2d4576">Tasks</a>
<ul>
<li><a href="#org6722f59"><span class="todo TODO">TODO</span> 改訂2版 基礎からわかる Go言語 | 古川昇 | 工学 | Kindleストア | Amazon</a></li>
<li><a href="#org1af3c19"><span class="todo TODO">TODO</span> 「テスタビリティの高いGoのAPIサーバを開発しよう」というハンズオンを公開しました - DeNA Testing Blog</a></li>
<li><a href="#org98c2a0a"><span class="todo TODO">TODO</span> Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></li>
<li><a href="#org00eb986"><span class="todo TODO">TODO</span> Client | Docker Code Walk</a></li>
<li><a href="#org92a7a64"><span class="todo TODO">TODO</span> NuxtとGoではじめるWebアプリ開発【委託】 - 達人出版会</a></li>
<li><a href="#org0e9ef08"><span class="todo TODO">TODO</span> スターティングgRPC【委託】 - 達人出版会</a></li>
<li><a href="#org4f9dea4"><span class="todo TODO">TODO</span> エキスパートたちのGo言語 一流のコードから応用力を学ぶ | Gihyo Digital Publishing … 技術評論社の電子書籍</a></li>
<li><a href="#orgb9938f8"><span class="todo TODO">TODO</span> 改訂2版 みんなのGo言語 | Gihyo Digital Publishing … 技術評論社の電子書籍</a></li>
<li><a href="#org9be6aa4"><span class="todo TODO">TODO</span> Goプログラミング実践入門 標準ライブラリでゼロからWebアプリを作る【委託】 - 達人出版会</a></li>
<li><a href="#org91b3e9a"><span class="todo TODO">TODO</span> O&rsquo;Reilly Japan - Go言語でつくるインタプリタ</a></li>
<li><a href="#org55adf09"><span class="todo TODO">TODO</span> 詳解Go言語Webアプリケーション開発｜Tech Book Zone Manatee</a></li>
<li><a href="#orgf6a83ca">Go Design Patterns</a></li>
<li><a href="#org737ba1a">Cloud Native Go</a></li>
<li><a href="#orgd183caf">Go and Go-Moku The Oriental Board Games</a></li>
<li><a href="#orgc8030cf">Mastering Go Create Golang production applications using network libraries, concurrency, and advanced Go data structures</a></li>
<li><a href="#org64c97ee">RESTful Go APIs Design und Implementierung leichtgewichtiger Hypermedia Services</a></li>
<li><a href="#org8e5d998">Hands-On System Programming with Go</a></li>
<li><a href="#orgcbbae68">Powerful Command-Line Applications in Go</a></li>
<li><a href="#org0cdf9a1">Build an Orchestrator in Go</a></li>
<li><a href="#org8d5789a">The Docker Book</a></li>
</ul>
</li>
<li><a href="#org15499c4">Reference</a>
<ul>
<li><a href="#orgfbdd761">The Go Programming Language Specification - The Go Programming Language</a></li>
</ul>
</li>
<li><a href="#org959a98e">Archives</a>
<ul>
<li><a href="#org239e36c"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></li>
<li><a href="#orga9b279e"><span class="done DONE">DONE</span> Go言語を楽しむ5つのレシピ コタツと蜜柑とゴーファーとわたし【委託】 - 達人出版会</a></li>
<li><a href="#org5211b1f"><span class="done DONE">DONE</span> A Tour of Go</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org5ddf075" class="outline-2">
<h2 id="org5ddf075"><a href="#org5ddf075">概要</a></h2>
<div class="outline-text-2" id="text-org5ddf075">
<p>
Go言語はGoogleによって開発された<a href="20210509101246-programming_language.html#ID-868ac56a-2d42-48d7-ab7f-7047c85a8f39">Programming Language</a>。<a href="20210805005543-docker.html#ID-1658782a-d331-464b-9fd7-1f8233b8b7f8">Docker</a>はGoで書かれている。シンプルさをコンセプトにしている。シンプルすぎて必要な機能が足りてない、という批判もあるくらい。
</p>
</div>
</div>
<div id="outline-container-org363a336" class="outline-2">
<h2 id="org363a336"><a href="#org363a336">Memo</a></h2>
<div class="outline-text-2" id="text-org363a336">
</div>
<div id="outline-container-org7239043" class="outline-3">
<h3 id="org7239043"><a href="#org7239043">基本事項</a></h3>
<div class="outline-text-3" id="text-org7239043">
<ul class="org-ul">
<li>Goでは、最初の文字が大文字で始まる名前は、外部のパッケージから参照できるエクスポートされた名前。例えばPiはmathパッケージでエクスポートされる</li>
</ul>

<div class="org-src-container">
<pre class="src src-go">package main
import (
        "fmt"
        "math"
)
func main() {
        fmt.println(Math.pi)
}
</pre>
</div>

<ul class="org-ul">
<li>変数が存在するメモリ上の位置を「アドレス」といい、そのアドレスを格納可能な変数を「ポインタ」という</li>
<li><code>int</code> 型変数のアドレスを格納できるポインタの型は <code>*int</code> 型というように、アスタリスクをつける</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>ポインタ</label><pre class="src src-go">var ptr *int
var i int = 12345
ptr = &amp;i

fmt.Println("iのアドレス:", &amp;i)
fmt.Println("ptrの値(変数iのアドレス):", ptr)

fmt.Println("iの値:", i)
fmt.Println("ポインタ経由のiの値:", *ptr)

*ptr = 999
fmt.Println("ポインタ経由で変更したiの値:", i)
</pre>
</div>

<div class="results" id="org662930e">
<p>
iのアドレス: 0xc0000b6010
ptrの値(変数iのアドレス): 0xc0000b6010
iの値: 12345
ポインタ経由のiの値: 12345
ポインタ経由で変更したiの値: 999
</p>

</div>

<div class="org-src-container">
<pre class="src src-go">func main() {
        a, b := 1, 1

        double(a, &amp;b)
        fmt.Println("値渡し:", a)
        fmt.Println("ポインタ渡し:", b)
}

func double(x int, y *int) {
        x = x * 2
        *y = *y * 2
}
</pre>
</div>

<div class="results" id="org932723d">
<p>
値渡し: 1
ポインタ渡し: 2
</p>

</div>

<p>
関数リテラル。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>関数リテラル = 無名関数</label><pre class="src src-go">func main() {
        val := 123

        // 関数リテラルの記述と呼び出しを同時に行う
        func(i int) {
                // 関数リテラル外の変数valにアクセス可能
                fmt.Println(i * val)
        }(10)

        // 関数リテラルを変数に代入
        f := func(s string) {
                fmt.Println(s)
        }

        f("hoge")
}
</pre>
</div>

<div class="results" id="org8a6d209">
<p>
1230
hoge
</p>

</div>

<p>
関数型。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>代入して呼び出す</label><pre class="src src-go">func main() {
        // 関数型の変数宣言
        var f func(int, int) int

        // 関数リテラルの値を代入
        f = func(a int, b int) int {
                return a + b
        }

        // 関数型の変数経由で関数を呼び出す
        fmt.Println(f(1, 2))


        // 関数型の変数に値を代入
        f = multiply

        // 関数型の変数経由で関数を呼び出す
        fmt.Println(f(1, 2))
}

func multiply(x int, y int) int {
        return x * y
}
</pre>
</div>

<div class="results" id="org858474d">
<p>
3
2
</p>

</div>

<p>
メソッドの宣言。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>型に実装する</label><pre class="src src-go">type myType int

// myType型をレシーバに持つ関数、すなわちmyType型のメソッドを宣言。レシーバは一番最初に書く
func (value myType) println() {
        fmt.Println(value)
}

func main() {
        // myType型の変数を宣言する
        var z myType = 1234

        // myType型のメソッドを呼び出す
        z.println()
}
</pre>
</div>

<div class="results" id="orge73434d">
<p>
1234
</p>

</div>

<p>
メソッドのレシーバをポインタにする。
</p>

<div class="org-src-container">
<pre class="src src-go">// int型
type myType int

func (value myType) setByValue(newValue myType) {
        // ここで値を代入しても無意味。Valueはコピーされるので
        value = newValue
}

func(value *myType) setByPointer(newValue myType) {
        // 代入した値が反映される
        *value = newValue
}
func main() {
        var x myType = 0

        // レシーバは値。値は変更できない
        x.setByValue(1)
        fmt.Println("値: 0 -&gt;", x)

        // レシーバはポインタ。値は変更できる
        x.setByPointer(2)
        fmt.Println("ポインタ: 0 -&gt;", x)
}

</pre>
</div>

<div class="results" id="org8e32aa0">
<p>
値: 0 -&gt; 0
ポインタ: 0 -&gt; 2
</p>

</div>

<p>
構造体型に名前をつける。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>構造体にMyDataという新しい型名を与える</label><pre class="src src-go">type MyData struct {
      s string
      b byte
}
</pre>
</div>

<div class="results" id="org1e26178">

</div>

<ul class="org-ul">
<li>メソッドの宣言には値レシーバ、ポインタレシーバの2つがある。混在させるべきではない
<ul class="org-ul">
<li>変数レシーバではメソッドの操作は元の変数のコピーを操作する</li>
<li>ポインタレシーバでは、ポインタを使うので元の変数を変更できる</li>
</ul></li>
<li>ポインタレシーバを使う2つの理由
<ul class="org-ul">
<li>メソッドがレシーバが指す先の変数を変更するため</li>
<li>メソッドの呼び出し毎に変数のコピーを避けるため</li>
</ul></li>
</ul>

<p>
匿名フィールド
</p>
</div>
</div>

<div id="outline-container-org9a43204" class="outline-3">
<h3 id="org9a43204"><a href="#org9a43204">基本コマンド</a></h3>
<div class="outline-text-3" id="text-org9a43204">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>ビルド+実行</label><pre class="src src-shell">go run hello.go
</pre>
</div>

<p>
<a href="20210508234743-emacs.html#ID-1ad8c3d5-97ba-4905-be11-e6f2626127ad">Emacs</a> dap-modeでデバッガ起動。行の横をクリックしてブレークポイントをセットしたのち、コマンド実行。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 7: </span>デバッグ実行</label><pre class="src src-emacs-lisp">M-x dap-debug
</pre>
</div>
</div>
</div>

<div id="outline-container-org90cc67b" class="outline-3">
<h3 id="org90cc67b"><a href="#org90cc67b"><a href="20210508234743-emacs.html#ID-1ad8c3d5-97ba-4905-be11-e6f2626127ad">Emacs</a>での実行方法</a></h3>
<div class="outline-text-3" id="text-org90cc67b">
<p>
ob-goをインストールして <code>(require "ob-go")</code> する。実行方法が少し変わっていて、下のように指定する。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 8: </span>babel引数で指定importを指定する。本文には書かない</label><pre class="src src-go">fmt.Println("hello world")
</pre>
</div>

<div class="results" id="org60ff866">
<p>
hello world
</p>

</div>

<ul class="org-ul">
<li><a href="https://github.com/pope/ob-go">pope/ob-go: Org-Babel support for evaluating go code.</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd2d4576" class="outline-2">
<h2 id="orgd2d4576"><a href="#orgd2d4576">Tasks</a></h2>
<div class="outline-text-2" id="text-orgd2d4576">
</div>
<div id="outline-container-org6722f59" class="outline-3">
<h3 id="org6722f59"><a href="#org6722f59"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/%E6%94%B9%E8%A8%822%E7%89%88-%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B-Go%E8%A8%80%E8%AA%9E-%E5%8F%A4%E5%B7%9D%E6%98%87-ebook/dp/B06WP6S2QT/ref=sr_1_1?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1GPYX46MK3OK&amp;keywords=%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B+go%E8%A8%80%E8%AA%9E&amp;qid=1663028634&amp;sprefix=%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8Bgo%E8%A8%80%E8%AA%9E%2Caps%2C2056&amp;sr=8-1">改訂2版 基礎からわかる Go言語 | 古川昇 | 工学 | Kindleストア | Amazon</a></a></h3>
<div class="outline-text-3" id="text-org6722f59">
<p>
Go言語の入門本。
</p>
</div>
</div>

<div id="outline-container-org1af3c19" class="outline-3">
<h3 id="org1af3c19"><a href="#org1af3c19"><span class="todo TODO">TODO</span> <a href="https://swet.dena.com/entry/2021/12/07/123000">「テスタビリティの高いGoのAPIサーバを開発しよう」というハンズオンを公開しました - DeNA Testing Blog</a></a></h3>
<div class="outline-text-3" id="text-org1af3c19">
<p>
GoのAPIハンズオン。
</p>
</div>
</div>
<div id="outline-container-org98c2a0a" class="outline-3">
<h3 id="org98c2a0a"><a href="#org98c2a0a"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E3%81%AA%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E6%B8%8B%E5%B7%9D-%E3%82%88%E3%81%97%E3%81%8D/dp/4908686033/ref=sr_1_3?keywords=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0&amp;qid=1653145833&amp;sprefix=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%2Caps%2C206&amp;sr=8-3">Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></a></h3>
<div class="outline-text-3" id="text-org98c2a0a">
<p>
途中まで読んだが、あまりおもしろくないので後回しにする。
</p>

<ul class="org-ul">
<li>36, 53</li>
</ul>

<p>
低レイヤ処理をGoで学ぶ本。
</p>

<ul class="org-ul">
<li>まずデバッガ環境を整えることから</li>
<li>ファイルディスクリプタに対応するものは、通常のファイルに限らない。標準入出力/ソケット/OS/CPUに内蔵されている乱数生成の仕組みなど、ファイルではないものにもファイルディスクリプタが割り当てられ、どれもファイルと同じようにアクセスできる</li>
<li>OSは、プロセスが起動されるとまず3つの疑似ファイルを作成し、それぞれにファイルディスクリプタを割り当てる。0が標準入力、1が標準出力、2が標準エラー出力</li>
<li>可能な限りすべてのものがファイルとして抽象化されている</li>
<li>go言語ではファイルディスクリプタのような共通化の仕組みを言語レベルで持ってOSによる差異を吸収している。io.Writer</li>
<li>インターフェースは、構造体と違って何かしら実態を持つものを表すのではなく、「どんなことができるか」を宣言しているだけ</li>
</ul>
</div>
</div>

<div id="outline-container-org00eb986" class="outline-3">
<h3 id="org00eb986"><a href="#org00eb986"><span class="todo TODO">TODO</span> <a href="https://wxdublin.gitbooks.io/docker-code-walk/content/client.html">Client | Docker Code Walk</a></a></h3>
<div class="outline-text-3" id="text-org00eb986">
<p>
Dockerコードの概略。
</p>
</div>
</div>
<div id="outline-container-org92a7a64" class="outline-3">
<h3 id="org92a7a64"><a href="#org92a7a64"><span class="todo TODO">TODO</span> <a href="https://tatsu-zine.com/books/nuxt-go-web-app-development">NuxtとGoではじめるWebアプリ開発【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org92a7a64">
<p>
動画検索アプリを題材に、NuxtとGoを使ったアプリ開発。
</p>
</div>
</div>
<div id="outline-container-org0e9ef08" class="outline-3">
<h3 id="org0e9ef08"><a href="#org0e9ef08"><span class="todo TODO">TODO</span> <a href="https://tatsu-zine.com/books/starting-grpc">スターティングgRPC【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org0e9ef08">
<p>
サーバ側Go, クライアント側Rubyと異なる言語を用いてサンプルアプリケーションを実装する。
</p>
</div>
</div>
<div id="outline-container-org4f9dea4" class="outline-3">
<h3 id="org4f9dea4"><a href="#org4f9dea4"><span class="todo TODO">TODO</span> <a href="https://gihyo.jp/dp/ebook/2021/978-4-297-12520-2">エキスパートたちのGo言語 一流のコードから応用力を学ぶ | Gihyo Digital Publishing … 技術評論社の電子書籍</a></a></h3>
<div class="outline-text-3" id="text-org4f9dea4">
<p>
ノウハウ集。
</p>
</div>
</div>
<div id="outline-container-orgb9938f8" class="outline-3">
<h3 id="orgb9938f8"><a href="#orgb9938f8"><span class="todo TODO">TODO</span> <a href="https://gihyo.jp/dp/ebook/2019/978-4-297-10728-4">改訂2版 みんなのGo言語 | Gihyo Digital Publishing … 技術評論社の電子書籍</a></a></h3>
<div class="outline-text-3" id="text-orgb9938f8">
<p>
わかりやすいという入門書。
</p>
</div>
</div>
<div id="outline-container-org9be6aa4" class="outline-3">
<h3 id="org9be6aa4"><a href="#org9be6aa4"><span class="todo TODO">TODO</span> <a href="https://tatsu-zine.com/books/go-web-programming">Goプログラミング実践入門 標準ライブラリでゼロからWebアプリを作る【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org9be6aa4">
<p>
ゼロから実装する。
</p>
</div>
</div>
<div id="outline-container-org91b3e9a" class="outline-3">
<h3 id="org91b3e9a"><a href="#org91b3e9a"><span class="todo TODO">TODO</span> <a href="https://www.oreilly.co.jp/books/9784873118222/">O&rsquo;Reilly Japan - Go言語でつくるインタプリタ</a></a></h3>
<div class="outline-text-3" id="text-org91b3e9a">
<p>
インタプリタを実装する。
</p>
</div>
</div>
<div id="outline-container-org55adf09" class="outline-3">
<h3 id="org55adf09"><a href="#org55adf09"><span class="todo TODO">TODO</span> <a href="https://book.mynavi.jp/manatee/books/detail/id=131170">詳解Go言語Webアプリケーション開発｜Tech Book Zone Manatee</a></a></h3>
<div class="outline-text-3" id="text-org55adf09">
<p>
web開発の入門書。
</p>
</div>
</div>
<div id="outline-container-orgf6a83ca" class="outline-3">
<h3 id="orgf6a83ca"><a href="#orgf6a83ca">Go Design Patterns</a></h3>
</div>
<div id="outline-container-org737ba1a" class="outline-3">
<h3 id="org737ba1a"><a href="#org737ba1a">Cloud Native Go</a></h3>
</div>
<div id="outline-container-orgd183caf" class="outline-3">
<h3 id="orgd183caf"><a href="#orgd183caf">Go and Go-Moku The Oriental Board Games</a></h3>
</div>
<div id="outline-container-orgc8030cf" class="outline-3">
<h3 id="orgc8030cf"><a href="#orgc8030cf">Mastering Go Create Golang production applications using network libraries, concurrency, and advanced Go data structures</a></h3>
</div>
<div id="outline-container-org64c97ee" class="outline-3">
<h3 id="org64c97ee"><a href="#org64c97ee">RESTful Go APIs Design und Implementierung leichtgewichtiger Hypermedia Services</a></h3>
</div>
<div id="outline-container-org8e5d998" class="outline-3">
<h3 id="org8e5d998"><a href="#org8e5d998">Hands-On System Programming with Go</a></h3>
</div>
<div id="outline-container-orgcbbae68" class="outline-3">
<h3 id="orgcbbae68"><a href="#orgcbbae68">Powerful Command-Line Applications in Go</a></h3>
</div>
<div id="outline-container-org0cdf9a1" class="outline-3">
<h3 id="org0cdf9a1"><a href="#org0cdf9a1">Build an Orchestrator in Go</a></h3>
</div>
<div id="outline-container-org8d5789a" class="outline-3">
<h3 id="org8d5789a"><a href="#org8d5789a">The Docker Book</a></h3>
</div>
</div>
<div id="outline-container-org15499c4" class="outline-2">
<h2 id="org15499c4"><a href="#org15499c4">Reference</a></h2>
<div class="outline-text-2" id="text-org15499c4">
</div>
<div id="outline-container-orgfbdd761" class="outline-3">
<h3 id="orgfbdd761"><a href="#orgfbdd761"><a href="https://go.dev/ref/spec">The Go Programming Language Specification - The Go Programming Language</a></a></h3>
<div class="outline-text-3" id="text-orgfbdd761">
<p>
言語の仕様書。
</p>
</div>
</div>
</div>
<div id="outline-container-org959a98e" class="outline-2">
<h2 id="org959a98e"><a href="#org959a98e">Archives</a></h2>
<div class="outline-text-2" id="text-org959a98e">
</div>
<div id="outline-container-org239e36c" class="outline-3">
<h3 id="org239e36c"><a href="#org239e36c"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></h3>
<div class="outline-text-3" id="text-org239e36c">
<p>
DAP(Debug Adapter Protocol)はデバッガー補助。エディタ関係なくIDEのようにエディタ上でブレークポイントをセットできるプロトコル。<a href="20220305121848-lsp.html#ID-eb807577-cd69-478c-8f82-264243c67354">LSP</a>のデバッガーバージョン。
</p>

<p>
go用のファイルはemacs側で自動インストールできず、手動でインストールする必要がある。
</p>

<ul class="org-ul">
<li><a href="https://emacs-lsp.github.io/dap-mode/page/configuration/#go">Configuration - DAP Mode</a>
<ul class="org-ul">
<li>外部コマンドをgo installでインストール
<ul class="org-ul">
<li>LSPは <code>gopls</code></li>
<li>Debuggerは <code>delve</code> (注意: VScode用のプログラムを用いる方法はdeprecatedで、現在は直接installするのが最新)</li>
</ul></li>
<li>Emacs側で設定、Emacs側が認識できるようにする</li>
</ul></li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 9: </span>インストールする</label><pre class="src src-shell">$ go get golang.org/x/tools/gopls                <span class="org-comment-delimiter"># </span><span class="org-comment">Language Server</span>
$ go get -v github.com/uudashr/gopkgs/cmd/gopkgs <span class="org-comment-delimiter"># </span><span class="org-comment">Go &#12497;&#12483;&#12465;&#12540;&#12472;</span>
$ go install golang.org/x/tools/cmd/goimports    <span class="org-comment-delimiter"># </span><span class="org-comment">import &#12398;&#36942;&#19981;&#36275;&#12434;&#33258;&#21205;&#12391;&#35036;&#23436;</span>
</pre>
</div>

<p>
自分の環境では一瞬デバッガのボタンが表示されて Debug Adapter finished になってしまう状態になった。Warningには <code>Warning (emacs): Initialize request failed: Failed to launch Disable showing Disable logging</code> が表示される。理由がよくわからないため、表示させる。 <code>(setq dap-print-io t)</code> を評価すると、messageバッファに詳細なログを出力する。
</p>

<p>
原因は、しっかりと表示されていた。
</p>

<blockquote>
<p>
&ldquo;format&rdquo;: &ldquo;Failed to launch: Go version 1.14.15 is too old for this version of Delve (minimum supported version 1.17, suppress this error with &#x2013;check-go-version=false)&rdquo;,
</p>
</blockquote>

<p>
ということで、goのバージョンを上げると無事デバッガが起動するようになった。
</p>
</div>
</div>
<div id="outline-container-orga9b279e" class="outline-3">
<h3 id="orga9b279e"><a href="#orga9b279e"><span class="done DONE">DONE</span> <a href="https://tatsu-zine.com/books/go-five-recipes">Go言語を楽しむ5つのレシピ コタツと蜜柑とゴーファーとわたし【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-orga9b279e">
<p>
画像処理やWebAssemblyなど。
</p>

<p>
ざっと読んだだけ。コードの中は読んでないので必要になったら確認する。
</p>
</div>
</div>
<div id="outline-container-org5211b1f" class="outline-3">
<h3 id="org5211b1f"><a href="#org5211b1f"><span class="done DONE">DONE</span> <a href="https://go-tour-jp.appspot.com/list">A Tour of Go</a></a></h3>
<div class="outline-text-3" id="text-org5211b1f">
<p>
最初のチュートリアル。
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"/>
</div>
</body>
</html>
