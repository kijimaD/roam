<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-08-24 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Go</title>
<meta name="generator" content="Org mode">
<meta name="author" content="root">
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' /><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Ultra&display=swap" rel="stylesheet"><link rel='stylesheet' href='css/site.css' /><link rel='stylesheet' href='css/code.css' />
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content">
<h1 class="title">Go</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org60b64b2">概要</a></li>
<li><a href="#org642e5dd">Memo</a></li>
<li><a href="#org00796b4">Tasks</a></li>
<li><a href="#org11ea2a3">Reference</a>
<ul>
<li><a href="#org893b57c"><span class="todo WIP">WIP</span> Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></li>
</ul>
</li>
<li><a href="#orgc8c5e99">Archives</a>
<ul>
<li><a href="#orga62ee37"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org60b64b2" class="outline-2">
<h2 id="org60b64b2"><a href="#org60b64b2">概要</a></h2>
<div class="outline-text-2" id="text-org60b64b2">
<p>
Go言語はGoogleによって開発された<a href="20210509101246-programming_language.html#ID-868ac56a-2d42-48d7-ab7f-7047c85a8f39">Programming Language</a>。<a href="20210805005543-docker.html#ID-1658782a-d331-464b-9fd7-1f8233b8b7f8">Docker</a>はGoで書かれている。シンプルさをコンセプトにしている。シンプルすぎて必要な機能が足りてない、という批判もあるくらい。
</p>
</div>
</div>
<div id="outline-container-org642e5dd" class="outline-2">
<h2 id="org642e5dd"><a href="#org642e5dd">Memo</a></h2>
</div>
<div id="outline-container-org00796b4" class="outline-2">
<h2 id="org00796b4"><a href="#org00796b4">Tasks</a></h2>
</div>
<div id="outline-container-org11ea2a3" class="outline-2">
<h2 id="org11ea2a3"><a href="#org11ea2a3">Reference</a></h2>
<div class="outline-text-2" id="text-org11ea2a3">
</div>
<div id="outline-container-org893b57c" class="outline-3">
<h3 id="org893b57c"><a href="#org893b57c"><span class="todo WIP">WIP</span> <a href="https://www.amazon.co.jp/Go%E3%81%AA%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E6%B8%8B%E5%B7%9D-%E3%82%88%E3%81%97%E3%81%8D/dp/4908686033/ref=sr_1_3?keywords=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0&amp;qid=1653145833&amp;sprefix=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%2Caps%2C206&amp;sr=8-3">Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></a></h3>
<div class="outline-text-3" id="text-org893b57c">
<ul class="org-ul">
<li>36</li>
</ul>

<p>
低レイヤ処理をGoで学ぶ本。
</p>

<ul class="org-ul">
<li>まずデバッガ環境を整えることから</li>
<li>ファイルディスクリプタに対応するものは、通常のファイルに限らない。標準入出力/ソケット/OS/CPUに内蔵されている乱数生成の仕組みなど、ファイルではないものにもファイルディスクリプタが割り当てられ、どれもファイルと同じようにアクセスできる</li>
<li>OSは、プロセスが起動されるとまず3つの疑似ファイルを作成し、それぞれにファイルディスクリプタを割り当てる。0が標準入力、1が標準出力、2が標準エラー出力</li>
<li>可能な限りすべてのものがファイルとして抽象化されている</li>
<li>go言語ではファイルディスクリプタのような共通化の仕組みを言語レベルで持ってOSによる差異を吸収している。io.Writer</li>
<li>インターフェースは、構造体と違って何かしら実態を持つものを表すのではなく、「どんなことができるか」を宣言しているだけ</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc8c5e99" class="outline-2">
<h2 id="orgc8c5e99"><a href="#orgc8c5e99">Archives</a></h2>
<div class="outline-text-2" id="text-orgc8c5e99">
</div>
<div id="outline-container-orga62ee37" class="outline-3">
<h3 id="orga62ee37"><a href="#orga62ee37"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></h3>
<div class="outline-text-3" id="text-orga62ee37">
<p>
DAP(Debug Adapter Protocol)はデバッガー補助。エディタ関係なくIDEのようにエディタ上でブレークポイントをセットできるプロトコル。<a href="20220305121848-lsp.html#ID-eb807577-cd69-478c-8f82-264243c67354">LSP</a>のデバッガーバージョン。
</p>

<p>
go用のファイルはemacs側で自動インストールできず、手動でインストールする必要がある。
</p>

<ul class="org-ul">
<li><a href="https://emacs-lsp.github.io/dap-mode/page/configuration/#go">Configuration - DAP Mode</a>
<ul class="org-ul">
<li>外部コマンドをgo installでインストール
<ul class="org-ul">
<li>LSPは <code>gopls</code></li>
<li>Debuggerは <code>delve</code> (注意: VScode用のプログラムを用いる方法はdeprecatedで、現在は直接installするのが最新)</li>
</ul></li>
<li>Emacs側で設定、Emacs側が認識できるようにする</li>
</ul></li>
</ul>

<p>
自分の環境では一瞬デバッガのボタンが表示されて Debug Adapter finished になってしまう状態になった。Warningには <code>Warning (emacs): Initialize request failed: Failed to launch Disable showing Disable logging</code> が表示される。理由がよくわからないため、表示させる。 <code>(setq dap-print-io t)</code> を評価すると、messageバッファに詳細なログを出力する。
</p>

<p>
原因は、しっかりと表示されていた。
</p>

<blockquote>
<p>
&ldquo;format&rdquo;: &ldquo;Failed to launch: Go version 1.14.15 is too old for this version of Delve (minimum supported version 1.17, suppress this error with &#x2013;check-go-version=false)&rdquo;,
</p>
</blockquote>

<p>
ということで、goのバージョンを上げると無事デバッガが起動するようになった。
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"/>
</div>
</body>
</html>
