<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-10-02 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Go</title>
<meta name="generator" content="Org mode">
<meta name="author" content="root">
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' /><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Ultra&display=swap" rel="stylesheet"><link rel='stylesheet' href='css/site.css' /><link rel='stylesheet' href='css/code.css' />
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content">
<h1 class="title">Go</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org770f004">概要</a></li>
<li><a href="#orgb0b8fa9">Memo</a>
<ul>
<li><a href="#orgbf063ce">変数名のかぶりに注意する</a></li>
<li><a href="#orge5427d2">よく使う型の定義</a></li>
<li><a href="#org618aa6c">ファイルを開く関数</a></li>
<li><a href="#org8d01798">基本コマンド</a></li>
<li><a href="#org58aaa32">Emacsでの実行方法</a></li>
</ul>
</li>
<li><a href="#org9d51e41">Tasks</a>
<ul>
<li><a href="#orgfb28e72"><span class="todo TODO">TODO</span> Goのgoroutine, channelをちょっと攻略！ - Qiita</a></li>
<li><a href="#org2e6402e"><span class="todo TODO">TODO</span> Goを学びたての人が誤解しがちなtypeと構造体について #golang - Qiita</a></li>
<li><a href="#org09dd443"><span class="todo TODO">TODO</span> GitHub APIで統計を取る</a>
<ul>
<li><a href="#orga66f1fb">作業ログ</a></li>
</ul>
</li>
<li><a href="#org7e3cc40"><span class="todo TODO">TODO</span> ローカルパッケージを読み込む方法</a></li>
<li><a href="#org90387c3"><span class="todo TODO">TODO</span> goclocを読む</a></li>
<li><a href="#org0e559e8"><span class="todo TODO">TODO</span> colorを読む</a></li>
<li><a href="#org8b34ba4"><span class="todo TODO">TODO</span> Go言語reflectハンドブック (技術の泉シリーズ（NextPublishing）) | 千葉 大二郎 | 工学 | Kindleストア | Amazon</a></li>
<li><a href="#orgc716dfc"><span class="todo TODO">TODO</span> GoとSAMで学ぶAWS Lambda (技術の泉シリーズ（NextPublishing）) | 杉田 寿憲 | 工学 | Kindleストア | Amazon</a></li>
<li><a href="#org19fbcd2"><span class="todo TODO">TODO</span> Go言語による並行処理 | Katherine Cox-Buday, 山口 能迪 |本 | 通販 | Amazon</a></li>
<li><a href="#org1b52071"><span class="todo TODO">TODO</span> Go言語による分散サービス ―信頼性、拡張性、保守性の高いシステムの構築 | Travis Jeffery, 柴田 芳樹 |本 | 通販 | Amazon</a></li>
<li><a href="#org6a8e085"><span class="todo TODO">TODO</span> 実用 Go言語 ―システム開発の現場で知っておきたいアドバイス | 渋川 よしき, 辻 大志郎, 真野 隼記 |本 | 通販 | Amazon</a></li>
<li><a href="#org0f2a883"><span class="todo TODO">TODO</span> はじめてのゲームプログラミング（Ebiten）</a></li>
<li><a href="#org9b15c20"><span class="todo TODO">TODO</span> Creating Cool Games With Ebiten | Golang Project Structure</a></li>
<li><a href="#org3a20743"><span class="todo TODO">TODO</span> Roguelike Tutorial | Fat Old Yeti</a></li>
<li><a href="#orgae33f51"><span class="todo TODO">TODO</span> 2D Game Development in Golang — Part 1 | by Chris Andrews | Medium</a></li>
<li><a href="#org8730421"><span class="todo TODO">TODO</span> ファミコンエミュレータの創り方　- Hello, World!編 - - Qiita</a></li>
<li><a href="#orgba5e350"><span class="todo TODO">TODO</span> ゲームボーイのエミュレータをGoで作った話</a></li>
<li><a href="#orgd76ec25"><span class="todo TODO">TODO</span> 「テスタビリティの高いGoのAPIサーバを開発しよう」というハンズオンを公開しました - DeNA Testing Blog</a></li>
<li><a href="#orgb98b416"><span class="todo TODO">TODO</span> Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></li>
<li><a href="#orgeb73c79"><span class="todo TODO">TODO</span> Client | Docker Code Walk</a></li>
<li><a href="#orgf2f7de1"><span class="todo TODO">TODO</span> NuxtとGoではじめるWebアプリ開発【委託】 - 達人出版会</a></li>
<li><a href="#org96a676b"><span class="todo TODO">TODO</span> スターティングgRPC【委託】 - 達人出版会</a></li>
<li><a href="#org814cf2b"><span class="todo TODO">TODO</span> エキスパートたちのGo言語 一流のコードから応用力を学ぶ | Gihyo Digital Publishing … 技術評論社の電子書籍</a></li>
<li><a href="#orgb89d0b2"><span class="todo TODO">TODO</span> 改訂2版 みんなのGo言語 | Gihyo Digital Publishing … 技術評論社の電子書籍</a></li>
<li><a href="#org9cb312f"><span class="todo WIP">WIP</span> Goプログラミング実践入門 標準ライブラリでゼロからWebアプリを作る【委託】 - 達人出版会</a>
<ul>
<li><a href="#org3c47cc1">フレームワークの弊害</a></li>
</ul>
</li>
<li><a href="#org728856f"><span class="todo TODO">TODO</span> O&rsquo;Reilly Japan - Go言語でつくるインタプリタ</a></li>
<li><a href="#orge680e94"><span class="todo TODO">TODO</span> 詳解Go言語Webアプリケーション開発｜Tech Book Zone Manatee</a></li>
<li><a href="#orgda3f963"><span class="todo TODO">TODO</span> Go Design Patterns</a></li>
<li><a href="#org2613d76"><span class="todo TODO">TODO</span> Cloud Native Go</a></li>
<li><a href="#orgf00284c"><span class="todo TODO">TODO</span> Go and Go-Moku The Oriental Board Games</a></li>
<li><a href="#org1211ec6"><span class="todo TODO">TODO</span> Mastering Go Create Golang production applications using network libraries, concurrency, and advanced Go data structures</a></li>
<li><a href="#org873b062"><span class="todo TODO">TODO</span> RESTful Go APIs Design und Implementierung leichtgewichtiger Hypermedia Services</a></li>
<li><a href="#orgd007065"><span class="todo TODO">TODO</span> Hands-On System Programming with Go</a></li>
<li><a href="#orgb8d9812"><span class="todo TODO">TODO</span> Powerful Command-Line Applications in Go</a></li>
<li><a href="#org349247c"><span class="todo TODO">TODO</span> Build an Orchestrator in Go</a></li>
<li><a href="#org1e0f182"><span class="todo TODO">TODO</span> The Docker Book</a></li>
<li><a href="#org919d40d"><span class="todo TODO">TODO</span> 誤字修正PRを送る</a></li>
<li><a href="#org261195e"><span class="todo TODO">TODO</span> google/go-github: Go library for accessing the GitHub v3 API</a></li>
<li><a href="#org75f4189"><span class="todo TODO">TODO</span> Go コンパイラのコードを読んでみよう | ebiebievidence.com</a></li>
<li><a href="#orgf044602"><span class="todo TODO">TODO</span> Goを学ぶときに参照した学習リソースまとめ</a></li>
<li><a href="#org647f688"><span class="todo TODO">TODO</span> Goの言語仕様書精読のススメ &amp; 英語彙集</a></li>
<li><a href="#orgd1581cc"><span class="todo TODO">TODO</span> The Go Programming Language Specification - The Go Programming Language</a></li>
</ul>
</li>
<li><a href="#org812370c">Reference</a>
<ul>
<li><a href="#orgc2d1d03">ゴールーチンとチャネル｜Goでの並行処理を徹底解剖！</a></li>
<li><a href="#org89c54d5">Goでflagを使ってコマンドライン引数を扱う - Qiita</a></li>
<li><a href="#org614992c">Ebitengine - A dead simple 2D game library for Go</a></li>
</ul>
</li>
<li><a href="#orga16c4ff">Archives</a>
<ul>
<li><a href="#org4251089"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></li>
<li><a href="#org4089b8e"><span class="done DONE">DONE</span> Go言語を楽しむ5つのレシピ コタツと蜜柑とゴーファーとわたし【委託】 - 達人出版会</a></li>
<li><a href="#org13994c9"><span class="done DONE">DONE</span> A Tour of Go</a></li>
<li><a href="#org7b46d2f"><span class="done DONE">DONE</span> Docker Engine SDKでコンテナ一覧を取得する | DevelopersIO</a></li>
<li><a href="#org5806643"><span class="done DONE">DONE</span> GoでDockerを操る [Docker Engine SDK] - はいばらのブログ</a></li>
<li><a href="#orga926b8d"><span class="done DONE">DONE</span> Goで作成したAPIをDockerで動かす</a></li>
<li><a href="#orgaa11cb1"><span class="done DONE">DONE</span> 改訂2版 基礎からわかる Go言語 | 古川昇 | 工学 | Kindleストア | Amazon</a></li>
<li><a href="#orgdd00732"><span class="done DONE">DONE</span> GoでDockerのAPIを叩いてみる | フューチャー技術ブログ</a></li>
<li><a href="#org2d0df43"><span class="done DONE">DONE</span> Go でコマンドラインツールを作るときに便利なパッケージ｜@hira</a></li>
<li><a href="#org9e95531"><span class="done DONE">DONE</span> cloneツール作成</a></li>
<li><a href="#org0eff1c8"><span class="done DONE">DONE</span> gcloneをリファクタする</a></li>
<li><a href="#org20f4be4"><span class="done DONE">DONE</span> Goから学ぶI/O</a></li>
<li><a href="#orgf044664"><span class="done DONE">DONE</span> gclone拡張</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org770f004" class="outline-2">
<h2 id="org770f004"><a href="#org770f004">概要</a></h2>
<div class="outline-text-2" id="text-org770f004">
<p>
Go言語はGoogleによって開発された<a href="20210509101246-programming_language.html#ID-868ac56a-2d42-48d7-ab7f-7047c85a8f39">Programming Language</a>。<a href="20210805005543-docker.html#ID-1658782a-d331-464b-9fd7-1f8233b8b7f8">Docker</a>はGoで書かれている。シンプルさをコンセプトにしている。シンプルすぎて必要な機能が足りてない、という批判もあるくらい。
</p>
</div>
</div>
<div id="outline-container-orgb0b8fa9" class="outline-2">
<h2 id="orgb0b8fa9"><a href="#orgb0b8fa9">Memo</a></h2>
<div class="outline-text-2" id="text-orgb0b8fa9">
</div>
<div id="outline-container-orgbf063ce" class="outline-3">
<h3 id="orgbf063ce"><a href="#orgbf063ce">変数名のかぶりに注意する</a></h3>
<div class="outline-text-3" id="text-orgbf063ce">
<p>
型名と同じ変数名を宣言すると、よりローカルな変数名が優先されるため、その型が使えなくなる。それだけでなく、型指定で~は型ではありませんエラーが謎に出るため、ハマる可能性が高い。Lintで防げるだろうか。
</p>
</div>
</div>
<div id="outline-container-orge5427d2" class="outline-3">
<h3 id="orge5427d2"><a href="#orge5427d2">よく使う型の定義</a></h3>
<div class="outline-text-3" id="text-orge5427d2">
<ul class="org-ul">
<li>fdはファイルディスクリプタ。プログラムからファイルを操作する際、操作対象のファイルを識別・同定するために割り当てられる番号</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>file型</label><pre class="src src-git-permalink">https://github.com/kd-collective/go/blob/a813be86df74bf2a9c5b272c0b0934d196ac665d/src/os/file_unix.go#L54-L61
</pre>
</div>

<div class="results" id="org2de3045">
<p>
type file struct {
	pfd         poll.FD
	name        string
	dirinfo     *dirInfo <i>/ nil unless directory being read
	nonblock    bool     /</i> whether we set nonblocking mode
	stdoutOrErr bool     <i>/ whether this is stdout or stderr
	appendMode  bool     /</i> whether file is opened for appending
}
</p>

</div>

<ul class="org-ul">
<li>ネットワークで使うConnインターフェース</li>
</ul>

<div class="org-src-container">
<pre class="src src-git-permalink">https://github.com/kd-collective/go/blob/a813be86df74bf2a9c5b272c0b0934d196ac665d/src/net/net.go#L113-L168
</pre>
</div>

<div class="results" id="org302fc04">
<p>
type Conn interface {
	<i>/ Read reads data from the connection.
	/</i> Read can be made to time out and return an error after a fixed
	// time limit; see SetDeadline and SetReadDeadline.
	Read(b []byte) (n int, err error)
</p>

<p>
<i>/ Write writes data to the connection.
/</i> Write can be made to time out and return an error after a fixed
// time limit; see SetDeadline and SetWriteDeadline.
Write(b []byte) (n int, err error)
</p>

<p>
<i>/ Close closes the connection.
/</i> Any blocked Read or Write operations will be unblocked and return errors.
Close() error
</p>

<p>
// LocalAddr returns the local network address, if known.
LocalAddr() Addr
</p>

<p>
// RemoteAddr returns the remote network address, if known.
RemoteAddr() Addr
</p>

<p>
<i>/ SetDeadline sets the read and write deadlines associated
/</i> with the connection. It is equivalent to calling both
<i>/ SetReadDeadline and SetWriteDeadline.
/</i>
<i>/ A deadline is an absolute time after which I/O operations
/</i> fail instead of blocking. The deadline applies to all future
<i>/ and pending I/O, not just the immediately following call to
/</i> Read or Write. After a deadline has been exceeded, the
<i>/ connection can be refreshed by setting a deadline in the future.
/</i>
<i>/ If the deadline is exceeded a call to Read or Write or to other
/</i> I/O methods will return an error that wraps os.ErrDeadlineExceeded.
<i>/ This can be tested using errors.Is(err, os.ErrDeadlineExceeded).
/</i> The error&rsquo;s Timeout method will return true, but note that there
<i>/ are other possible errors for which the Timeout method will
/</i> return true even if the deadline has not been exceeded.
<i>/
/</i> An idle timeout can be implemented by repeatedly extending
<i>/ the deadline after successful Read or Write calls.
/</i>
// A zero value for t means I/O operations will not time out.
SetDeadline(t time.Time) error
</p>

<p>
<i>/ SetReadDeadline sets the deadline for future Read calls
/</i> and any currently-blocked Read call.
// A zero value for t means Read will not time out.
SetReadDeadline(t time.Time) error
</p>

<p>
	<i>/ SetWriteDeadline sets the deadline for future Write calls
	/</i> and any currently-blocked Write call.
	<i>/ Even if write times out, it may return n &gt; 0, indicating that
	/</i> some of the data was successfully written.
	// A zero value for t means Write will not time out.
	SetWriteDeadline(t time.Time) error
}
</p>

</div>
</div>
</div>

<div id="outline-container-org618aa6c" class="outline-3">
<h3 id="org618aa6c"><a href="#org618aa6c">ファイルを開く関数</a></h3>
<div class="outline-text-3" id="text-org618aa6c">
<ul class="org-ul">
<li>Open(), Create() は引数が違うだけで同じ関数OpenFile()を呼び出している</li>
<li>よく使う権限の組み合わせでラップしているだけ</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>Open</label><pre class="src src-git-permalink">https://github.com/kd-collective/go/blob/a813be86df74bf2a9c5b272c0b0934d196ac665d/src/os/file.go#L311-L313
</pre>
</div>

<div class="results" id="org9fb89e8">
<p>
func Open(name string) (*File, error) {
	return OpenFile(name, O_RDONLY, 0)
}
</p>

</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>Create</label><pre class="src src-git-permalink">https://github.com/kd-collective/go/blob/a813be86df74bf2a9c5b272c0b0934d196ac665d/src/os/file.go#L320-L322
</pre>
</div>

<div class="results" id="org3858551">
<p>
func Create(name string) (*File, error) {
	return OpenFile(name, O_RDWR|O_CREATE|O_TRUNC, 0666)
}
</p>

</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>OpenFile</label><pre class="src src-git-permalink">https://github.com/kd-collective/go/blob/a813be86df74bf2a9c5b272c0b0934d196ac665d/src/os/file.go#L330-L339
</pre>
</div>

<div class="results" id="orgc7e1aff">
<p>
func OpenFile(name string, flag int, perm FileMode) (*File, error) {
	testlog.Open(name)
	f, err := openFileNolog(name, flag, perm)
	if err != nil {
		return nil, err
	}
	f.appendMode = flag&amp;O_APPEND != 0
</p>

<p>
	return f, nil
}
</p>

</div>
</div>
</div>

<div id="outline-container-org8d01798" class="outline-3">
<h3 id="org8d01798"><a href="#org8d01798">基本コマンド</a></h3>
<div class="outline-text-3" id="text-org8d01798">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>mod.goを作成する</label><pre class="src src-shell">go mod init example
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>依存パッケージをインストールする。mod.goに記載される</label><pre class="src src-shell">go install
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 7: </span>ビルド+実行</label><pre class="src src-shell">go run hello.go
</pre>
</div>

<p>
<a href="20210508234743-emacs.html#ID-1ad8c3d5-97ba-4905-be11-e6f2626127ad">Emacs</a> dap-modeでデバッガ起動。行の横をクリックしてブレークポイントをセットしたのち、コマンド実行。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 8: </span>デバッグ実行</label><pre class="src src-emacs-lisp">M-x dap-debug
</pre>
</div>
</div>
</div>

<div id="outline-container-org58aaa32" class="outline-3">
<h3 id="org58aaa32"><a href="#org58aaa32"><a href="20210508234743-emacs.html#ID-1ad8c3d5-97ba-4905-be11-e6f2626127ad">Emacs</a>での実行方法</a></h3>
<div class="outline-text-3" id="text-org58aaa32">
<p>
ob-goをインストールして <code>(require "ob-go")</code> する。実行方法が少し変わっていて、下のように指定する。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 9: </span>babel引数で指定importを指定する。本文には書かない</label><pre class="src src-go">fmt.Println("hello world")
</pre>
</div>

<div class="results" id="org46fc1bf">
<p>
hello world
</p>

</div>

<ul class="org-ul">
<li><a href="https://github.com/pope/ob-go">pope/ob-go: Org-Babel support for evaluating go code.</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org9d51e41" class="outline-2">
<h2 id="org9d51e41"><a href="#org9d51e41">Tasks</a></h2>
<div class="outline-text-2" id="text-org9d51e41">
</div>
<div id="outline-container-orgfb28e72" class="outline-3">
<h3 id="orgfb28e72"><a href="#orgfb28e72"><span class="todo TODO">TODO</span> <a href="https://qiita.com/taigamikami/items/fc798cdd6a4eaf9a7d5e">Goのgoroutine, channelをちょっと攻略！ - Qiita</a></a></h3>
<div class="outline-text-3" id="text-orgfb28e72">
<p>
ゴルーチンの解説。
</p>
</div>
</div>
<div id="outline-container-org2e6402e" class="outline-3">
<h3 id="org2e6402e"><a href="#org2e6402e"><span class="todo TODO">TODO</span> <a href="https://qiita.com/tenntenn/items/45c568d43e950292bc31">Goを学びたての人が誤解しがちなtypeと構造体について #golang - Qiita</a></a></h3>
<div class="outline-text-3" id="text-org2e6402e">
<p>
typeとstructの違いの解説。
</p>
</div>
</div>
<div id="outline-container-org09dd443" class="outline-3">
<h3 id="org09dd443"><a href="#org09dd443"><span class="todo TODO">TODO</span> GitHub APIで統計を取る</a></h3>
<div class="outline-text-3" id="text-org09dd443">
<p>
アイデア。
</p>

<ul class="org-ul">
<li>言語別のリポジトリ数、行数、コミット数</li>
<li>シールド
<ul class="org-ul">
<li>定期的にGitHub Actionsでビルドすることで、数値を画像に反映させる</li>
</ul></li>
<li>データストア用リポジトリという考え方を深める(octcovやupptime的な)
<ul class="org-ul">
<li>汎用的なデータストアとして用いる</li>
<li>別リポジトリから簡単に扱えるworkflowを作成する</li>
<li>データストアリポジトリのURLと、キーによって、保存する</li>
<li>データを元に画像なり生成して、時系列を見られるようにする</li>
</ul></li>
<li>リポジトリ一覧を作る。コミット数、言語情報を一覧する</li>
<li>データストアに保存、加工しやすい形にする</li>
<li>画像/jsonで出力する</li>
<li>他サイトに貼れるようにする</li>
</ul>

<pre class="example">
総コミット: 5000

| 名前     | 概要           | 言語       |
|----------+----------------+------------|
| .emacs.d | emacs dotfiles | Emacs Lisp |
| dotfiles | system config  | Shell      |
| gclone   | git clone tool | Go         |

| 言語         | リポジトリ数 | コミット数 |
|------------+--------------+------------|
| Go         |            4 |        100 |
| Ruby       |            5 |        200 |
| Emacs Lisp |            2 |        100 |
</pre>

<ul class="org-ul">
<li>汎用的なデータストアリポジトリ(配信用)。ツールを実行して蓄積する</li>
<li>CLIツール
<ul class="org-ul">
<li>情報取得</li>
<li>json出力</li>
<li>画像出力</li>
<li>README.md出力</li>
<li>コミット機能</li>
</ul></li>
<li>フロントエンド</li>
</ul>
</div>

<div id="outline-container-orga66f1fb" class="outline-4">
<h4 id="orga66f1fb"><a href="#orga66f1fb">作業ログ</a></h4>
<div class="outline-text-4" id="text-orga66f1fb">
<p>
コミット数を取るのが難しい。
</p>
</div>
</div>
</div>
<div id="outline-container-org7e3cc40" class="outline-3">
<h3 id="org7e3cc40"><a href="#org7e3cc40"><span class="todo TODO">TODO</span> ローカルパッケージを読み込む方法</a></h3>
<div class="outline-text-3" id="text-org7e3cc40">
<p>
読みたいライブラリがmoduleで、直接実行できない。実行できないと、printデバッグもできない。テストでもできるか。だが引数が面倒なのだと大変。
</p>

<p>
ローカルimportの方法も一応知っておきたい。
</p>
</div>
</div>
<div id="outline-container-org90387c3" class="outline-3">
<h3 id="org90387c3"><a href="#org90387c3"><span class="todo TODO">TODO</span> goclocを読む</a></h3>
<div class="outline-text-3" id="text-org90387c3">
<p>
goclocはリポジトリのコード量を調べるツール。
</p>

<ul class="org-ul">
<li><a href="https://github.com/hhatto/gocloc">hhatto/gocloc: A little fast cloc(Count Lines Of Code)</a></li>
</ul>

<p>
参考になるところのメモ。
</p>

<ul class="org-ul">
<li>気軽にコマンド実行できるようにdockerイメージを用意する</li>
<li>オプションの取り回し方。構造体に入れておく</li>
<li>結果を構造体に入れておく</li>
<li>本体とCLIは別packageになっている</li>
</ul>

<p>
気になる部分。
</p>

<ul class="org-ul">
<li>言語判定のライブラリを使っているみたいだが、大きな、割と雑なマップがある</li>
</ul>
</div>
</div>

<div id="outline-container-org0e559e8" class="outline-3">
<h3 id="org0e559e8"><a href="#org0e559e8"><span class="todo TODO">TODO</span> colorを読む</a></h3>
<div class="outline-text-3" id="text-org0e559e8">
<p>
CLIに色をつけるライブラリ。
</p>

<ul class="org-ul">
<li><a href="https://github.com/fatih/color">fatih/color: Color package for Go (golang)</a></li>
</ul>

<p>
別の色関係のライブラリが出てくる。何が違うのかわからない。
</p>

<ul class="org-ul">
<li><a href="https://github.com/mattn/go-colorable">mattn/go-colorable</a></li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 10: </span>関数Set。メソッドSetを呼び出す</label><pre class="src src-git-permalink">https://github.com/kd-collective/color/blob/dbae876e45b9c53e464d101d63f4758c9f0bd8e8/color.go#L131-L137
</pre>
</div>

<div class="results" id="org0d0997c">
<p>
<i>/ Set sets the given parameters immediately. It will change the color of
/</i> output with the given SGR parameters until color.Unset() is called.
func Set(p &#x2026;Attribute) *Color {
	c := New(p&#x2026;)
	c.Set()
	return c
}
</p>

</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 11: </span>メソッドSet。Printfで、色指定された文字を表示している</label><pre class="src src-git-permalink">https://github.com/kd-collective/color/blob/dbae876e45b9c53e464d101d63f4758c9f0bd8e8/color.go#L149-L157
</pre>
</div>

<div class="results" id="org87d8db8">
<p>
// Set sets the SGR sequence.
func (c *Color) Set() *Color {
	if c.isNoColorSet() {
		return c
	}
</p>

<p>
	fmt.Fprint(Output, c.format())
	return c
}
</p>

</div>

<p>
なんだか地味に長いし、よくわからない。
</p>
</div>
</div>

<div id="outline-container-org8b34ba4" class="outline-3">
<h3 id="org8b34ba4"><a href="#org8b34ba4"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E8%A8%80%E8%AA%9Ereflect%E3%83%8F%E3%83%B3%E3%83%89%E3%83%96%E3%83%83%E3%82%AF-%E6%8A%80%E8%A1%93%E3%81%AE%E6%B3%89%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%EF%BC%88NextPublishing%EF%BC%89-%E5%8D%83%E8%91%89-%E5%A4%A7%E4%BA%8C%E9%83%8E-ebook/dp/B08NT59MS4/ref=sr_1_16?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1HEEXC8ONO3XN&amp;keywords=go+%E8%A8%80%E8%AA%9E&amp;qid=1663726078&amp;sprefix=go+%E3%81%92n%2Caps%2C202&amp;sr=8-16">Go言語reflectハンドブック (技術の泉シリーズ（NextPublishing）) | 千葉 大二郎 | 工学 | Kindleストア | Amazon</a></a></h3>
<div class="outline-text-3" id="text-org8b34ba4">
<p>
reflectの解説。
</p>
</div>
</div>
<div id="outline-container-orgc716dfc" class="outline-3">
<h3 id="orgc716dfc"><a href="#orgc716dfc"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E3%81%A8SAM%E3%81%A7%E5%AD%A6%E3%81%B6AWS-Lambda-%E6%8A%80%E8%A1%93%E3%81%AE%E6%B3%89%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%EF%BC%88NextPublishing%EF%BC%89-%E6%9D%89%E7%94%B0-%E5%AF%BF%E6%86%B2-ebook/dp/B07LGNGDHF/ref=sr_1_36?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1HEEXC8ONO3XN&amp;keywords=go+%E8%A8%80%E8%AA%9E&amp;qid=1663726078&amp;sprefix=go+%E3%81%92n%2Caps%2C202&amp;sr=8-36">GoとSAMで学ぶAWS Lambda (技術の泉シリーズ（NextPublishing）) | 杉田 寿憲 | 工学 | Kindleストア | Amazon</a></a></h3>
<div class="outline-text-3" id="text-orgc716dfc">
<p>
Goを使ったサーバレスの解説。
</p>
</div>
</div>
<div id="outline-container-org19fbcd2" class="outline-3">
<h3 id="org19fbcd2"><a href="#org19fbcd2"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E8%A8%80%E8%AA%9E%E3%81%AB%E3%82%88%E3%82%8B%E4%B8%A6%E8%A1%8C%E5%87%A6%E7%90%86-Katherine-Cox-Buday/dp/4873118468/ref=sr_1_19?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1HEEXC8ONO3XN&amp;keywords=go+%E8%A8%80%E8%AA%9E&amp;qid=1663726078&amp;sprefix=go+%E3%81%92n%2Caps%2C202&amp;sr=8-19">Go言語による並行処理 | Katherine Cox-Buday, 山口 能迪 |本 | 通販 | Amazon</a></a></h3>
<div class="outline-text-3" id="text-org19fbcd2">
<p>
平行処理の解説。
</p>
</div>
</div>
<div id="outline-container-org1b52071" class="outline-3">
<h3 id="org1b52071"><a href="#org1b52071"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E8%A8%80%E8%AA%9E%E3%81%AB%E3%82%88%E3%82%8B%E5%88%86%E6%95%A3%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9-%E2%80%95%E4%BF%A1%E9%A0%BC%E6%80%A7%E3%80%81%E6%8B%A1%E5%BC%B5%E6%80%A7%E3%80%81%E4%BF%9D%E5%AE%88%E6%80%A7%E3%81%AE%E9%AB%98%E3%81%84%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%81%AE%E6%A7%8B%E7%AF%89-Travis-Jeffery/dp/4873119979/ref=sr_1_5?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1HEEXC8ONO3XN&amp;keywords=go+%E8%A8%80%E8%AA%9E&amp;qid=1663726078&amp;sprefix=go+%E3%81%92n%2Caps%2C202&amp;sr=8-5">Go言語による分散サービス ―信頼性、拡張性、保守性の高いシステムの構築 | Travis Jeffery, 柴田 芳樹 |本 | 通販 | Amazon</a></a></h3>
<div class="outline-text-3" id="text-org1b52071">
<p>
分散サービスの解説。
</p>
</div>
</div>
<div id="outline-container-org6a8e085" class="outline-3">
<h3 id="org6a8e085"><a href="#org6a8e085"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/%E5%AE%9F%E7%94%A8-Go%E8%A8%80%E8%AA%9E-%E2%80%95%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E9%96%8B%E7%99%BA%E3%81%AE%E7%8F%BE%E5%A0%B4%E3%81%A7%E7%9F%A5%E3%81%A3%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%9F%E3%81%84%E3%82%A2%E3%83%89%E3%83%90%E3%82%A4%E3%82%B9-%E6%B8%8B%E5%B7%9D-%E3%82%88%E3%81%97%E3%81%8D/dp/4873119693/ref=sr_1_3?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1HEEXC8ONO3XN&amp;keywords=go+%E8%A8%80%E8%AA%9E&amp;qid=1663726078&amp;sprefix=go+%E3%81%92n%2Caps%2C202&amp;sr=8-3">実用 Go言語 ―システム開発の現場で知っておきたいアドバイス | 渋川 よしき, 辻 大志郎, 真野 隼記 |本 | 通販 | Amazon</a></a></h3>
<div class="outline-text-3" id="text-org6a8e085">
<p>
業務に役立つGoの解説。
</p>
</div>
</div>
<div id="outline-container-org0f2a883" class="outline-3">
<h3 id="org0f2a883"><a href="#org0f2a883"><span class="todo TODO">TODO</span> <a href="https://zenn.dev/hokita/articles/66cc118b227ae3">はじめてのゲームプログラミング（Ebiten）</a></a></h3>
<div class="outline-text-3" id="text-org0f2a883">
<p>
簡単なゲームのチュートリアル。
</p>
</div>
</div>
<div id="outline-container-org9b15c20" class="outline-3">
<h3 id="org9b15c20"><a href="#org9b15c20"><span class="todo TODO">TODO</span> <a href="https://golangprojectstructure.com/creating-cool-games-with-ebiten-in-go/">Creating Cool Games With Ebiten | Golang Project Structure</a></a></h3>
<div class="outline-text-3" id="text-org9b15c20">
<p>
ゲームのチュートリアル。
</p>
</div>
</div>
<div id="outline-container-org3a20743" class="outline-3">
<h3 id="org3a20743"><a href="#org3a20743"><span class="todo TODO">TODO</span> <a href="https://www.fatoldyeti.com/categories/roguelike-tutorial/">Roguelike Tutorial | Fat Old Yeti</a></a></h3>
<div class="outline-text-3" id="text-org3a20743">
<p>
Ebitenでローグライクを作るチュートリアル。
</p>
</div>
</div>
<div id="outline-container-orgae33f51" class="outline-3">
<h3 id="orgae33f51"><a href="#orgae33f51"><span class="todo TODO">TODO</span> <a href="https://medium.com/@chrisandrews_76960/2d-game-development-in-golang-part-1-5e2c11a513ed">2D Game Development in Golang — Part 1 | by Chris Andrews | Medium</a></a></h3>
<div class="outline-text-3" id="text-orgae33f51">
<p>
Ebitenの小さなチュートリアル。
</p>
</div>
</div>
<div id="outline-container-org8730421" class="outline-3">
<h3 id="org8730421"><a href="#org8730421"><span class="todo TODO">TODO</span> <a href="https://qiita.com/bokuweb/items/1575337bef44ae82f4d3">ファミコンエミュレータの創り方　- Hello, World!編 - - Qiita</a></a></h3>
<div class="outline-text-3" id="text-org8730421">
<p>
エミュレータの作り方の概要。
</p>
</div>
</div>
<div id="outline-container-orgba5e350" class="outline-3">
<h3 id="orgba5e350"><a href="#orgba5e350"><span class="todo TODO">TODO</span> <a href="https://zenn.dev/akatsuki/articles/ec95ab95f0e89ea8c38f">ゲームボーイのエミュレータをGoで作った話</a></a></h3>
<div class="outline-text-3" id="text-orgba5e350">
<p>
作り方の解説。
</p>
</div>
</div>
<div id="outline-container-orgd76ec25" class="outline-3">
<h3 id="orgd76ec25"><a href="#orgd76ec25"><span class="todo TODO">TODO</span> <a href="https://swet.dena.com/entry/2021/12/07/123000">「テスタビリティの高いGoのAPIサーバを開発しよう」というハンズオンを公開しました - DeNA Testing Blog</a></a></h3>
<div class="outline-text-3" id="text-orgd76ec25">
<p>
GoのAPIハンズオン。
</p>
</div>
</div>
<div id="outline-container-orgb98b416" class="outline-3">
<h3 id="orgb98b416"><a href="#orgb98b416"><span class="todo TODO">TODO</span> <a href="https://www.amazon.co.jp/Go%E3%81%AA%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E6%B8%8B%E5%B7%9D-%E3%82%88%E3%81%97%E3%81%8D/dp/4908686033/ref=sr_1_3?keywords=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0&amp;qid=1653145833&amp;sprefix=go+%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%2Caps%2C206&amp;sr=8-3">Goならわかるシステムプログラミング | 渋川 よしき, ごっちん |本 | 通販 - Amazon.co.jp</a></a></h3>
<div class="outline-text-3" id="text-orgb98b416">
<p>
途中まで読んだが、あまりおもしろくないので後回しにする。
</p>

<ul class="org-ul">
<li>36, 53</li>
</ul>

<p>
低レイヤ処理をGoで学ぶ本。
</p>

<ul class="org-ul">
<li>まずデバッガ環境を整えることから</li>
<li>ファイルディスクリプタに対応するものは、通常のファイルに限らない。標準入出力/ソケット/OS/CPUに内蔵されている乱数生成の仕組みなど、ファイルではないものにもファイルディスクリプタが割り当てられ、どれもファイルと同じようにアクセスできる</li>
<li>OSは、プロセスが起動されるとまず3つの疑似ファイルを作成し、それぞれにファイルディスクリプタを割り当てる。0が標準入力、1が標準出力、2が標準エラー出力</li>
<li>可能な限りすべてのものがファイルとして抽象化されている</li>
<li>go言語ではファイルディスクリプタのような共通化の仕組みを言語レベルで持ってOSによる差異を吸収している。io.Writer</li>
<li>インターフェースは、構造体と違って何かしら実態を持つものを表すのではなく、「どんなことができるか」を宣言しているだけ</li>
</ul>
</div>
</div>

<div id="outline-container-orgeb73c79" class="outline-3">
<h3 id="orgeb73c79"><a href="#orgeb73c79"><span class="todo TODO">TODO</span> <a href="https://wxdublin.gitbooks.io/docker-code-walk/content/client.html">Client | Docker Code Walk</a></a></h3>
<div class="outline-text-3" id="text-orgeb73c79">
<p>
Dockerコードの概略。
</p>
</div>
</div>
<div id="outline-container-orgf2f7de1" class="outline-3">
<h3 id="orgf2f7de1"><a href="#orgf2f7de1"><span class="todo TODO">TODO</span> <a href="https://tatsu-zine.com/books/nuxt-go-web-app-development">NuxtとGoではじめるWebアプリ開発【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-orgf2f7de1">
<p>
動画検索アプリを題材に、NuxtとGoを使ったアプリ開発。
</p>
</div>
</div>
<div id="outline-container-org96a676b" class="outline-3">
<h3 id="org96a676b"><a href="#org96a676b"><span class="todo TODO">TODO</span> <a href="https://tatsu-zine.com/books/starting-grpc">スターティングgRPC【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org96a676b">
<p>
サーバ側Go, クライアント側Rubyと異なる言語を用いてサンプルアプリケーションを実装する。
</p>
</div>
</div>
<div id="outline-container-org814cf2b" class="outline-3">
<h3 id="org814cf2b"><a href="#org814cf2b"><span class="todo TODO">TODO</span> <a href="https://gihyo.jp/dp/ebook/2021/978-4-297-12520-2">エキスパートたちのGo言語 一流のコードから応用力を学ぶ | Gihyo Digital Publishing … 技術評論社の電子書籍</a></a></h3>
<div class="outline-text-3" id="text-org814cf2b">
<p>
ノウハウ集。
</p>
</div>
</div>
<div id="outline-container-orgb89d0b2" class="outline-3">
<h3 id="orgb89d0b2"><a href="#orgb89d0b2"><span class="todo TODO">TODO</span> <a href="https://gihyo.jp/dp/ebook/2019/978-4-297-10728-4">改訂2版 みんなのGo言語 | Gihyo Digital Publishing … 技術評論社の電子書籍</a></a></h3>
<div class="outline-text-3" id="text-orgb89d0b2">
<p>
わかりやすいという入門書。
</p>
</div>
</div>
<div id="outline-container-org9cb312f" class="outline-3">
<h3 id="org9cb312f"><a href="#org9cb312f"><span class="todo WIP">WIP</span> <a href="https://tatsu-zine.com/books/go-web-programming">Goプログラミング実践入門 標準ライブラリでゼロからWebアプリを作る【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org9cb312f">
<ul class="org-ul">
<li>27, 68, 73, 93</li>
</ul>

<p>
ゼロから実装する。あまりピンとこない。
</p>
</div>

<div id="outline-container-org3c47cc1" class="outline-4">
<h4 id="org3c47cc1"><a href="#org3c47cc1">フレームワークの弊害</a></h4>
<div class="outline-text-4" id="text-org3c47cc1">
<ul class="org-ul">
<li>フレームワークを使えばすぐ構築できる。が、フレームワーク独自の約束事やパターンに従わないといけないことも多い。それがベストプラクティスであると仮定しているが、ベストプラクティスは理解していないとカーゴカルト・プログラミングに陥りどんなときでも無条件で適用してしまう</li>
<li>フレームワークを構築する基盤となっている概念を理解することが重要。正しい理解があれば、ある約束事やパターンが存在する理由がわかるようになる</li>
<li>たとえばクライアント側にクッキーとしてデータを保持し、サーバ側にセッションとして保持するのには理由がある。HTTPがコネクションレスのプロトコルであり、サーバの各回の呼び出しには以前の呼び出しの情報が含まれていないからである</li>
<li>Go言語においてハンドラとは、ServeHttpというメソッドを持ったインターフェースのこと</li>
<li><a href="https://qiita.com/huji0327/items/c85affaf5b9dbf84c11e">【Go】マルチプレクサってなんやねん - Qiita</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org728856f" class="outline-3">
<h3 id="org728856f"><a href="#org728856f"><span class="todo TODO">TODO</span> <a href="https://www.oreilly.co.jp/books/9784873118222/">O&rsquo;Reilly Japan - Go言語でつくるインタプリタ</a></a></h3>
<div class="outline-text-3" id="text-org728856f">
<p>
インタプリタを実装する。
</p>
</div>
</div>
<div id="outline-container-orge680e94" class="outline-3">
<h3 id="orge680e94"><a href="#orge680e94"><span class="todo TODO">TODO</span> <a href="https://book.mynavi.jp/manatee/books/detail/id=131170">詳解Go言語Webアプリケーション開発｜Tech Book Zone Manatee</a></a></h3>
<div class="outline-text-3" id="text-orge680e94">
<p>
web開発の入門書。
</p>
</div>
</div>
<div id="outline-container-orgda3f963" class="outline-3">
<h3 id="orgda3f963"><a href="#orgda3f963"><span class="todo TODO">TODO</span> Go Design Patterns</a></h3>
</div>
<div id="outline-container-org2613d76" class="outline-3">
<h3 id="org2613d76"><a href="#org2613d76"><span class="todo TODO">TODO</span> Cloud Native Go</a></h3>
</div>
<div id="outline-container-orgf00284c" class="outline-3">
<h3 id="orgf00284c"><a href="#orgf00284c"><span class="todo TODO">TODO</span> Go and Go-Moku The Oriental Board Games</a></h3>
</div>
<div id="outline-container-org1211ec6" class="outline-3">
<h3 id="org1211ec6"><a href="#org1211ec6"><span class="todo TODO">TODO</span> Mastering Go Create Golang production applications using network libraries, concurrency, and advanced Go data structures</a></h3>
</div>
<div id="outline-container-org873b062" class="outline-3">
<h3 id="org873b062"><a href="#org873b062"><span class="todo TODO">TODO</span> RESTful Go APIs Design und Implementierung leichtgewichtiger Hypermedia Services</a></h3>
</div>
<div id="outline-container-orgd007065" class="outline-3">
<h3 id="orgd007065"><a href="#orgd007065"><span class="todo TODO">TODO</span> Hands-On System Programming with Go</a></h3>
</div>
<div id="outline-container-orgb8d9812" class="outline-3">
<h3 id="orgb8d9812"><a href="#orgb8d9812"><span class="todo TODO">TODO</span> Powerful Command-Line Applications in Go</a></h3>
</div>
<div id="outline-container-org349247c" class="outline-3">
<h3 id="org349247c"><a href="#org349247c"><span class="todo TODO">TODO</span> Build an Orchestrator in Go</a></h3>
</div>
<div id="outline-container-org1e0f182" class="outline-3">
<h3 id="org1e0f182"><a href="#org1e0f182"><span class="todo TODO">TODO</span> The Docker Book</a></h3>
</div>
<div id="outline-container-org919d40d" class="outline-3">
<h3 id="org919d40d"><a href="#org919d40d"><span class="todo TODO">TODO</span> 誤字修正PRを送る</a></h3>
<div class="outline-text-3" id="text-org919d40d">
<ul class="org-ul">
<li><a href="https://github.com/golang/go">golang/go: The Go programming language</a></li>

<li>TestStdErrorHander</li>
<li>hexdecimal</li>
</ul>
</div>
</div>
<div id="outline-container-org261195e" class="outline-3">
<h3 id="org261195e"><a href="#org261195e"><span class="todo TODO">TODO</span> <a href="https://github.com/google/go-github">google/go-github: Go library for accessing the GitHub v3 API</a></a></h3>
<div class="outline-text-3" id="text-org261195e">
<p>
GoのGitHubアクセスのためのライブラリ。
</p>

<p>
実際の参考になる使用例。
</p>
<ul class="org-ul">
<li><a href="https://github.com/k1LoW/octocov/blob/main/gh/gh.go">https://github.com/k1LoW/octocov/blob/main/gh/gh.go</a></li>
</ul>
</div>
</div>
<div id="outline-container-org75f4189" class="outline-3">
<h3 id="org75f4189"><a href="#org75f4189"><span class="todo TODO">TODO</span> <a href="https://www.ebiebievidence.com/posts/2020/12/golang-compiler/">Go コンパイラのコードを読んでみよう | ebiebievidence.com</a></a></h3>
<div class="outline-text-3" id="text-org75f4189">
<p>
Goのコンパイラの解説。
</p>
</div>
</div>
<div id="outline-container-orgf044602" class="outline-3">
<h3 id="orgf044602"><a href="#orgf044602"><span class="todo TODO">TODO</span> <a href="https://zenn.dev/ytakaya/articles/ff6321bad0cbea">Goを学ぶときに参照した学習リソースまとめ</a></a></h3>
<div class="outline-text-3" id="text-orgf044602">
<p>
面白くためになる題材の紹介。
</p>
</div>
</div>
<div id="outline-container-org647f688" class="outline-3">
<h3 id="org647f688"><a href="#org647f688"><span class="todo TODO">TODO</span> <a href="https://zenn.dev/hsaki/articles/gospecdictionary#%E3%81%9D%E3%81%AE%E8%A8%98%E8%BF%B0%E3%81%8C%E3%81%82%E3%82%8B%E3%81%93%E3%81%A8%E3%81%A7%E4%BD%95%E3%81%8C%E5%AC%89%E3%81%97%E3%81%84%E3%81%AE%E3%81%8B%EF%BC%9F%E3%81%A8%E3%81%84%E3%81%86%E3%81%93%E3%81%A8%E3%82%92%E6%84%8F%E8%AD%98%E3%81%99%E3%82%8B">Goの言語仕様書精読のススメ &amp; 英語彙集</a></a></h3>
<div class="outline-text-3" id="text-org647f688">
<p>
読み方。より深い理解のやりかた。
</p>

<blockquote>
<p>
GoSpecは言語仕様書であり、全ての記述には意味があるはずです。
</p>

<p>
例えばTypesの章で導入される「全ての型にはunderlying typeがある」という概念は、一見すると「なんでこんなものを導入するんだ？？」と思うかもしれません。
</p>

<p>
(略)
</p>

<p>
しかし、このunderlying typeはassignability(代入可能性)を定義するために不可欠なものです(後述)。
</p>

<p>
このように「この記述はどこで役に立つの？」という意識を持つことで、全体像の理解につながります。
</p>
</blockquote>

<blockquote>
<p>
某書籍に「例示は理解の試金石」という言葉があります。
</p>

<p>
(略)
</p>

<p>
これは本当にそうで、読んだ内容を元に「こういうコードはこの記述を元に確かにこういう挙動をする」という例が作れるかどうかで理解の深さが段違いだという実感があります。
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgd1581cc" class="outline-3">
<h3 id="orgd1581cc"><a href="#orgd1581cc"><span class="todo TODO">TODO</span> <a href="https://go.dev/ref/spec">The Go Programming Language Specification - The Go Programming Language</a></a></h3>
<div class="outline-text-3" id="text-orgd1581cc">
<p>
言語の仕様書。
</p>
</div>
</div>
</div>
<div id="outline-container-org812370c" class="outline-2">
<h2 id="org812370c"><a href="#org812370c">Reference</a></h2>
<div class="outline-text-2" id="text-org812370c">
</div>
<div id="outline-container-orgc2d1d03" class="outline-3">
<h3 id="orgc2d1d03"><a href="#orgc2d1d03"><a href="https://zenn.dev/hsaki/books/golang-concurrency/viewer/goelement">ゴールーチンとチャネル｜Goでの並行処理を徹底解剖！</a></a></h3>
<div class="outline-text-3" id="text-orgc2d1d03">
<p>
Goルーチンの解説。
</p>
</div>
</div>
<div id="outline-container-org89c54d5" class="outline-3">
<h3 id="org89c54d5"><a href="#org89c54d5"><a href="https://qiita.com/Yaruki00/items/7edc04720a24e71abfa2">Goでflagを使ってコマンドライン引数を扱う - Qiita</a></a></h3>
<div class="outline-text-3" id="text-org89c54d5">
<p>
手軽に使える。
</p>
</div>
</div>
<div id="outline-container-org614992c" class="outline-3">
<h3 id="org614992c"><a href="#org614992c"><a href="https://ebiten.org/">Ebitengine - A dead simple 2D game library for Go</a></a></h3>
<div class="outline-text-3" id="text-org614992c">
<p>
Goのゲームライブラリ。
</p>
</div>
</div>
</div>
<div id="outline-container-orga16c4ff" class="outline-2">
<h2 id="orga16c4ff"><a href="#orga16c4ff">Archives</a></h2>
<div class="outline-text-2" id="text-orga16c4ff">
</div>
<div id="outline-container-org4251089" class="outline-3">
<h3 id="org4251089"><a href="#org4251089"><span class="done DONE">DONE</span> EmacsにLSP+DAPを設定する</a></h3>
<div class="outline-text-3" id="text-org4251089">
<p>
DAP(Debug Adapter Protocol)はデバッガー補助。エディタ関係なくIDEのようにエディタ上でブレークポイントをセットできるプロトコル。<a href="20220305121848-lsp.html#ID-eb807577-cd69-478c-8f82-264243c67354">LSP</a>のデバッガーバージョン。
</p>

<p>
go用のファイルはemacs側で自動インストールできず、手動でインストールする必要がある。
</p>

<ul class="org-ul">
<li><a href="https://emacs-lsp.github.io/dap-mode/page/configuration/#go">Configuration - DAP Mode</a>
<ul class="org-ul">
<li>外部コマンドをgo installでインストール
<ul class="org-ul">
<li>LSPは <code>gopls</code></li>
<li>Debuggerは <code>delve</code> (注意: VScode用のプログラムを用いる方法はdeprecatedで、現在は直接installするのが最新)</li>
</ul></li>
<li>Emacs側で設定、Emacs側が認識できるようにする</li>
</ul></li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 12: </span>インストールする</label><pre class="src src-shell">$ go get golang.org/x/tools/gopls                <span class="org-comment-delimiter"># </span><span class="org-comment">Language Server</span>
$ go get -v github.com/uudashr/gopkgs/cmd/gopkgs <span class="org-comment-delimiter"># </span><span class="org-comment">Go &#12497;&#12483;&#12465;&#12540;&#12472;</span>
$ go install golang.org/x/tools/cmd/goimports    <span class="org-comment-delimiter"># </span><span class="org-comment">import &#12398;&#36942;&#19981;&#36275;&#12434;&#33258;&#21205;&#12391;&#35036;&#23436;</span>
</pre>
</div>

<p>
自分の環境では一瞬デバッガのボタンが表示されて Debug Adapter finished になってしまう状態になった。Warningには <code>Warning (emacs): Initialize request failed: Failed to launch Disable showing Disable logging</code> が表示される。理由がよくわからないため、表示させる。 <code>(setq dap-print-io t)</code> を評価すると、messageバッファに詳細なログを出力する。
</p>

<p>
原因は、しっかりと表示されていた。
</p>

<blockquote>
<p>
&ldquo;format&rdquo;: &ldquo;Failed to launch: Go version 1.14.15 is too old for this version of Delve (minimum supported version 1.17, suppress this error with &#x2013;check-go-version=false)&rdquo;,
</p>
</blockquote>

<p>
ということで、goのバージョンを上げると無事デバッガが起動するようになった。
</p>
</div>
</div>
<div id="outline-container-org4089b8e" class="outline-3">
<h3 id="org4089b8e"><a href="#org4089b8e"><span class="done DONE">DONE</span> <a href="https://tatsu-zine.com/books/go-five-recipes">Go言語を楽しむ5つのレシピ コタツと蜜柑とゴーファーとわたし【委託】 - 達人出版会</a></a></h3>
<div class="outline-text-3" id="text-org4089b8e">
<p>
画像処理やWebAssemblyなど。
</p>

<p>
ざっと読んだだけ。コードの中は読んでないので必要になったら確認する。
</p>
</div>
</div>
<div id="outline-container-org13994c9" class="outline-3">
<h3 id="org13994c9"><a href="#org13994c9"><span class="done DONE">DONE</span> <a href="https://go-tour-jp.appspot.com/list">A Tour of Go</a></a></h3>
<div class="outline-text-3" id="text-org13994c9">
<p>
最初のチュートリアル。
</p>
</div>
</div>
<div id="outline-container-org7b46d2f" class="outline-3">
<h3 id="org7b46d2f"><a href="#org7b46d2f"><span class="done DONE">DONE</span> <a href="https://dev.classmethod.jp/articles/list-containers-by-docker-sdk-go/">Docker Engine SDKでコンテナ一覧を取得する | DevelopersIO</a></a></h3>
<div class="outline-text-3" id="text-org7b46d2f">
<p>
小さなコマンドラインツールの例。
</p>
</div>
</div>
<div id="outline-container-org5806643" class="outline-3">
<h3 id="org5806643"><a href="#org5806643"><span class="done DONE">DONE</span> <a href="https://haibara-works.hatenablog.com/entry/2020/12/05/235227">GoでDockerを操る [Docker Engine SDK] - はいばらのブログ</a></a></h3>
<div class="outline-text-3" id="text-org5806643">
<p>
goとdockerの解説。
</p>
</div>
</div>
<div id="outline-container-orga926b8d" class="outline-3">
<h3 id="orga926b8d"><a href="#orga926b8d"><span class="done DONE">DONE</span> <a href="https://zenn.dev/kenny/articles/b9dd668bf09efe">Goで作成したAPIをDockerで動かす</a></a></h3>
<div class="outline-text-3" id="text-orga926b8d">
<p>
APIのサンプルコード。
</p>
</div>
</div>
<div id="outline-container-orgaa11cb1" class="outline-3">
<h3 id="orgaa11cb1"><a href="#orgaa11cb1"><span class="done DONE">DONE</span> <a href="https://www.amazon.co.jp/%E6%94%B9%E8%A8%822%E7%89%88-%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B-Go%E8%A8%80%E8%AA%9E-%E5%8F%A4%E5%B7%9D%E6%98%87-ebook/dp/B06WP6S2QT/ref=sr_1_1?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&amp;crid=1GPYX46MK3OK&amp;keywords=%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8B+go%E8%A8%80%E8%AA%9E&amp;qid=1663028634&amp;sprefix=%E5%9F%BA%E7%A4%8E%E3%81%8B%E3%82%89%E3%82%8F%E3%81%8B%E3%82%8Bgo%E8%A8%80%E8%AA%9E%2Caps%2C2056&amp;sr=8-1">改訂2版 基礎からわかる Go言語 | 古川昇 | 工学 | Kindleストア | Amazon</a></a></h3>
<div class="outline-text-3" id="text-orgaa11cb1">
<ul class="org-ul">
<li>117, 133, 141, 155</li>
</ul>

<p>
Go言語の入門本。
</p>

<ul class="org-ul">
<li>Goでは、最初の文字が大文字で始まる名前は、外部のパッケージから参照できるエクスポートされた名前。例えばPiはmathパッケージでエクスポートされる</li>
</ul>

<div class="org-src-container">
<pre class="src src-go">package main
import (
        "fmt"
        "math"
)
func main() {
        fmt.println(Math.pi)
}
</pre>
</div>

<ul class="org-ul">
<li>変数が存在するメモリ上の位置を「アドレス」といい、そのアドレスを格納可能な変数を「ポインタ」という</li>
<li><code>int</code> 型変数のアドレスを格納できるポインタの型は <code>*int</code> 型というように、アスタリスクをつける</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 13: </span>ポインタ</label><pre class="src src-go">var ptr *int
var i int = 12345
ptr = &amp;i

fmt.Println("iのアドレス:", &amp;i)
fmt.Println("ptrの値(変数iのアドレス):", ptr)

fmt.Println("iの値:", i)
fmt.Println("ポインタ経由のiの値:", *ptr)

*ptr = 999
fmt.Println("ポインタ経由で変更したiの値:", i)
</pre>
</div>

<div class="results" id="org92f9882">
<p>
iのアドレス: 0xc0000b6010
ptrの値(変数iのアドレス): 0xc0000b6010
iの値: 12345
ポインタ経由のiの値: 12345
ポインタ経由で変更したiの値: 999
</p>

</div>

<div class="org-src-container">
<pre class="src src-go">func main() {
        a, b := 1, 1

        double(a, &amp;b)
        fmt.Println("値渡し:", a)
        fmt.Println("ポインタ渡し:", b)
}

func double(x int, y *int) {
        x = x * 2
        *y = *y * 2
}
</pre>
</div>

<div class="results" id="org7abe3a9">
<p>
値渡し: 1
ポインタ渡し: 2
</p>

</div>

<p>
関数リテラル。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 14: </span>関数リテラル = 無名関数</label><pre class="src src-go">func main() {
        val := 123

        // 関数リテラルの記述と呼び出しを同時に行う
        func(i int) {
                // 関数リテラル外の変数valにアクセス可能
                fmt.Println(i * val)
        }(10)

        // 関数リテラルを変数に代入
        f := func(s string) {
                fmt.Println(s)
        }

        f("hoge")
}
</pre>
</div>

<div class="results" id="org4e88cb4">
<p>
1230
hoge
</p>

</div>

<p>
関数型。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 15: </span>代入して呼び出す</label><pre class="src src-go">func main() {
        // 関数型の変数宣言
        var f func(int, int) int

        // 関数リテラルの値を代入
        f = func(a int, b int) int {
                return a + b
        }

        // 関数型の変数経由で関数を呼び出す
        fmt.Println(f(1, 2))


        // 関数型の変数に値を代入
        f = multiply

        // 関数型の変数経由で関数を呼び出す
        fmt.Println(f(1, 2))
}

func multiply(x int, y int) int {
        return x * y
}
</pre>
</div>

<div class="results" id="orgc1a4b7f">
<p>
3
2
</p>

</div>

<p>
メソッドの宣言。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 16: </span>型に実装する</label><pre class="src src-go">type myType int

// myType型をレシーバに持つ関数、すなわちmyType型のメソッドを宣言。レシーバは一番最初に書く
func (value myType) println() {
        fmt.Println(value)
}

func main() {
        // myType型の変数を宣言する
        var z myType = 1234

        // myType型のメソッドを呼び出す
        z.println()
}
</pre>
</div>

<div class="results" id="org3a650b6">
<p>
1234
</p>

</div>

<p>
メソッドのレシーバをポインタにする。
</p>

<div class="org-src-container">
<pre class="src src-go">// int型
type myType int

func (value myType) setByValue(newValue myType) {
        // ここで値を代入しても無意味。Valueはコピーされるので
        value = newValue
}

func(value *myType) setByPointer(newValue myType) {
        // 代入した値が反映される
        *value = newValue
}
func main() {
        var x myType = 0

        // レシーバは値。値は変更できない
        x.setByValue(1)
        fmt.Println("値: 0 -&gt;", x)

        // レシーバはポインタ。値は変更できる
        x.setByPointer(2)
        fmt.Println("ポインタ: 0 -&gt;", x)
}

</pre>
</div>

<div class="results" id="orgf4ff226">
<p>
値: 0 -&gt; 0
ポインタ: 0 -&gt; 2
</p>

</div>

<p>
構造体型に名前をつける。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 17: </span>構造体にMyDataという新しい型名を与える</label><pre class="src src-go">type MyData struct {
      s string
      b byte
}
</pre>
</div>

<div class="results" id="org837f613">

</div>

<ul class="org-ul">
<li>メソッドの宣言には値レシーバ、ポインタレシーバの2つがある。混在させるべきではない
<ul class="org-ul">
<li>変数レシーバではメソッドの操作は元の変数のコピーを操作する</li>
<li>ポインタレシーバでは、ポインタを使うので元の変数を変更できる</li>
</ul></li>
<li>ポインタレシーバを使う2つの理由
<ul class="org-ul">
<li>メソッドがレシーバが指す先の変数を変更するため</li>
<li>メソッドの呼び出し毎に変数のコピーを避けるため</li>
</ul></li>
</ul>

<p>
匿名フィールド。匿名フィールドが持つフィールドとメソッドが、埋め込み先の構造体型にも実装されているかのように扱われる。Go言語には型の実装はないが、構造体に他の型を埋め込むことで継承似たようなことを実現できる。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 18: </span>埋め込み</label><pre class="src src-go">// 埋め込まれる型の構造体
type embedded struct {
        i int
}

// embedded型のメソッド
func (x embedded) doSomething() {
        fmt.Println("test.doSomething()")
}

// 埋め込み先の構造体
type test struct {
        embedded // embedded型の埋め込み
}

func main() {
        var x test

        // embedded型に実装されているメソッドに、test型の値でアクセス
        x.doSomething()

        // embedded型のフィールドに、test型の値でアクセス
        fmt.Println(x.i)
}
</pre>
</div>

<div class="results" id="org43ec7d4">
<p>
test.doSomething()
0
</p>

</div>

<p>
構造体の初期化。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 19: </span>2つの方法がある</label><pre class="src src-go">type Person struct {
        name string
        age int
}

func main() {
        // 構造体リテラルを使用せず、フィールドを個別に初期化
        var p1 Person
        p1.name = "Jhon"
        p1.age = 23

        // 構造体リテラルで初期化
        p2 := Person{age: 31, name: "Tom"}
        p3 := Person{"Jane", 42}
        p4 := &amp;Person{"Mike", 36}
        fmt.Println(p1, p2, p3, p4)
}
</pre>
</div>

<div class="results" id="orgbb6916d">
<p>
{Jhon 23} {Tom 31} {Jane 42} &amp;{Mike 36}
</p>

</div>

<p>
埋め込みを行った構造体を構造体リテラルで初期化する。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 20: </span>埋め込み</label><pre class="src src-go">type Person struct {
        name string
        age int
}

type Employee struct {
        id int
        Person // 埋め込み
}

func main() {
        e := Employee{1, Person{"jack", 28}}
        fmt.Println(e)
}
</pre>
</div>

<div class="results" id="org7c6c460">
<p>
{1 {jack 28}}
</p>

</div>

<p>
Go言語のインターフェースの役割は「振る舞い」を規定すること。Go言語のインターフェースは「インターフェース」と「それを実装した型」との関係性を明示的に記述する必要がない。インターフェースに定義されている関数をメソッドとして実装している型は、自動的にそのインターフェースを実装していることになる。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 21: </span>インターフェースと型は自動で関連付けられる</label><pre class="src src-go">type Calculator interface {
        // 関数の定義
        Calculate(a int, b int) int
}

type Add struct {
        // フィールドは持たない
}

// Add型にCalculatorインターフェースのCalculator関数を実装
func (x Add) Calculate(a int, b int) int {
        return a + b
}

type Sub struct { }

func (x Sub) Calculate(a int, b int) int {
        return a - b
}

func main() {
        var add Add
        var sub Sub

        var cal Calculator // interface

        cal = add // interfaceを満たす関数を持っているので、自動的にインターフェースを実装していることになり、代入できる
        fmt.Println("和:", cal.Calculate(1, 2))

        cal = sub
        fmt.Println("差:", cal.Calculate(1, 2))
}
</pre>
</div>

<div class="results" id="org5236912">
<p>
和: 3
差: -1
</p>

</div>

<p>
空インターフェース。関数を持たない空のインターフェース。定義関数をすべて実装している型はインターフェースを実装したことになるので、すべての型は空インターフェースを実装していることになる。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 22: </span>空インターフェース。どんな値でも代入できる。_ は未使用エラーを防ぐため</label><pre class="src src-go">var empty interface {}

empty = "abc"
empty = 12345
empty = 3.14

_ = empty
</pre>
</div>

<div class="results" id="org9400191">

</div>

<p>
関数を1つしか持たないインターフェースの場合、そのインターフェース名は「関数名+er」とするのが慣わし。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 23: </span>関数名がReadであれば、インターフェース名はReader</label><pre class="src src-go">type Reader interface {
        Read(p []byte) (n int, err error)
}
</pre>
</div>

<p>
型アサーションはインターフェース型の値を他の型へ変換するとき、または変換できるか確認するときに使う。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 24: </span>型アサーション</label><pre class="src src-go">func main() {
        // 空インターフェースにstring型の値を格納
        var i interface{} = "test"
        // 型アサーションを使いstring型へ
        var s string = i.(string) // 型アサーション
        fmt.Printf("i: %T\n", i)
        fmt.Printf("s: %T\n", s)
}
</pre>
</div>

<div class="results" id="org8ff4989">
<p>
i: string
s: string
</p>

</div>

<p>
型アサーション失敗時にランタイムパニックを発生させない。チェックに使う。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 25: </span>型アサーションから2番目の値を受け取るときは、変換できなくてもランタイムパニックは起きない</label><pre class="src src-go">func main() {
        // 空インターフェースにstring型の値を格納
        var i interface{} = "test"

        // 型アサーションに成功する例
        s1, ok := i.(string)
        fmt.Println(s1, ok)

        // 型アサーションに失敗する例
        // string型はdummyメソッドを持たないので変換できない
        s2, ok := i.(interface {
                dummy()
        })
        fmt.Println(s2, ok)
}
</pre>
</div>

<div class="results" id="orgdf0ae92">
<p>
test true
&lt;nil&gt; false
</p>

</div>

<p>
型switch文。通常のswitch文とは異なる。式switchが値によって分岐するのに対し、型switch文は値が持つ型によって分岐する。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 26: </span>型switch</label><pre class="src src-go">func main() {
        showType(nil)
        showType(12345)
        showType("abcdef")
        showType(3.14)
}

func showType(x interface{}) {
        switch x.(type) {

        case nil:
                fmt.Println("nil")

        case int, int32, int64:
                fmt.Println("整数")

        case string:
                fmt.Println("文字列")

        default:
                fmt.Println("不明")
        }
}
</pre>
</div>

<div class="results" id="org960978e">
<p>
nil
整数
文字列
不明
</p>

</div>

<p>
配列アクセス。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 27: </span>配列にアクセスする</label><pre class="src src-go">func main() {
        var date [7]string

        date[0] = "日曜日"
        date[1] = "月曜日"
        date[2] = "火曜日"
        date[3] = "水曜日"
        date[4] = "木曜日"
        date[5] = "金曜日"
        date[6] = "土曜日"

        // indexバージョン
        for i := 0; i &lt; len(date); i++ {
                fmt.Print(date[i], " ")
        }

        // rangeバージョン
        // 改行
        fmt.Println()

        for _, value := range date {
                fmt.Print(value, " ")
        }

        fmt.Println()
}
</pre>
</div>

<div class="results" id="org09f5b84">
<p>
日曜日 月曜日 火曜日 水曜日 木曜日 金曜日 土曜日
日曜日 月曜日 火曜日 水曜日 木曜日 金曜日 土曜日
</p>

</div>

<ul class="org-ul">
<li>スライス → 可変長</li>
<li>配列 → 非可変長</li>
</ul>

<p>
スライス式。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 28: </span>スライスにアクセスする</label><pre class="src src-go">func main() {
        // 配列を宣言
        x := [5]string{"a", "b", "c", "d", "e"}
        // スライス型の変数を宣言
        var s1 []string

        // 配列全体をスライス
        s1 = x[:]
        fmt.Println(s1)

        // インデックス1~3までをスライス
        s2 := x[1:4]
        fmt.Println(s2)

        // インデックス3~をスライス
        s3 := x[3:]
        fmt.Println(s3)

        // インデックス1~3をスライス
        s4 := x[:4]
        fmt.Println(s4)
}
</pre>
</div>

<div class="results" id="org1845088">
<p>
[a b c d e]
[b c d]
[d e]
[a b c d]
</p>

</div>

<p>
スライスは「参照型」の1つ。Go言語にはスライス、マップ、チャネルという3つの参照型がある。データの実体を持たず、データへの参照情報しか持たない。
</p>

<p>
スライスを可変長パラメータに直接受け渡す。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 29: </span>スライス&#x2026;で展開して渡す</label><pre class="src src-go">func main() {
        s := []string{"a", "b", "c"}

        // 以下2つの結果は同じ
        test(s...)
        test("a", "b", "c")
}
func test(s ...string) {
        fmt.Println(len(s), s)
}
</pre>
</div>

<div class="results" id="orgfb5e007">
<p>
3 [a b c]
3 [a b c]
</p>

</div>

<p>
エラーハンドリング。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 30: </span>存在しないファイルを参照して失敗させて検証する</label><pre class="src src-go">func main() {
        file, err := os.Open("test.txt")

        if err != nil {
                fmt.Println(err.Error())
                // os.Exit(1)
        }

        file.Close()
        fmt.Println("finish")
}
</pre>
</div>

<div class="results" id="orgaebdd7c">
<p>
open test.txt: no such file or directory
finish
</p>

</div>

<p>
独自のエラー処理。
</p>

<div class="org-src-container">
<pre class="src src-go">        type MyError struct {
                message string
        }

        func (err MyError) Error() string {
                return err.message
        }

      func main() {
          val, err := hex2int("1")
          fmt.Println(val, err)

          val, err = hex2int("00000f")
          fmt.Println(val, err)

          val, err = hex2int("abcd")
          fmt.Println(val, err)

          val, err = hex2int("z")
          fmt.Println(val, err)
    }

// 16進数文字列をint型に変換する
  func hex2int(hex string) (val int, err error) {
        // 1文字づつ取り出す
      for _, r := range hex {
            val *= 16
            switch {
                  case '0' &lt;= r &amp;&amp; r &lt;= '9':
                  val += int(r - '0')
                  case 'a' &lt;= r &amp;&amp; r &lt;= 'f':
                  val += int(r-'a') + 10
                  default:
                  return 0, MyError{"不正な文字列です。" + string(r)}
            }
      }

      // 戻り値errには初期値であるnilが返る
      return
}

</pre>
</div>

<div class="results" id="org19df5f9">
<p>
1 &lt;nil&gt;
15 &lt;nil&gt;
43981 &lt;nil&gt;
0 不正な文字列です。z
</p>

</div>

<p>
処理終了。
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 31: </span>panic関数</label><pre class="src src-go">func main() {
        f1()
}

func f1() {
        panic("パニック発生 ")
}
</pre>
</div>

<div class="results" id="org5d6722c">

</div>

<p>
チャネルはGoプログラムの中の通信機構で、ごルーチン間における通信、同期、値の同期に使用する。
</p>

<div class="org-src-container">
<pre class="src src-go">func main() {
        c := make(chan int, 10)
        c &lt;- 0

        fmt.Println("cap:", cap(c))
        fmt.Println("len:", len(c))
}
</pre>
</div>

<div class="results" id="org1890661">
<p>
cap: 10
len: 1
</p>

</div>

<p>
selectは複数のチャネルに対して同時に送受信待ちを行うときに使用する。
</p>
</div>
</div>
<div id="outline-container-orgdd00732" class="outline-3">
<h3 id="orgdd00732"><a href="#orgdd00732"><span class="done DONE">DONE</span> <a href="https://future-architect.github.io/articles/20210427b/">GoでDockerのAPIを叩いてみる | フューチャー技術ブログ</a></a></h3>
<div class="outline-text-3" id="text-orgdd00732">
<p>
goとdocker。
</p>
</div>
</div>
<div id="outline-container-org2d0df43" class="outline-3">
<h3 id="org2d0df43"><a href="#org2d0df43"><span class="done DONE">DONE</span> <a href="https://blog.zaim.co.jp/n/nc05117f6dffd">Go でコマンドラインツールを作るときに便利なパッケージ｜@hira</a></a></h3>
<div class="outline-text-3" id="text-org2d0df43">
<p>
環境変数、カラー、インジケータ。
</p>
</div>
</div>
<div id="outline-container-org9e95531" class="outline-3">
<h3 id="org9e95531"><a href="#org9e95531"><span class="done DONE">DONE</span> cloneツール作成</a></h3>
<div class="outline-text-3" id="text-org9e95531">
<p>
clonerのgoバージョンを作成する。
</p>
</div>
</div>
<div id="outline-container-org0eff1c8" class="outline-3">
<h3 id="org0eff1c8"><a href="#org0eff1c8"><span class="done DONE">DONE</span> gcloneをリファクタする</a></h3>
<div class="outline-text-3" id="text-org0eff1c8">
<p>
goclocを読んでいると、gcloneのひどい書き方が目につく。型、構造体の使い方、ファイルやモジュール分割。一通り完了。非常に勉強になった。
</p>
</div>
</div>
<div id="outline-container-org20f4be4" class="outline-3">
<h3 id="org20f4be4"><a href="#org20f4be4"><span class="done DONE">DONE</span> <a href="https://zenn.dev/hsaki/books/golang-io-package">Goから学ぶI/O</a></a></h3>
<div class="outline-text-3" id="text-org20f4be4">
<p>
GoのIOの解説。
</p>

<blockquote>
<p>
os.File型のReadメソッドは以下のような実装となっています。
</p>

<ol class="org-ol">
<li>os.file型のReadメソッドを呼ぶ</li>
<li>1の中でos.file型のreadメソッドを呼ぶ</li>
<li>2の中でpoll.FD型のReadメソッドを呼ぶ</li>
<li>3の中でsyscall.Readメソッドを呼ぶ</li>
<li>OSカーネルのシステムコールで読み込み処理</li>
</ol>
</blockquote>

<ul class="org-ul">
<li><a href="20220113160623-network.html#ID-c5102c82-3146-4710-a826-85a802997929">network</a>もI/Oと捉えられる。コネクションからデータを読み取る・書き込むといえるから</li>
<li><a href="20220108110637-linux.html#ID-7a81eb7c-8e2b-400a-b01a-8fa597ea527a">Linux</a>の設計思想として&ldquo;everything-is-a-file philosophy&rdquo;というものがある。キーボードからの入力も、プリンターへの出力も、ハードディスクやネットワークからのI/Oもありとあらゆるものをすべて「OSのファイルシステムにあるファイルへのI/Oとして捉える」という思想。ネットワークからのデータ読み取り・書き込みも、OS内部的には通常のファイルI/Oと変わらない。そのため、ネットワークコネクションに対しても、通常ファイルと同様にfdが与えられる</li>
<li>ファイル読み込みでもネットワークコネクションでも、システムコールsocket()を呼んで、fdを取得し、fdを内部フィールドに含んだ型を生成するところは共通</li>
<li>リスナーからコネクションを得る = リスナーからfdを取り出して、それをTCPConnにラップする</li>
</ul>
</div>
</div>
<div id="outline-container-orgf044664" class="outline-3">
<h3 id="orgf044664"><a href="#orgf044664"><span class="done DONE">DONE</span> gclone拡張</a></h3>
<div class="outline-text-3" id="text-orgf044664">
<p>
ファイルサイズの増分、各所要時間を表示する。
</p>

<p>
ダウンロードしているとき先にリポジトリ名を表示して、あとから結果に応じて記号をつける。
</p>

<div class="org-src-container">
<pre class="src src-shell">github@gclone... &#10004; (10s)
github@go............ &#10007; (0.6s)
...
40.4s
10.1G
</pre>
</div>

<p>
インラインに表示するのがむずかしい。spinnerとコンフリクトしてるのか。
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"/>
</div>
</body>
</html>
