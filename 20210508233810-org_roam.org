#+title: Org-roam

Org-roamはRoam[fn:1]の[[file:20210508234743-emacs.org][Emacs]]版。
分割＋それらをリンクすることで知識を構造化します。

- GitHubリポジトリ :: https://github.com/org-roam/org-roam
- 公式サイト :: https://www.orgroam.com/
- マニュアル :: https://www.orgroam.com/manual.html

* 設定
roamのデフォルトディレクトリを作成して、そこでファイルが作成されたり、検索対象になる。

#+begin_src emacs-lisp
  (require 'org-roam)
  (add-hook 'after-init-hook 'org-roam-mode)
  (make-directory "~/roam" t)
  (setq org-roam-directory "~/roam")
#+end_src

#+begin_src emacs-lisp
  (setq org-roam-completion-everywhere t)
  (define-key org-mode-map (kbd "C-M-i") 'completion-at-point)
#+end_src
リンク補完が有効になります。非常に便利。

#+begin_src emacs-lisp
  (define-key org-roam-mode-map (kbd "C-c n l") 'org-roam)
  (define-key org-roam-mode-map (kbd "C-c n f") 'org-roam-find-file)
  (define-key org-roam-mode-map (kbd "C-c n g") 'org-roam-graph)
  (define-key org-mode-map (kbd "C-c n i") 'org-roam-insert)
  (define-key org-mode-map (kbd "C-c n I") 'org-roam-insert-immediate)
#+end_src
* キーバインド
 - find(C-c n f)
 - バックリンク(C-c n l)
 - Roamリンク挿入(C-c n i)補完を有効にすることであまり使わなくなる。
* 日本語入力
https://debbugs.gnu.org/cgi/bugreport.cgi?bug=35610#38

言語設定を日本語にしただけでは入力や表示ができない。手動で設定する必要がある。
#+begin_src shell
  guix package -i ibus ibus-anthy font-adobe-source-han-sans
#+end_src

~.bash_profile~ などに追加。
#+begin_src emacs-lisp
  export GUIX_GTK2_IM_MODULE_FILE="$HOME/.guix-profile/lib/gtk-2.0/2.10.0/immodules-gtk2.cache"
  export GUIX_GTK3_IM_MODULE_FILE="$HOME/.guix-profile/lib/gtk-3.0/3.0.0/immodules-gtk3.cache"
#+end_src

再起動する。
Region & Language →　Add input(+)　→　Japanese。
一覧にJapanese(Anthy)が追加されているので、選択する。

- インプットメソッド切り替えはKeyboard Shortcutからできる。
- ibus設定画面はGNOME検索には出てこない。言語選択のJapanese(Anthy)歯車から設定できる。

* 参考リンク
#+begin_quote
https://www.youtube.com/watch?v=AyhPmypHDEw
https://www.mhatta.org/wp/2021/02/20/org-mode-101-9/#org125e180
#+end_quote
* 脚注
[fn:1] https://roamresearch.com/ 元となったRoam Researchは、Webでのアウトラインツール。
