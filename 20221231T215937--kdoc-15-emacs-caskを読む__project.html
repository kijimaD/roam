<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-11-11T23:12:09Z -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>KDOC 15: Emacs Caskã‚’èª­ã‚€</title>
<meta name="author" content="kijimaD" />
<meta name="generator" content="Org Mode" />
<link rel='shortcut icon' type='image/x-icon' href='https://kijimad.github.io/roam/favicon.ico' /><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' media='print' onload='this.media="all"' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/site.css' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/code.css' /><link rel='preconnect' href='https://fonts.googleapis.com'><link rel='preconnect' href='https://fonts.gstatic.com' crossorigin><link href='https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP&display=swap' rel='stylesheet'>
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content" class="content">
<h1 class="title">KDOC 15: Emacs Caskã‚’èª­ã‚€</h1>
<p>
Caskã¯<a href="20210508234743-emacs.html#ID-1ad8c3d5-97ba-4905-be11-e6f2626127ad">Emacs</a>ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ—æŒ™ã—ã€åŒã˜ç’°å¢ƒã‚’å†ç¾ã§ãã‚‹ã€‚Caskã®ä»•çµ„ã¿ã‚’èª¿ã¹ã‚‹ã€‚
</p>
<div id="outline-container-org2fa4c3c" class="outline-2">
<h2 id="org2fa4c3c"><a href="#org2fa4c3c">memo</a></h2>
<div class="outline-text-2" id="text-org2fa4c3c">
</div>
<div id="outline-container-orga9bdbfe" class="outline-3">
<h3 id="orga9bdbfe"><a href="#orga9bdbfe">æ©Ÿèƒ½</a></h3>
<div class="outline-text-3" id="text-orga9bdbfe">
<p>
ãã‚‚ãã‚‚ã©ã‚“ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã‹ã€‚
</p>

<p>
<code>define-error</code> å„ã‚¨ãƒ©ãƒ¼ã®å®šç¾©ã€‚
</p>

<p>
<code>defstruct</code> ã¯æ§‹é€ ä½“ã‚’å®šç¾©ã™ã‚‹ Common Lisp ã®é–¢æ•°ã€‚ä½¿ã„æ–¹ãŒã‚ã‹ã‚‰ãªã„ã€‚
</p>

<p>
<code>check-parens</code> ã‚«ãƒƒã‚³ã®å¯¾å¿œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹é–¢æ•°ã€‚
</p>
</div>
</div>
<div id="outline-container-org3d64df8" class="outline-3">
<h3 id="org3d64df8"><a href="#org3d64df8">helpã®å‡ºåŠ›</a></h3>
<div class="outline-text-3" id="text-org3d64df8">
<p>
ãã‚‚ãã‚‚installä»¥å¤–ã®æ©Ÿèƒ½ã‚’çŸ¥ã‚‰ãªã„ã€‚
</p>

<div class="org-src-container">
<pre class="src src-nil">  USAGE: cask [COMMAND] [OPTIONS]

Emacs dependency management made easy

COMMANDS:

 pkg-file                                Write a â€˜define-packageâ€™ file.

                                         The file is written to the Cask project root path with name
                                         {project-name}-pkg.el.
 install                                 Install all packages specified in the Cask-file.

                                         The dependencies to packages are also installed.  If a package
                                         already is installed, it will not be installed again.
 update                                  Update package versions.

                                         All packages that are specified in the Cask-file will be updated
                                         including their dependencies.
 upgrade                                 Upgrade Cask itself and its dependencies.

                                         This command requires that Cask is installed using Git and that
                                         Git is available in â€˜exec-pathâ€™.
 upgrade-cask                            Upgrade Cask itself and its dependencies.

                                         This command requires that Cask is installed using Git and that
                                         Git is available in â€˜exec-pathâ€™.
 exec [*]                                Execute ARGS with correct â€˜exec-pathâ€™ and â€˜load-pathâ€™.
 version                                 Print version for the current project.
 list                                    List this package dependencies.
 info                                    Show info about the current package.
 help [command]                          Display usage information or documentation for COMMAND-NAME.
 load-path                               Print â€˜load-pathâ€™ for all packages and dependencies.

                                         The output is formatted as a colon path.
 exec-path                               Print â€˜exec-pathâ€™ for all packages and dependencies.

                                         A dependency will be included in this list of the package has a
                                         directory called bin in the root directory.

                                         The output is formatted as a colon path.
 eval &lt;form&gt;                             Eval FORM with the â€˜load-pathâ€™ set according to the project.
 path                                    Print â€˜exec-pathâ€™ for all packages and dependencies.

                                         A dependency will be included in this list of the package has a
                                         directory called bin in the root directory.

                                         The output is formatted as a colon path.
 package-directory                       Print current package installation directory.
 outdated                                Print list of outdated packages.

                                         That is packages that have a more recent version available for
                                         installation.
 files                                   Print list of files specified in the files directive.
                                         If no files directive or no files, do nothing.
 build                                   Build all Elisp files in the files directive.
 clean-elc                               Remove all byte compiled Elisp files in the files directive.
 link [*]                                Manage links.

                                         A link is just that, a symbolic link.  The purpose of the link
                                         command is that you should be able to work with local
                                         dependencies.

                                         For example, letâ€™s say you are developing an Emacs package that
                                         depends on f.el. Consider what happens if you need to extend f.el
                                         with some function that your package requires.

                                         With the link command, you can checkout f.el locally, add it as a
                                         link in your local package.  That means that when you require
                                         f.el, you will require the local package instead of the one
                                         fetched from the ELPA mirror.  Now you add the desired function
                                         to f.el and use your library to try it out.

                                         COMMAND-OR-NAME can be one of: delete, list or a link name.
                                         ARG is sent to some of the commands.

                                         Commands:

                                          $ cask link list

                                           List all project links.

                                          $ cask link name path

                                           Add local link with NAME to PATH.

                                          $ cask link delete name

                                           Delete local link with NAME.
 package [target-dir]                    Build package and put in TARGET-DIR or dist if not specified.
 emacs [*]                               Execute emacs with the appropriate environment.

OPTIONS:

 --proxy &lt;host&gt;                          Set Emacs proxy for HTTP and HTTPS to HOST.
 --http-proxy &lt;host&gt;                     Set Emacs proxy for HTTP to HOST.
 --https-proxy &lt;host&gt;                    Set Emacs proxy for HTTPS to HOST.
 --no-proxy &lt;host&gt;                       Set Emacs no-proxy to HOST.
 --version                               Print Caskâ€™s version.
 -h [command], --help [command]          Display usage information or documentation for COMMAND-NAME.
 --debug                                 Turn on debug output.
 --path &lt;path&gt;                           Run command in this PATH instead of in â€˜default-directoryâ€™.
 --verbose                               Be verbose and show debug output.
 --silent                                Be silent and do not print anything.
</pre>
</div>
</div>
</div>
<div id="outline-container-org46ad660" class="outline-3">
<h3 id="org46ad660"><a href="#org46ad660">eplã£ã¦ä½•</a></h3>
<div class="outline-text-3" id="text-org46ad660">
<p>
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚
</p>

<ul class="org-ul">
<li><a href="https://github.com/cask/epl">cask/epl: Emacs Package Library</a></li>
</ul>
</div>
</div>
<div id="outline-container-org9ecc6c2" class="outline-3">
<h3 id="org9ecc6c2"><a href="#org9ecc6c2">ä¾‹å¤–ã‚’è¿”ã™cask&#x2013;exit-error</a></h3>
<div class="outline-text-3" id="text-org9ecc6c2">
<p>
æ¸¡ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã«ã‚ˆã£ã¦æ­£ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã€‚
</p>

<div class="org-src-container">
<pre class="src src-git-permalink">https://github.com/kd-collective/cask/blob/467979414c85bb2ce83f5c6ab9f95721164e9efa/cask.el#L237
</pre>
</div>

<div class="results" id="orgd656102">
<p>
(defun cask&#x2013;exit-error (bundle err)
</p>

</div>
</div>
</div>
<div id="outline-container-org1a19cf1" class="outline-3">
<h3 id="org1a19cf1"><a href="#org1a19cf1">èª­ã¿é€²ã‚ã‚‹read</a></h3>
<div class="outline-text-3" id="text-org1a19cf1">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>read ã¯èª­ã¿é€²ã‚ã‚‹é–¢æ•°ã€‚1ã¤ã‚«ãƒ¼ã‚½ãƒ«ãŒé€²ã‚€</label><pre class="src src-emacs-lisp">(read (current-buffer))
</pre>
</div>
</div>
</div>
<div id="outline-container-org16b9861" class="outline-3">
<h3 id="org16b9861"><a href="#org16b9861">ã‚¨ãƒ©ãƒ¼ã‚’ã‚·ã‚°ãƒŠãƒ«ã™ã‚‹é–¢æ•°signal</a></h3>
<div class="outline-text-3" id="text-org16b9861">
<p>
signalã¯ã‚¨ãƒ©ãƒ¼ã‚’ã‚·ã‚°ãƒŠãƒ«ã™ã‚‹é–¢æ•°ã€‚
</p>
</div>
</div>
<div id="outline-container-orgcf7048b" class="outline-3">
<h3 id="orgcf7048b"><a href="#orgcf7048b">ãƒ­ãƒ¼ã‚«ãƒ«å®šç¾©é–¢æ•°ã‚’ä½œã‚‹cl-flet</a></h3>
<div class="outline-text-3" id="text-orgcf7048b">
<p>
ãƒ­ãƒ¼ã‚«ãƒ«å®šç¾©é–¢æ•°ã‚’ä½œã‚‹ã€‚
</p>
</div>
</div>
<div id="outline-container-org9a34b62" class="outline-3">
<h3 id="org9a34b62"><a href="#org9a34b62">ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä»˜ä¸ã™ã‚‹declare</a></h3>
<div class="outline-text-3" id="text-org9a34b62">
<p>
<a href="https://ayatakesi.github.io/emacs/24.5/elisp_html/Declare-Form.html">Declare Form (GNU Emacs Lisp Reference Manual)</a>
</p>

<p>
é–¢æ•°ã‚„ãƒã‚¯ãƒ­ã«ãƒ¡ã‚¿ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä»˜ä¸ã™ã‚‹ã®ã«ä½¿ã†ã€‚é™³è…åŒ–ãƒãƒ¼ã‚¯ã‚’ã¤ã‘ãŸã‚Šã€TABã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆè¦å‰‡ã‚’ã¤ã‘ãŸã‚Šã§ãã‚‹ã€‚ãŸã¨ãˆã°é€šå¸¸defunã§ã¯ç¬¬3å¼•æ•°ã«æ¥ã‚‹doc stringã‚’ã€ã»ã‹ã®ãƒã‚¯ãƒ­ã§å®šç¾©ã™ã‚‹ã®ã«ä½¿ã†ã€‚
</p>
</div>
</div>
<div id="outline-container-orgfaf7501" class="outline-3">
<h3 id="orgfaf7501"><a href="#orgfaf7501">cask&#x2013;with-file</a></h3>
<div class="outline-text-3" id="text-orgfaf7501">
<p>
å¼•æ•°ã®caskãŒå­˜åœ¨ã™ã‚Œã°ã€bodyã‚’è©•ä¾¡ã™ã‚‹ãƒã‚¯ãƒ­ã€‚
</p>

<dl class="org-dl">
<dt>f-file?</dt><dd>file-regular-p  ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã€‚regular file ã£ã¦ä½•</dd>
</dl>
</div>
</div>
<div id="outline-container-org1a0b0d3" class="outline-3">
<h3 id="org1a0b0d3"><a href="#org1a0b0d3">commanderãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a></h3>
<div class="outline-text-3" id="text-org1a0b0d3">
<p>
CLIã®å®Ÿè¡Œã«ã¯ã€commanderã¨ã„ã†ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã‚‹ã€‚ã“ã‚Œã‚’ä½¿ã£ã¦Emacs Lispã§æ›¸ã‹ã‚ŒãŸé–¢æ•°ã‚’ã‚·ã‚§ãƒ«ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ»ãƒ˜ãƒ«ãƒ—è¡¨ç¤ºãªã©ã‚’ommanderã§ã—ã¦ã„ã‚‹ã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-org8690fce" class="outline-2">
<h2 id="org8690fce"><a href="#org8690fce">Tasks</a></h2>
</div>
<div id="outline-container-org010dda2" class="outline-2">
<h2 id="org010dda2"><a href="#org010dda2">Archives</a></h2>
<div class="outline-text-2" id="text-org010dda2">
</div>
<div id="outline-container-orgf923476" class="outline-3">
<h3 id="orgf923476"><a href="#orgf923476"><span class="done DONE">DONE</span> cask-printã®ä»•çµ„ã¿&#xa0;&#xa0;&#xa0;<span class="tag"><span class="Write">Write</span></span></a></h3>
<div class="outline-text-3" id="text-orgf923476">
<p>
cask-printå†…ã§greené–¢æ•°ã‚’ä½¿ã£ã¦å‡ºåŠ›ã‚’è‰²ä»˜ã‘ã§ãã‚‹ã€‚ç›´æ¥greené–¢æ•°ã¯ä¸­ã§ãªã„ã¨åˆ©ç”¨ã§ããªã„ã€‚ã“ã‚Œã¯ã©ã†ã„ã†ä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã®ã ã‚ã†ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(cask-print <span class="org-string">"----"</span> (green <span class="org-string">"green"</span>) <span class="org-string">"----"</span>)
</pre>
</div>

<div class="results" id="org62d3b11">
<p>
-&#x2014;[32mgreen[0m-&#x2014;
</p>

</div>

<div class="org-src-container">
<pre class="src src-git-permalink">https://github.com/cask/cask/blob/bc168a11d7881a62657cdf19bab2e7966033ec2c/cask.el#L218-L226
</pre>
</div>

<div class="results" id="orgff09cf3">
<p>
(cl-defmacro cask-print (&amp;rest body &amp;key stderr &amp;allow-other-keys)
  "Print messages to `standard-output&rsquo;.
</p>

<p>
The BODY of this macro is automatically wrapped with
`with-ansi&rsquo; for easier colored output."
  (delq :stderr body)
  `(when (or (not (boundp &rsquo;cask-cli&#x2013;silent))
             (not cask-cli&#x2013;silent))
     (princ (with-ansi ,@body) ,(when stderr &rsquo;(function external-debugging-output)))))
</p>

</div>

<ul class="org-ul">
<li>cask-print
<ul class="org-ul">
<li>with-ansi</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-ansi <span class="org-string">"----"</span> (green <span class="org-string">"green"</span>))
</pre>
</div>

<div class="results" id="org9335739">
<p>
-&#x2014;[32mgreen[0m
</p>

</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ ansi.el</label><pre class="src src-emacs-lisp">(<span class="org-keyword">defmacro</span> <span class="org-function-name">with-ansi</span> (<span class="org-type">&amp;rest</span> body)
  <span class="org-doc">"Shortcut names (without ansi- prefix) can be used in this BODY."</span>
  (<span class="org-keyword">if</span> ansi-inhibit-ansi
      `(ansi--concat ,@body)
    `(<span class="org-keyword">cl-macrolet</span>
         ,(mapcar
           (<span class="org-keyword">lambda</span> (alias)
             (<span class="org-keyword">let</span> ((fn (intern (format <span class="org-string">"ansi-%s"</span> (symbol-name alias)))))
               `(,alias (string <span class="org-type">&amp;rest</span> objects)
                        ,(list 'backquote (list fn ',string ',@objects)))))
           (append
            (mapcar 'car ansi-colors)
            (mapcar 'car ansi-on-colors)
            (mapcar 'car ansi-styles)
            (mapcar 'car ansi-csis)))
       ,(cons 'ansi--concat body))))
</pre>
</div>

<ul class="org-ul">
<li>with~ç³»ã¯ã ã„ãŸã„ãƒã‚¯ãƒ­ã§ã€ãƒã‚¤ãƒ³ãƒ‰ã•ã‚ŒãŸé–¢æ•°ã‚’bodyã§æ¸¡ã™ãƒ•ã‚©ãƒ¼ãƒ ã§ä½¿ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã‚‹</li>
<li>with-ansié–¢æ•°ã®æ¦‚ç•¥
<ul class="org-ul">
<li>è‰²ã®ãƒªã‚¹ãƒˆ(black white &#x2026;)ã‚’ä½¿ã£ã¦ã€é–¢æ•°ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’å‰²ã‚Šå½“ã¦ã‚‹
<ul class="org-ul">
<li>(ansi-black) (<code>ansi-white</code>) ãƒã‚¯ãƒ­ãŒã‚ã‚‹ã€‚ãã‚Œã‚‰ã‚’ã€with-ansi å†…ã§ã¯(black) (white) ã§å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’å¼µã‚‹</li>
</ul></li>
<li>macroletã®ç¬¬1å¼•æ•°ã§ãƒã‚¯ãƒ­åã¨é–¢æ•°ã®ä¸­èº«ã‚’å®šç¾©ã—ã¦ã‚‹ã£ã½ã„
<ul class="org-ul">
<li>ã ã‹ã‚‰ã€ç¬¬2å¼•æ•°ã®bodyéƒ¨åˆ†ã§ã¯â†‘ãƒã‚¯ãƒ­ãŒä½¿ãˆã‚‹
<ul class="org-ul">
<li><code>,(cons 'ansi--concat body)</code> ã®ç®‡æ‰€</li>
</ul></li>
</ul></li>
<li>consã§bodyã‚’ansi&#x2013;concatã®å¼•æ•°ã«ã—ã¦ã‚‹ã€‚bodyå†…ã®blackã¨ã‹ã¯ã€macroletã§å®šç¾©ã—ãŸãƒã‚¯ãƒ­ã§è§£é‡ˆã•ã‚Œã‚‹</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgaa3365a" class="outline-3">
<h3 id="orgaa3365a"><a href="#orgaa3365a"><span class="done DONE">DONE</span> fetcherã¨ã¯ä½•ã‹</a></h3>
<div class="outline-text-3" id="text-orgaa3365a">
<p>
ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã£ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹ã¿ãŸã„ã€‚
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</label><pre class="src src-emacs-lisp">cask-fetchers
</pre>
</div>

<div class="results" id="org3604801">
<p>
(:git :bzr :hg :darcs :svn :cvs)
</p>

</div>

<p>
ã‚»ãƒƒãƒˆã•ã‚Œã¦ãªã„ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹ã€‚ãªã„å ´åˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‡¦ç†ã™ã‚‹ã€ãªã©ã®åˆ†å²ãŒã‚ã‚‹ã€‚
</p>
</div>
</div>
<div id="outline-container-org4d81463" class="outline-3">
<h3 id="org4d81463"><a href="#org4d81463"><span class="done DONE">DONE</span> ã©ã†ã‚„ã£ã¦installã—ã¦ã„ã‚‹ã‹</a></h3>
<div class="outline-text-3" id="text-org4d81463">
<ul class="org-ul">
<li>cask-install
<ul class="org-ul">
<li>cask&#x2013;with-environment ãƒã‚¤ãƒ³ãƒ‰ã—ã¦ã€bodyã‚’å®Ÿè¡Œã™ã‚‹
<ul class="org-ul">
<li>cl-destructuring-bind å®Ÿè¡Œçµæœã§å¤‰æ•°ã‚’ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹
<ul class="org-ul">
<li>cask&#x2013;dependencies-and-missing ä¾å­˜é–¢ä¿‚ã‚’é›†ã‚ã‚‹</li>
<li>cask&#x2013;install-dependency å€‹åˆ¥ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å®Ÿè¡Œ</li>
<li>missing-dependencies ã®ã¨ãã¯ã‚¨ãƒ©ãƒ¼ã‚’åã</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<p>
bundleæ§‹é€ ä½“ã«å¯¾ã—ã¦ã€ã•ã¾ã–ã¾ãªã‚¢ã‚¯ã‚»ã‚µãŒã‚ã‚‹æ„Ÿã˜ã‹ã€‚bundleãŒã‚ˆãã‚ã‹ã£ã¦ãªãã¦ãƒ”ãƒ³ã¨ãã¦ãªã„æ„Ÿã˜ã€‚ã»ã¨ã‚“ã©ã®é–¢æ•°ã¯bundleã‚’å¼•æ•°ã«ã¨ã‚‹ã€‚
</p>

<ul class="org-ul">
<li>cask&#x2013;install-dependency
<ul class="org-ul">
<li>printé–¢ä¿‚ã‚„ã£ã¦ã‚‹ã€‚è¦‹è¦šãˆãŒã‚ã‚‹</li>
<li>æœ¬è³ªçš„ã«ã¯epl-install-file ã‹ epl-package-install ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
<ul class="org-ul">
<li>install-fileã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€package installã¯åå‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‹</li>
<li>fetcherã®æœ‰ç„¡ã§åˆ†å²ã™ã‚‹</li>
<li>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã€ã¨ã„ã†ã“ã¨ã‹</li>
</ul></li>
<li>epl-refresh package descriptionã‚’æ›´æ–°ã™ã‚‹</li>
<li>cask&#x2013;checkout-and-package-dependency ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ‘ã‚¹ã‚’è¿”ã™</li>
<li>cask-dependency ç³»ã¯Caskã®depends-oné–¢æ•°ã§æŒ‡å®šã•ã‚Œã‚‹ã‚‚ã®ã€‚å„ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ã‚‹ã€‚</li>
<li>cask&#x2013;with-package å¼•æ•°ãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã‚ã‚Œã°bodyã‚’è©•ä¾¡ã—ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãªã‘ã‚Œã°ä¾‹å¤–ã‚’è¿”ã™</li>
<li>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åãŒå­˜åœ¨ã™ã‚‹ã‹ã€ã¾ãŸå¿…è¦ãªå€¤ã‚’æŒã£ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æœ€å¾Œã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
<ul class="org-ul">
<li>é€”ä¸­ã§ãŠã‹ã—ã„ã¨ã“ã‚ãŒã‚ã‚Œã°ä¾‹å¤–ã‚’å‡ºã™</li>
<li>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ epl-package-install ã‚’ä½¿ã†
<ul class="org-ul">
<li>å†…éƒ¨çš„ã«package-install ã‚’ä½¿ã†</li>
</ul></li>
<li>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ + è©•ä¾¡ã•ã‚Œã‚‹</li>
</ul></li>
</ul></li>
</ul>

<p>
ã¾ã¨ã‚ã‚‹ã¨ã€depend-onã®æƒ…å ±ã‚’å…ƒã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’ç‰¹å®šã™ã‚‹ã€‚ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æ—¢å­˜ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚fetcherã‚’å¤‰æ›´ã—ãŸã‚Šã‚‚ã‚ã‚‹ã®ã§ã€ãã®åˆ†å²ã‚‚å…¥ã£ã¦ã„ã‚‹ã€‚
</p>
</div>
</div>
<div id="outline-container-org6a48c68" class="outline-3">
<h3 id="org6a48c68"><a href="#org6a48c68"><span class="done DONE">DONE</span> ã©ã“ã§bundle structã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã‹</a></h3>
<div class="outline-text-3" id="text-org6a48c68">
<p>
ãƒ†ã‚¹ãƒˆã‚’è¦‹ã‚Œã°ã‚ˆã•ãã†ã«è¦‹ãˆã‚‹ã€‚
</p>

<ul class="org-ul">
<li>cask-test/with-bundle Caskãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’æ¸¡ã—ã¦ã€ç”Ÿæˆã™ã‚‹ + bodyè©•ä¾¡ã€‚bundleãŒãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¦ã‚‹
<ul class="org-ul">
<li>cask-test/with-sandbox
<ul class="org-ul">
<li>f-with-sandbox</li>
</ul></li>
</ul></li>
<li>(cask-setup cask-test/sandbox-path) ã¿ãŸã„ãªæ„Ÿã˜ã§bundleãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦cask-setupã«ã‚ˆã£ã¦ãƒ‘ãƒ¼ã‚¹ã‚’é–‹å§‹ã™ã‚‹ã€ã¨ã„ã†ã“ã¨ã‹ã€‚ãƒ‘ãƒ¼ã‚¹çµæœãŒbundleã§ã‚ã‚‹</li>
<li>CLIã‹ã‚‰å®Ÿè¡Œã—ãŸå ´åˆã‚‚ã€å…¨ãåŒã˜ã‚ˆã†ã«cask-setupã§bundleã‚’ç”¨æ„ã™ã‚‹ã€‚CLIã®ãƒ‘ã‚¹ãŒä½¿ã‚ã‚Œã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦å¤‰æ•°ã«å®Ÿè¡ŒçµæœãŒä¿å­˜ã•ã‚Œã‚‹ã¨ã„ã†ã ã‘ã®é•ã„</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>cask-bundleã®ä¸­èº«ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</label><pre class="src src-emacs-lisp">(cask-bundle-name (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-version (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-description (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-runtime-dependencies (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-development-dependencies (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-path (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-patterns (cask-setup <span class="org-string">"~/.emacs.d"</span>))
(cask-bundle-sources (cask-setup <span class="org-string">"~/.emacs.d"</span>))
</pre>
</div>

<div class="results" id="org830e68a">

</div>

<ul class="org-ul">
<li>cask-bundleã®ä¸­ã«cask-dependency[]ãŒã‚ã‚‹ã€‚dependencyã«nameã‚„versionãŒå«ã¾ã‚Œã¦ã„ã¦ã€åå‰ã‚’å…ƒã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹</li>
<li>Caskã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ãƒªã‚¹ãƒˆã¨ã—ã¦å‡¦ç†ã•ã‚Œã‚‹ã€‚æ§‹é€ ä½“ã«æ ¼ç´ã•ã‚Œã€ä¼æ’­ã™ã‚‹</li>
</ul>
</div>
</div>
<div id="outline-container-org427aa4c" class="outline-3">
<h3 id="org427aa4c"><a href="#org427aa4c"><span class="done DONE">DONE</span> ansi&#x2013;define</a></h3>
<div class="outline-text-3" id="text-org427aa4c">
<p>
Caskã¨ã„ã†ã‹ansiãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è©±ã€‚ã©ã†ã„ã†ä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ã‹ã€‚
(ansi&#x2013;define red) ã¨ã„ã†é¢¨ã«è‰²ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã€‚
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>ansi.el</label><pre class="src src-emacs-lisp">(<span class="org-keyword">defmacro</span> <span class="org-function-name">ansi--define</span> (effect)
  <span class="org-doc">"Define ansi function with EFFECT."</span>
  (<span class="org-keyword">let</span> ((fn-name (intern (format <span class="org-string">"ansi-%s"</span> (symbol-name effect)))))
    `(<span class="org-keyword">defun</span> ,fn-name (format-string <span class="org-type">&amp;rest</span> objects)
       ,(format <span class="org-string">"Add '</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">' ansi effect to text."</span> effect)
       (apply 'ansi-apply (cons ',effect (cons format-string objects))))))
</pre>
</div>

<ul class="org-ul">
<li>ansi&#x2013;define(my-test) ã¨ã™ã‚‹ã¨ã€ansi-my-testé–¢æ•°ãŒå®šç¾©ã•ã‚Œã‚‹
<ul class="org-ul">
<li>defunã®æ¬¡ã®è¡Œã¯docstring</li>
<li>ansi-apply å†…ã§å‘¼ã³å‡ºã•ã‚Œã‚‹ansi&#x2013;codeé–¢æ•°ã§ã€è‰²åã¨ç•ªå·ã‚’ç´ã¥ã‘ã¦ã„ã‚‹ã€‚ã ã‹ã‚‰ansi&#x2013;defineã§ã®å¼•æ•°ãŒgreenã ã¨greenã§ansi-applyã•ã‚Œã¦å¯¾å¿œã™ã‚‹32ãŒå–ã‚Šå‡ºã•ã‚Œã€ãã®å†…å®¹ã§ansi-greené–¢æ•°ãŒå®šç¾©ã•ã‚Œã‚‹</li>
<li>é©å½“ãªåå‰ã§ansi-defineã—ã¦ã‚‚ã€é–¢æ•°ã¯å®šç¾©ã•ã‚Œã‚‹ã€‚ã—ã‹ã—ã€å¯¾å¿œã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒå­˜åœ¨ã—ãªã„ãŸã‚å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(ansi-green <span class="org-string">"green"</span>)
</pre>
</div>

<div class="results" id="org738f558">
<p>
[32mgreen[0m
</p>

</div>
</div>
</div>
<div id="outline-container-org3ad2e34" class="outline-3">
<h3 id="org3ad2e34"><a href="#org3ad2e34"><span class="done DONE">DONE</span> ã©ã†ã‚„ã£ã¦DSLã‚’å®šç¾©ã—ã¦ã„ã‚‹ã‹</a></h3>
<div class="outline-text-3" id="text-org3ad2e34">
<p>
Cask-fileã§ã¯ã„ãã¤ã‹ã®DSLãŒä½¿ãˆã‚‹ãŒã€ãã®ä»•çµ„ã¿ã¯ã©ã†ãªã£ã¦ã„ã‚‹ã‹ã€‚
</p>

<p>
é©šãã»ã©ã‚·ãƒ³ãƒ—ãƒ«ã«å®Ÿè£…ã§ãã‚‹ã€‚
</p>

<ul class="org-ul">
<li>cask&#x2013;eval ã§å®šç¾©ã—ã¦ã„ã‚‹
<ul class="org-ul">
<li>dolistã§å„ãƒªã‚¹ãƒˆå‡¦ç†ã€‚ãã‚Œãã‚Œã®carã‚’è¦‹ã¦ã€cl-caseåˆ†å²</li>
<li>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒcaseã§å¼•ã£ã‹ã‹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¦ã€ãã®å‡¦ç†ãŒèµ°ã‚‹
<ul class="org-ul">
<li>ãŸã¨ãˆã°å¼•æ•°formsãŒ(source 1) ã®å ´åˆã¯ã€caseæ¡ä»¶ã§source ãŒä¸€è‡´ã—ã¦ãã“ã®å‡¦ç†ãŒèµ°ã‚‹ã€ã¨ã„ã†ã ã‘ã®ã“ã¨</li>
</ul></li>
<li>DSLã®å¼•æ•°ã¯cl-destructuring-bindã§formã‹ã‚‰ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹</li>
</ul></li>
</ul>

<p>
ã“ã‚Œã«ã‚ˆã£ã¦ã€å‡¦ç†å…¨ä½“ä¸­ã®ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ§‹é€ ä½“ã«èª­ã¿è¾¼ã‚€éƒ¨åˆ†ãŒç†è§£ã§ããŸã€‚
</p>

<ul class="org-ul">
<li>ãŸã¨ãˆã°depend-onã®å ´åˆã¯ã€bundleã«å€¤ã‚’è¿½åŠ ã™ã‚‹ã€‚DSLã‚’å‡¦ç†ã™ã‚‹æ®µéšã§ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹bundle structã«é›†ç©ã—ã¦ã„ã</li>
<li>ã‚ã¨ã‹ã‚‰ã€bundleã‹ã‚‰ã¾ã¨ã‚ã¦å¿…è¦ãªå€¤ã‚’å–ã‚Šå‡ºã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€ã¿ãŸã„ãªæ„Ÿã˜</li>
</ul>
</div>
</div>
<div id="outline-container-org363b83c" class="outline-3">
<h3 id="org363b83c"><a href="#org363b83c"><span class="done CLOSE">CLOSE</span> recipeã¨ã¯ä½•ã‹&#xa0;&#xa0;&#xa0;<span class="tag"><span class="Write">Write</span></span></a></h3>
<div class="outline-text-3" id="text-org363b83c">
<p>
ãŸã¾ã«è¦‹ã‚‹ãŒã©ã†ã„ã†æ„å‘³ãªã®ã ã‚ã†ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨é–¢ä¿‚ã‚ã‚Šãã†ã«è¦‹ãˆã‚‹ã€‚Melpaã®ãƒ¬ã‚·ãƒ”ã§ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¨ã‹URLã‚’æŒ‡å®šã™ã‚‹ãŒâ€¦ã“ã“ã§ã¯ã©ã†ã„ã†æ„å‘³ãªã®ã ã‚ã†ã€‚
</p>

<ul class="org-ul">
<li>package-recipe.el ãŒã‚ã‚‹
<ul class="org-ul">
<li>package-recipeã¨ã„ã†ã‚¯ãƒ©ã‚¹ãŒã‚ã‚‹</li>
<li>çµ„ã¿è¾¼ã¿ã§package-build ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã€‚å¯¾å¿œã™ã‚‹ä½•ã‹ãªã®ã ã‚ã†</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org614d416" class="outline-3">
<h3 id="org614d416"><a href="#org614d416"><span class="done CLOSE">CLOSE</span> cask installãŒé…ã„ç†ç”±&#xa0;&#xa0;&#xa0;<span class="tag"><span class="Write">Write</span></span></a></h3>
<div class="outline-text-3" id="text-org614d416">
<p>
ã‚ã‹ã‚‰ãªã„ã€‚
</p>

<p>
ã™ã§ã«å­˜åœ¨ã—ã¦ã„ã¦ã‚‚ã€0.5ç§’ãã‚‰ã„ã‹ã‹ã‚‹ã®ã§ã€300ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚ã‚‹ã¨150ç§’ã‹ã‹ã‚‹ã€‚
</p>

<p>
ã²ã¨ã¤ã²ã¨ã¤é€šä¿¡ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã ã‘ã ã¨ã“ã‚“ãªã«ã‹ã‹ã‚‰ãªã„ã¯ãšã ã€‚ãªãœã‹Macã ã¨ã™ãçµ‚ã‚ã£ã¦ã„ãŸã¯ãšã ãŒã€ã‚ã‹ã‚‰ãªã„ã€‚
</p>

<ul class="org-ul">
<li>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ã€ã„ãã¤ã‹ãƒã‚§ãƒƒã‚¯ãŒã‚ã£ã¦æœ€çµ‚çš„ã«èµ°ã‚‹</li>
<li>ã™ã§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã¨åˆ¤å®šã™ã‚Œã°ã€é€”ä¸­ã§æŠœã‘ã‚‹ã®ã§æ—©ã„ã¯ãšã€ã ãŒã“ã“ãŒã‚ã¾ã‚Šæ—©ããªã„</li>
<li>ãã®å‰ã®åˆ¤å®šã«æ¯”è¼ƒçš„æ™‚é–“ã®ã‹ã‹ã‚‹ç®‡æ‰€ãŒã‚ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹</li>
<li>cask&#x2013;dependency-installed-p ã§ã™ã§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã‚‹ã‹ã®åˆ¤å®šã‚’ã—ã¦ã„ã‚‹
<ul class="org-ul">
<li>å†…éƒ¨çš„ã« epl-package-installed-p ã‚’ä½¿ã£ã¦ã„ã‚‹</li>
<li>å¼•æ•°ã«æ§‹é€ ä½“epl-packageã‚’å–ã‚‹ã€‚epl-package-create é–¢æ•°ã‚’ä½¿ã£ã¦æ§‹é€ ä½“ã‚’åˆæœŸåŒ–ã™ã‚‹</li>
<li>é€šä¿¡ã¯ç™ºç”Ÿã—ã¦ãªã•ãã†
<ul class="org-ul">
<li>ã•ã‚‰ã«å†…éƒ¨ã§package-installed-p ã‚’ä½¿ã£ã¦ã„ã‚‹</li>
<li><code>package-activated-list</code> ã§ãƒã‚§ãƒƒã‚¯</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer>
</div>
</body>
</html>
