<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-11-27T23:10:54Z -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>KDOC 97: Partial Contentã®ä½¿ã„ã©ã“ã‚</title>
<meta name="author" content="kijimaD" />
<meta name="generator" content="Org Mode" />
<link rel='shortcut icon' type='image/x-icon' href='https://kijimad.github.io/roam/favicon.ico' /><link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' media='print' onload='this.media="all"' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/site.css' /><link rel='stylesheet' href='https://kijimad.github.io/roam/css/code.css' /><link rel='preconnect' href='https://fonts.googleapis.com'><link rel='preconnect' href='https://fonts.gstatic.com' crossorigin><link href='https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP&display=swap' rel='stylesheet'>
</head>
<body>
<div id="preamble" class="status">
<div><div class="header"><div class="container"><div class="row"><div class="col-sm-12 col-md-12"><nav class="navbar navbar-light"/></div></div></div></div></div>
</div>
<div id="content" class="content">
<h1 class="title">KDOC 97: Partial Contentã®ä½¿ã„ã©ã“ã‚</h1>
<div id="outline-container-org8bd355a" class="outline-2">
<h2 id="org8bd355a"><a href="#org8bd355a">ã“ã®æ–‡æ›¸ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</a></h2>
<div class="outline-text-2" id="text-org8bd355a">
<ul class="org-ul">
<li>ä½œæˆ
<ul class="org-ul">
<li class="on"><input type='checkbox' checked='checked' /> 2024-02-17 è²´å³¶</li>
</ul></li>
<li>ãƒ¬ãƒ“ãƒ¥ãƒ¼
<ul class="org-ul">
<li class="on"><input type='checkbox' checked='checked' /> 2024-02-25 è²´å³¶</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgfdb84d1" class="outline-2">
<h2 id="orgfdb84d1"><a href="#orgfdb84d1">æ¦‚è¦</a></h2>
<div class="outline-text-2" id="text-orgfdb84d1">
<p>
CDNã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚°ã‚’è¦‹ã¦ã„ã¦ã€HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ <code>200</code> ã«æ··ã˜ã£ã¦ <code>206</code> ãŒã‚ã£ãŸã€‚ã“ã‚ŒãŒä½•ã‹ã‚’æ•™ãˆã¦ã‚‚ã‚‰ã£ãŸã®ã§ãƒ¡ãƒ¢ã™ã‚‹ã€‚
</p>
</div>
</div>
<div id="outline-container-orgb4baaef" class="outline-2">
<h2 id="orgb4baaef"><a href="#orgb4baaef">ã‚¤ãƒ³ãƒˆãƒ­</a></h2>
<div class="outline-text-2" id="text-orgb4baaef">
<p>
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚‹ã€‚
</p>

<p>
<a href="https://developer.mozilla.org/ja/docs/Web/HTTP/Status/206">206 Partial Content - HTTP | MDN</a>
</p>

<blockquote>
<p>
HTTP 206 Partial Content ã¯æˆåŠŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã€ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã“ã¨ã€ãã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® Range ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¨˜è¿°ã•ã‚ŒãŸé€šã‚Šã€è¦æ±‚ã•ã‚ŒãŸç¯„å›²ã®ãƒ‡ãƒ¼ã‚¿ãŒæœ¬æ–‡ã«å«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚
</p>
</blockquote>

<p>
ã“ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ã©ã†ã„ã†ã¨ãã‹ã€‚
</p>

<ul class="org-ul">
<li><p>
URLãŒç”»åƒã ã£ãŸå ´åˆã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒã‚’è¡¨ç¤ºã—ãŸã„ã¨ã
</p>

<p>
Slackãªã‚“ã‹ã«ã‚ã‚‹æ©Ÿèƒ½ã€‚å…ˆã«ãã®URLã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ä¸€éƒ¨ã ã‘å–å¾—ã™ã‚‹(ç”»åƒã®å ´åˆãƒã‚¤ãƒŠãƒª)ã€‚ä¸€éƒ¨å–å¾—ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦åˆ¤å®šã™ã‚‹ã€‚ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹ã¨ãªã£ãŸã‚‰ã€ã‚‚ã†ä¸€åº¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’å–å¾—ã—ã¦ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒã¨ã—ã¦ã‚»ãƒƒãƒˆã™ã‚‹ã€‚1å›ã‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ®µéšã§ã™ã¹ã¦å–å¾—ã™ã‚‹æ„å‘³ã¯ãªã„ã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€éƒ¨ã ã‘ã‚’å–å¾—ã—ã¦ãã‚‹ã€‚
</p></li>

<li><p>
å‹•ç”»å†ç”Ÿ
</p>

<p>
é€”ä¸­ã‹ã‚‰å†ç”Ÿã—ã¦ã„ã‚‹ã®ã«ã€å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€åˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã®ã¯æ„å‘³ãŒãªã„ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚ã‚‹ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ä¸€éƒ¨ã ã‘ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã€‚å†ç”Ÿä½ç½®ã‹ã‚‰20ç§’é–“åˆ†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€ã¿ãŸã„ãªæ„Ÿã˜ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’æ–­ç¶šçš„ã«èµ°ã‚‰ã›ã‚‹ã“ã¨ã§ãƒªã‚½ãƒ¼ã‚¹ã®ç„¡é§„ã‚’ãªãã—ã€ã©ã“ã‹ã‚‰ã§ã‚‚å†ç”Ÿã§ãã‚‹ã€‚
</p></li>
</ul>
</div>
</div>
<div id="outline-container-org0be2398" class="outline-2">
<h2 id="org0be2398"><a href="#org0be2398">æ¤œè¨¼</a></h2>
<div class="outline-text-2" id="text-org0be2398">
<p>
å®Ÿéš›ã®å‹•ãã‚’<a href="20240210130812-curl.html#ID-b11fb9a4-0a26-4354-bc60-6c755c256b21">curl</a>ã§ç¢ºã‹ã‚ã‚‹ã€‚ãƒªãƒ³ã‚¯å…ˆã®ãƒã‚¤ãƒŠãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ã‚’ç¢ºèªã™ã‚‹ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã€‚å¯¾å¿œã—ã¦ãªã„ã‚µãƒ¼ãƒã§ã‚„ã£ã¦ã‚‚RangeæŒ‡å®šã¯ç„¡è¦–ã•ã‚Œã‚‹ã ã‘ãªã®ã§ã€<a href="20210926100207-wikipedia.html#ID-39f0af27-f685-4ce5-beac-a3398f648ba4">Wikipedia</a>ã®ãƒ¡ãƒ‡ã‚£ã‚¢ã‚µãƒ¼ãƒã§ç¢ºã‹ã‚ã‚‹ã€‚
</p>

<p>
ã¾ãšã€ç¯„å›²æŒ‡å®šã—ãªã„å ´åˆã€‚ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€‚ç¨®åˆ¥ã‚’ç¢ºèªã—ãŸã„ã ã‘ãªã®ã«ã‚‚ã£ãŸã„ãªã„ã€‚
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>ç”»åƒãƒã‚¤ãƒŠãƒªã‚’å–å¾—ã—ã¦ãƒã‚§ãƒƒã‚¯ã™ã‚‹</label><pre class="src src-shell"><span class="org-variable-name">tmpfile</span>=$(mktemp)
<span class="org-variable-name">result</span>=<span class="org-sh-quoted-exec">`curl -v --output $tmpfile https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/100px-Wikipedia-logo-v2.svg.png`</span>
file -b --mime-type $<span class="org-variable-name">tmpfile</span>
rm $<span class="org-variable-name">tmpfile</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-nil">image/png
</pre>
</div>

<p>
â†“ã“ã®ã¨ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ+ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã“ã†ãªã‚‹ã€‚
</p>

<div class="org-src-container">
<pre class="src src-nil">&gt; GET /wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/100px-Wikipedia-logo-v2.svg.png HTTP/2
&gt; Host: upload.wikimedia.org
&gt; User-Agent: curl/8.4.0
&gt; Accept: */*
&gt;

&lt; HTTP/2 200 ğŸ‘ˆ
&lt; date: Sat, 17 Feb 2024 02:23:17 GMT
&lt; etag: c4e5e81aa0475e2f1dae37acfadacd6c
&lt; server: ATS/9.1.4
&lt; content-type: image/png
&lt; content-disposition: inline;filename*=UTF-8''Wikipedia-logo-v2.svg.png
&lt; last-modified: Sun, 10 Sep 2023 12:27:10 GMT
&lt; content-length: 14729 ğŸ‘ˆ
&lt; age: 16405
&lt; x-cache: cp5032 miss, cp5032 hit/117
&lt; x-cache-status: hit-front
&lt; server-timing: cache;desc="hit-front", host;desc="cp5032"
&lt; strict-transport-security: max-age=106384710; includeSubDomains; preload
&lt; report-to: { "group": "wm_nel", "max_age": 604800, "endpoints": [{ "url": "https://intake-logging.wikimedia.org/v1/events?stream=w3c.reportingapi.network_error&amp;schema_uri=/w3c/reportingapi/network_error/1.0.0" }] }
&lt; nel: { "report_to": "wm_nel", "max_age": 604800, "failure_fraction": 0.05, "success_fraction": 0.0}
&lt; x-client-ip: 240b:10:91c1:d500:877b:f95b:ff57:d2fc
&lt; x-content-type-options: nosniff
&lt; access-control-allow-origin: *
&lt; access-control-expose-headers: Age, Date, Content-Length, Content-Range, X-Content-Duration, X-Cache
&lt; timing-allow-origin: *
&lt; accept-ranges: bytes
&lt;
</pre>
</div>

<ul class="org-ul">
<li>HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹200ã‚’è¿”ã—ã¦ã„ã‚‹</li>
<li>content-lengthã¯1ä¸‡ã‚’è¶…ãˆã¦ã„ã‚‹</li>
</ul>

<p>
æ¬¡ã«ã€Rangeã‚’æŒ‡å®šã—ã¦çµæœã‚’æ¯”è¼ƒã™ã‚‹ã€‚ä¸€éƒ¨ã ã‘å–å¾—ã™ã‚‹ã®ã§ç„¡é§„ãªè³‡æºã‚’ä½¿ã‚ãšç’°å¢ƒã«å„ªã—ã„ã€‚curlã§ã¯ <code>r</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦æŒ‡å®šã™ã‚‹ã€‚
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹</label><pre class="src src-shell"><span class="org-variable-name">tmpfile</span>=$(mktemp)
<span class="org-variable-name">result</span>=<span class="org-sh-quoted-exec">`curl -v --output $tmpfile -r 0-100 https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/100px-Wikipedia-logo-v2.svg.png`</span>
file -b --mime-type $<span class="org-variable-name">tmpfile</span>
rm $<span class="org-variable-name">tmpfile</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-nil">image/png
</pre>
</div>

<p>
â†‘ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚ã‚‹ã®ã§ã€ãƒã‚¤ãƒŠãƒªãŒä¸€éƒ¨ã ã‘ã§ã‚‚åˆ¤å®šã§ãã‚‹ã®ã‚’ç¢ºèªã§ããŸã€‚
</p>

<p>
â†“ã“ã®ã¨ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ+ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã“ã†ãªã‚‹ã€‚
</p>

<div class="org-src-container">
<pre class="src src-nil">&gt; GET /wikipedia/commons/thumb/8/80/Wikipedia-logo-v2.svg/100px-Wikipedia-logo-v2.svg.png HTTP/2
&gt; Host: upload.wikimedia.org
&gt; Range: bytes=0-100 ğŸ‘ˆ
&gt; User-Agent: curl/8.4.0
&gt; Accept: */*
&gt;
&lt; HTTP/2 206 ğŸ‘ˆ
&lt; date: Sat, 17 Feb 2024 02:23:17 GMT
&lt; etag: c4e5e81aa0475e2f1dae37acfadacd6c
&lt; server: ATS/9.1.4
&lt; content-type: image/png
&lt; content-disposition: inline;filename*=UTF-8''Wikipedia-logo-v2.svg.png
&lt; last-modified: Sun, 10 Sep 2023 12:27:10 GMT
&lt; age: 18113
&lt; x-cache: cp5032 miss, cp5032 hit/128
&lt; x-cache-status: hit-front
&lt; server-timing: cache;desc="hit-front", host;desc="cp5032"
&lt; strict-transport-security: max-age=106384710; includeSubDomains; preload
&lt; report-to: { "group": "wm_nel", "max_age": 604800, "endpoints": [{ "url": "https://intake-logging.wikimedia.org/v1/events?stream=w3c.reportingapi.network_error&amp;schema_uri=/w3c/reportingapi/network_error/1.0.0" }] }
&lt; nel: { "report_to": "wm_nel", "max_age": 604800, "failure_fraction": 0.05, "success_fraction": 0.0}
&lt; x-client-ip: 240b:10:91c1:d500:877b:f95b:ff57:d2fc
&lt; x-content-type-options: nosniff
&lt; access-control-allow-origin: *
&lt; access-control-expose-headers: Age, Date, Content-Length, Content-Range, X-Content-Duration, X-Cache
&lt; timing-allow-origin: *
&lt; accept-ranges: bytes
&lt; content-range: bytes 0-100/14729
&lt; content-length: 101 ğŸ‘ˆ
&lt;
</pre>
</div>

<ul class="org-ul">
<li>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã«Rangeãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¿½åŠ ã•ã‚ŒãŸ</li>
<li>HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹206ã‚’è¿”ã—ã¦ã„ã‚‹</li>
<li>content-lengthãŒæŒ‡å®šã—ãŸã‚µã‚¤ã‚ºã«ãªã£ã¦ã„ã‚‹</li>
</ul>

<p>
ã¨ã„ã†ã“ã¨ã§ã€ãƒªã‚½ãƒ¼ã‚¹ã®ä¸€éƒ¨ã ã‘å¿…è¦ãªã¨ãã¯206ã‚’ä½¿ã†ã€‚
</p>
</div>
</div>
<div id="outline-container-org711b28e" class="outline-2">
<h2 id="org711b28e"><a href="#org711b28e">é–¢é€£</a></h2>
<div class="outline-text-2" id="text-org711b28e">
<ul class="org-ul">
<li><a href="20240209T111023--kdoc-83-corsã‚’ç¢ºèªã™ã‚‹__wiki.html#ID-20240209T111023">KDOC 83: CORSã‚’ç¢ºèªã™ã‚‹</a>ã€‚curlã§èª¿ã¹ã‚‹ã¤ãªãŒã‚Š</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer class="footer py-3"><div class="container"><div class="row "><div class="col-md-4"></div><div class="col-sm col-md"><nav class="navbar"><a class="nav-link text-secondary small px-0" href="./index.html">Insomnia</a><a class="nav-link text-secondary small px-0" href="./sitemap.html">Sitemap</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD/roam">Repository</a><a class="nav-link text-secondary small px-0" href="https://github.com/kijimaD">@kijimaD</a></nav></div><div class="col-md-4"></div></div></div></footer>
</div>
</body>
</html>
