:PROPERTIES:
:ID:       1ad8c3d5-97ba-4905-be11-e6f2626127ad
:END:
#+title: Emacs

Emacsã¯ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®1ã¤ã€‚
[[id:c7e81fac-9f8b-4538-9851-21d4ff3c2b08][Emacs Lisp]]ã§æŸ”è»Ÿã«è¨­å®šã‚’å¤‰æ›´ã§ãã‚‹ã€‚
* ğŸ‘€è¨˜æ†¶ã—ãŸã„
** projectile-switch-to-buffer (C-c p b)
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«é™å®šã®switch-bufferã€‚
** <F1> b
ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã®ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
** projectile-ag (~C-c p s s~)
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’agæ¤œç´¢ã—ã¾ã™ã€‚æ¤œç´¢çµæœã‚’ãƒãƒƒãƒ•ã‚¡ã§å¾—ãŸã„ã¨ãã«ã€‚
** projectile-multi-occur (~C-c p o~)
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ ~occur~ ã—ã¾ã™ã€‚
occurã®ç‰¹å¾´ã¯eã§edit-modeã«å…¥ã‚Œã‚‹ç‚¹ã€‚ä¸€è¦§ã«ã—ã¦è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾ç½®æ›ã§ãã¾ã™ã€‚
** projectile-toggle-between-implementation-and-test (~C-c p t~)
ãƒ†ã‚¹ãƒˆã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚
** org-mode ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰
è¦‹å‡ºã—ç§»å‹•ã¨ã‹ã€‚
https://qiita.com/takaxp/items/a5a3383d7358c58240d0
** (magit-topic)
ä¸€è¦§ã§PRã¨Issueã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã¨è¡Œãæ¥ãŒã—ã‚„ã™ãã†ã€‚
Forgeã®ãƒˆãƒ”ãƒƒã‚¯é–“ç§»å‹•ãŒhelmã§ã§ããŸã‚‰ã„ã„ã®ã«ãªã€‚
** counsel-find-fileã§æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«
è£œå®Œé¸æŠã«ãªã£ã¦ã—ã¾ã£ã¦æ–°ã—ããƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚Œãªã„ã¨ãã€‚
C-M-jã§æ–°è¦ä½œæˆã§ãã‚‹ã€‚ãã‚“ãªã®ã‚ã‹ã‚‹ã‹â€¦ã€‚
READMEã®æœ€å¾Œã«æ›¸ã‹ã‚Œã¦ãŸã€(setq ivy-use-selectable-prompt t)ã‚’ã—ã¨ãã¨ä¸Šä¸‹é¸æŠã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚
é¸æŠä¸€è¦§ã«ã¯ã§ãªã„ã®ã§ã‚ã‹ã‚Šã«ãã„ã€‚
* âœTasks
** TODO vtermã§æ‹¬å¼§è£œå®ŒãŒä½¿ãˆãªã„
ãªã®ã§ã‚«ãƒƒã‚³é–¢ä¿‚ã¯ã‚³ãƒ”ãƒšã™ã‚‹ç¾½ç›®ã«ãªã‚‹ã€‚
** TODO autosaveãŒå‡ºã¦ãã¦ã†ã–ã„
è‡ªå‹•ã‚»ãƒ¼ãƒ–ã™ã‚‹ã¨æ¯å›ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå‡ºã¦ãã‚‹ã€‚
#+begin_src emacs-lisp
  (defun ask-user-about-supersession-threat (fn)
    "blatantly ignore files that changed on disk"
  )
  (defun ask-user-about-lock (file opponent)
    "always grab lock"
  t)

  ;; or

  (setq revert-without-query '(".*"))
#+end_src
ã‚’å®Ÿè¡Œã—ãŸãŒã€å¤‰ã‚ã‚‰ãªã„ã€‚
** TODO ã‚³ãƒ”ãƒšã—ãŸã¨ãã«ãŠã‹ã—ã„
~highlight-indent-guides-mode~ ãŒã‚³ãƒ”ãƒšã—ãŸã¨ãã«è¡¨ç¤ºãŒãŠã‹ã—ã„ã€‚
faceã¾ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‹ã‚‰ä»•æ–¹ãªã„ã®ã‹ãªã€‚
** TODO ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§åˆ†å²ã™ã‚‹ã¨ãã€ã©ã†ã‚„ã£ã¦byte-compileã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã™ã‚‹ã®ã‹
ãŸã¨ãˆã°helmã‚’ä½¿ã£ã¦ã‚‹ã¨ãã¯ã“ã‚Œã€ivyã®ã¨ãã¯ã“ã‚Œã¨ã‹ã§requireã™ã‚‹ã‚‚ã®ã¯å¤‰ã‚ã‚‹ã‚‚ã®ã ãŒã€‚æ—¢å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã©ã†ã—ã¦ã„ã‚‹ã®ã ã‚ã†ã€‚
** TODO Projectileã®å¹…ãŒã›ã¾ãã¦è¦‹ã¥ã‚‰ã„
ã»ã‹ã®completionã¯å¹…ã„ã£ã±ã„ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã‚‹ãŒã€projectileã¯æ–‡å­—ã®ã‚ã‚‹ã¨ã“ã‚ã—ã‹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œãªã„ã®ã§çŸ­ã„æ¤œç´¢ã®ã¨ãã«è¦‹ãˆã«ãã„ã€‚ãŸã¨ãˆã° ~counsel-find-file~ ã¨ã‹ ~counsel-find-file~ ã¨æ¯”ã¹ã‚‹ã¨ã‚ã‹ã‚‹ã€‚

counsel-projectileã‚’ä½¿ãˆã°å•é¡Œãªã„ã€‚ã§ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œãŒãŠã‹ã—ã„ã®ã§ä¿®æ­£ã—ãŸã„ã¨ã“ã‚ã€‚
ã„ã‚„ã€ivyã®å•é¡Œã½ã„ã€‚ivy yasnippetã‚’ã™ã‚‹ã¨åŒã˜ã‚ˆã†ãªçŠ¶æ…‹ã«ãªã‚‹ã€‚ãƒ†ãƒ¼ãƒã‚’å¤‰ãˆã¦ã‚‚ãã†ãªã‚‹ã€‚

org-refileã§ã‚‚åŒã˜ã‚ˆã†ãªæ„Ÿã˜ã€‚è¦èª¿æŸ»ã€‚
å…±é€šç‚¹ã¯ã€å³å´ã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‡ºãªã„ã¨ãã‹ã€‚ãã®ã¨ãã¯faceãŒè¨­å®šã•ã‚Œãªã„ã®ã§å³å´ã¾ã§ä¼¸ã³ãªã„ã€‚
** TODO vtermã§ã‚³ãƒ”ãƒ¼ã—ãŸã¨ãã«ã‚­ãƒ«ãƒªãƒ³ã‚°ã«å…¥ã‚‰ãªã„
** TODO GTAGSã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
* âœ”Archive
** DONE undoå±¥æ­´ã‚’ä¿æŒã—ãªã„ã¨ããŒã‚ã‚‹
CLOSED: [2021-08-17 ç« 09:41]
3ã¤ãã‚‰ã„ã—ã‹æˆ»ã‚Œãªã„ã¨ããŒã‚ã‚Šã€åŸå› ã¯ä¸æ˜ã€‚
undo-treeã§æˆ»ã‚Œã‚‹ã€‚
** DONE ~vterm-toggle~ ã‚’ã‚‚ã£ã¨è‰¯ã„æ„Ÿã˜ã«å‡ºã¦ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚toggleã§ã‚ªãƒ•ã«ãªã£ãŸã¨ãåˆ†å‰²ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒæ¶ˆãˆã‚‹ã€‚
CLOSED: [2021-05-30 æ—¥ 00:25]
è¨­å®šã‚’è¿½åŠ ã—ãŸã€‚
** DONE ~markdown-mode~ ã§Helm-M-xãŒä½œå‹•ã—ãªã„ã€‚...emacs-mozcã‚’ä½¿ã£ã¦ã„ã¦æ—¥æœ¬èªå…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã®ã¨ãhelmãŒã†ã¾ãä½œå‹•ã—ãªã„ã€‚
CLOSED: [2021-05-30 æ—¥ 00:25]
ã‚ˆãã‚ã‹ã‚‰ãªã„ã®ã§closeã€‚
** DONE åˆ—åã‚’è¡¨ç¤ºã™ã‚‹
CLOSED: [2021-07-26 æœˆ 09:41]
(global-display-line-numbers-mode)
linum-modeã‚ˆã‚Šã“ã£ã¡ã®ã»ã†ãŒã„ã„ã‚‰ã—ã„ã€‚
linum-modeã¯é‡ã‹ã£ãŸã€‚
å¤–è¦³ã‚‚ç¶ºéº—ã€‚
** DONE diredã§ç›´ã«ç·¨é›†ã™ã‚‹
CLOSED: [2021-06-23 æ°´ 01:34]
(wdired-change-to-wdired-mode)
ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«ã—ã¦ ~C-c C-c~ ã§å®Ÿè¡Œã—ã¾ã™ã€‚
** DONE è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«æ›¿ãˆ
CLOSED: [2021-06-23 æ°´ 01:34]
(org-cycle-level)
ä½•ã‚‚æ›¸ã„ã¦ãªã„è¦‹å‡ºã—ã§tabã€‚
** DONE è¦‹å‡ºã—æŒ¿å…¥
CLOSED: [2021-06-23 æ°´ 01:33]
C-enter
å‰ã®é …ç›®ãŒãƒªã‚¹ãƒˆã§ã‚‚è¦‹å‡ºã—ãŒæŒ¿å…¥ã§ãã‚‹ã€‚
** DONE ~C-c n~
CLOSED: [2021-06-03 æœ¨ 21:45]
roam ã®ãƒ—ãƒ¬ãƒ•ã‚£ã‚¯ã‚¹ã‚­ãƒ¼ã€‚
** DONE wdired-change-to-wdired-mode dired
CLOSED: [2021-06-03 æœ¨ 21:45]
ä¾¿åˆ©ãªç½®æ›ã€‚
** DONE org-mode ã®å„ç¨®æŒ¿å…¥ ~C-c C-,~
CLOSED: [2021-06-03 æœ¨ 21:44]
** DONE ~projectile-find-file~ (~C-c p f~)
CLOSED: [2021-06-03 æœ¨ 21:42]
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®ãƒ•ã‚¡ã‚¤ãƒ«åæ¤œç´¢ã€‚
** DONE ~projectile-switch-project~ (~C-c p p~)
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚
CLOSED: [2021-06-03 æœ¨ 21:42]
** DONE ~robe-doc~ (~C-c C-d~)
CLOSED: [2021-06-03 æœ¨ 21:42]
Rubyãƒ¡ã‚½ãƒƒãƒ‰ã‚’èª¿ã¹ã‚‰ã‚Œã¾ã™ã€‚gemãŒã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Gemfileã§ ~pry~, ~pry-doc~ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œã™ã‚‹ã¨pryãŒèµ·å‹•ã—ã¦ã€ä»¥å¾Œä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯è£œå®Œã® ~company.el~ ã¨é€£æºã•ã›ã¦ã„ã‚‹ãŸã‚ã€pryã‚’èµ·å‹•ã—ãªã„ã“ã¨ã«ã¯gemã®è£œå®Œã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚
** DONE ~vterm-copy-mode~ â†’ ~C-c C-t~
CLOSED: [2021-06-03 æœ¨ 21:42]
vtermä¸Šã§ã€eshellãªã©ã®ã‚ˆã†ã«è‡ªç”±ã«å‹•ãå›ã‚‹ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚
** DONE C-c C-w (org-refile)
CLOSED: [2021-07-26 æœˆ 09:41]
https://orgmode.org/manual/Refile-and-Copy.html#Refile-and-Copy
è¦‹å‡ºã—ã®ç§»å‹•ã€‚
* ãƒ¡ãƒ¢
** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¡ãƒ¢
- [[id:815a2c31-7ddb-40ad-bae0-f84e1cfd8de1][roam]]
- mermaid-mode
- alert.el
- writeroom-mode
- [[id:8c81068f-0e51-4d6d-bd1f-392ce8cb3a21][current-word-highlight]]
- [[id:f0cefeef-6f99-4ce2-bff7-db6e508f2c84][create-link]]
** ã‚½ãƒ¼ã‚¹ãƒ¡ãƒ¢
*** org-lint
https://github.com/kijimaD/emacs/blob/master/lisp/org/org-lint.el#L124
*** interactive
https://github.com/kijimaD/emacs/blob/master/src/callint.c#L37
*** defun
https://github.com/kijimaD/emacs/blob/master/lisp/emacs-lisp/byte-run.el#L280
https://github.com/kijimaD/emacs/blob/master/lisp/emacs-lisp/cl-macs.el#L339
*** markdown-to-ast
textlintã¯org-modeã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚txtãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡¦ç†ã§ãã¾ã™ãŒã€è¦‹å‡ºã—ã§ã‚‚ä¸¸ã‚’ã¤ã‘ãªã•ã„ã¨ã‹ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã§å¤§æ–‡å­—ã«ã—ã‚ã¨ã‹è¨€ã‚ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€orgç”¨ã®ASTå¤‰æ›ã‚’ä½œã‚Œã°è§£æ±ºã—ã¾ã™ã€‚
https://github.com/kijimaD/textlint/blob/master/packages/@textlint/markdown-to-ast/README.md#L1
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å–ã‚Šå‡ºã—ã¦ã€ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¦ã„ã‚‹ã€‚

https://github.com/remarkjs/remark-frontmatter
æ–‡å­—åˆ—Markdownã¯ã“ã‚Œã§å¤‰æ›ã—ã¦ã‚‹ã€‚
** æœªåˆ†é¡
*** sqlã¨æ¥ç¶šã™ã‚‹
#+begin_src
M-x customize-variable RET sql-connection-alist RET ...
M-x sql-connect
open buffer...
M-x sql-mode
M-x sql-set-sqli-buffer RET
sql-send-buffer (C-c C-b)
sqlup-capitalize-keywords-in-region (C-c u)
#+end_src
*** Macã§ã®ç½®æ›
- Macã§ã¯ ~query-replace~ (~M-%~)ãŒå¥ªã‚ã‚Œã¦æŠ¼ã›ãªã„ã®ã§ã€ ~query-replace-regexp~ (~C-M-%~)ã—ã¾ã™ã€‚
*** spring rspec
ã„ã¤ã®ã¾ã«ã‹Emacsã§springãŒå‹•ã‹ãªããªã£ã¦ã„ã¾ã—ãŸã€‚ã‚³ãƒãƒ³ãƒ‰ã§ã¯ ~spring rspec~ ãªã©ã§å‹•ã‹ã›ã‚‹ãŒã€Emacsã§ã¯ãµã¤ã†ã® ~bundle exec ...~ ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚å‰ã¯æ—©ãã§ãã¦ã„ãŸã¯ãšã€‚ãƒãƒƒãƒˆã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¾ã™ã€‚

#+begin_quote
emacsã®rspec-modeã§ã€ä¸Šè¨˜ã®ã‚ˆã†ã«ã—ã¦springã‚’ä½¿ã†ã¨ã€è‡ªå‹•ã§ã¯springãŒONã«ãªã‚‰ãªã„ã€‚ ã“ã‚Œã¯tmpã«pidãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚Œãªã„ãŸã‚ã€‚ å¼·åˆ¶çš„ã«springã‚’ä½¿ã†ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚
#+end_quote

  #+begin_src emacs-lisp
  (require 'rspec-mode)
  (defun rspec-spring-p ()
    (and rspec-use-spring-when-possible
         (stringp (executable-find "spring"))))
  #+end_src

springã‚’è‡ªå‹•ã§æ¤œå‡ºã—ã¦ãã‚Œã‚‹ã‚‰ã—ã„ã®ã§ã™ãŒ(ä½•ã‚ˆã‚Šä»Šã¾ã§ã§ãã¦ãŸ)ã€‚
- ~spring status~ ã§springãŒå‹•ã„ã¦ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚å‹•ã„ã¦ãªã‹ã£ãŸã‚‰ ~spring rspec~ ã™ã‚‹ã€‚
*** ãƒ‡ãƒãƒƒã‚°èµ·å‹•
#+begin_src shell
$ emacs -q
# initèª­ã¿è¾¼ã¾ãªã„
$ emacs --debug-init
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•ã™ã‚‹
#+end_src
*** ivyåŒ–
[[https://qiita.com/takaxp/items/2fde2c119e419713342b][helm ã‚’èƒŒã« ivy ã®é–€ã‚’å©ã - Qiita]]
*** System Crafters IRC
#+begin_quote
erc-tls
irc.libera.chat
6697
/join #systemcrafters
#+end_quote
*** è„šæ³¨
è„šæ³¨ä½¿ãˆã‚‹ã®ã¯çŸ¥ã‚‰ãªã‹ã£ãŸãªã€‚[fn:1]

[fn:1] The link is: https://orgmode.org
*** mermaid jsã‚’Emacsã§ä½¿ã†https://github.com/abrochard/mermaid-mode
#+begin_src shell
npm install -g @mermaid-js/mermaid-cli
#+end_src
ã—ã¦ã€C-cã§ç”»åƒã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã€‚
*** Linuxã‚’Emacsé¢¨ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã«ã™ã‚‹
https://linuxfan.info/linux-emacs-keybindings-matome

#+begin_src shell
  # gnome
  gsettings set org.gnome.desktop.interface gtk-key-theme Emacs
  # MATE
  gsettings set org.mate.interface gtk-key-theme Emacs
  # Cinnamon
  gsettings set org.cinnamon.desktop.interface gtk-key-theme Emacs
#+end_src
