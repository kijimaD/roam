:PROPERTIES:
:ID:       c7052a0d-0714-409a-86a7-4d4770240ada
:END:
#+title: Web API
* 概要
幅広いAPIという概念のなかで、とくにWebのこと、Web APIについてまとめる。
[[id:e04aa1a3-509c-45b2-ac64-53d69c961214][Rails]]などWEBアプリケーションを開発する場合、必ず使う。
* Memo
** URLとURIの違い
[[https://qiita.com/NagaokaKenichi/items/6298eb8960570c7ad2e9][RESTful APIのURI設計(エンドポイント設計) - Qiita]]

- URI
  - URL -- 位置を示す -> アドレス
  - URN -- 名前を示す

URLの方がより制限された用法。
** Swagger
SwaggerはAPIドキュメントツールである。ymlやjsonを記述して、ブラウザで閲覧できる。
[[id:e04aa1a3-509c-45b2-ac64-53d69c961214][Rails]]でのラッパーライブラリはrswagで、自然に扱うことができる。

- リポジトリ
  [[https://github.com/rswag/rswag][rswag/rswag: Seamlessly adds a Swagger to Rails-based API's]]
- コードの例
  [[https://github.com/ruslantolstov/rswag-example][ruslantolstov/rswag-example: Demo how to use rswag-api, rswag-specs.]]
- 記法例
  [[https://techblog.zozo.com/entry/swagger_yaml][開発効率を上げる！Swaggerの記法まとめ - ZOZO TECH BLOG]]

まとまっているサイト。[[https://qiita.com/disc99/items/37228f5d687ad2969aa2][SwaggerでRESTful APIの管理を楽にする - Qiita]]

* Tasks
** TODO [[https://www.amazon.co.jp/Web-API-Parts-%E6%B0%B4%E9%87%8E-%E8%B2%B4%E6%98%8E/dp/4873116864/ref=sr_1_2?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=176CX1TFR474&keywords=web+api&qid=1640733660&sprefix=web%2Caps%2C1017&sr=8-2][Web API: The Good Parts | 水野 貴明 |本 | 通販 | Amazon]]
:LOGBOOK:
CLOCK: [2022-07-09 Sat 11:22]--[2022-07-09 Sat 11:47] =>  0:25
:END:

- URIとメソッドの関係は、操作するもの(リソース)と操作方法(何をするか)の関係であるといえる。
- webページの通常のリンクはGETを使ってアクセスするものとみなされる。formを使うとpostとgetを選択できる。

HTTPのメソッドはHTTPリクエストヘッダの先頭行の最初に以下のようにつけられて、サーバに送信される。
#+begin_src
GET /v1/users/123 HTTP/1.1
Host: api.example.com
#+end_src

POSTメソッドは指定したURIに属する新しいリソースを送信する、新しい情報を登録するのが本来の目的。

- POSTは指定したURIの配下にデータを登録する。
- PUTはリソースがすでにあって、それを更新する。
- PUTは完全に上書きし、PATCHは一部を上書きする。
** TODO [[https://railsguides.jp/routing.html][Rails のルーティング - Railsガイド]]
** TODO [[https://d4192.hatenablog.com/entry/2019/04/10/190800][Railsルーティングのあれこれ(routes.rb) - プログラミングのメモ帳]]
** TODO [[https://techracho.bpsinc.jp/baba/2020_11_20/15619][Railsのルーティングを極める (後編)｜TechRacho by BPS株式会社]]
** TODO [[https://qiita.com/ryo88c/items/0a3c7861015861026e00][「WebAPI 設計のベストプラクティス」に対する所感 - Qiita]]
* Reference
** [[https://qiita.com/mserizawa/items/b833e407d89abd21ee72][翻訳: WebAPI 設計のベストプラクティス - Qiita]]
** [[https://www.programmableweb.com/apis][APIs Dashboard | ProgrammableWeb]]
パブリックAPI集。設計の例としても使える。
* Archives
