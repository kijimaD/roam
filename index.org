:PROPERTIES:
:ID:       2709c815-cd38-4679-86e8-ff2d3b8817e4
:END:
#+title: Insomnia

#+caption: ページ間のリンクを示す
#+BEGIN_EXPORT html
<script defer src='https://cdnjs.cloudflare.com/ajax/libs/d3/7.2.1/d3.min.js' integrity='sha512-wkduu4oQG74ySorPiSRStC0Zl8rQfjr/Ty6dMvYTmjZw6RS5bferdx8TR7ynxeh79ySEp/benIFFisKofMjPbg==' crossorigin='anonymous' referrerpolicy='no-referrer'></script>
<script defer src='js/graph.js'></script>

<div id="main-graph">
  <svg>
  <defs>
    <filter x="0" y="0" width="1" height="1" id="solid">
      <feflood flood-color="#f7f7f7" flood-opacity="0.9"></feflood>
      <fecomposite in="SourceGraphic" operator="xor"></fecomposite>
    </filter>
  </defs>
  <rect id="base_rect" width="100%" height="100%" fill="#ffffff"></rect>
  </svg>
</div>
#+END_EXPORT
* 概要
プログラム関連の記録。

- [[id:a0f58a2a-e92d-496e-9c81-dc5401ab314f][Author History]]
* Repository stat
期間ごとのファイル数と行数。

#+CAPTION: Number of files(.org only)
#+ATTR_HTML: :alt Number of files image :title Files :align right
[[./git-file.png]]

#+CAPTION: Number of lines(.org only)
#+ATTR_HTML: :alt Number of lines image :title Lines :align right
[[./git-line.png]]
* Recent activity
org-agendaで記録・出力した。
** Last Week by Day
#+BEGIN: clocktable :maxlevel 3 :scope agenda :tags "" :block lastweek :step day :stepskip0 true :fileskip0 true
#+END:
** This Month
#+BEGIN: clocktable :maxlevel 3 :scope agenda :tags "" :block thismonth :step month :stepskip0 true :fileskip0 true
#+END:
** COMMENT Last 30 days log
# あまり意味がない気がするので非表示にしている。
#+BEGIN_EXPORT html
<iframe src="./agenda.html"
        style="width: 100%;"></iframe>
#+END_EXPORT
* Auther GitHub Stats
[[https:github.com/kijimaD][kijimaD]]のGitHub統計。

#+BEGIN_EXPORT html
<!- profile details ->
<a href="https://github.com/kijimad">
  <img src="https://github-profile-summary-cards.vercel.app/api/cards/profile-details?username=kijimad&theme=default" />
</a>

<!- user stats ->
<a href="https://github.com/kijimad">
  <img src="https://github-profile-summary-cards.vercel.app/api/cards/stats?username=kijimad&theme=default" />
</a>

<!- commits hour ->
<a href="https://github.com/kijimad">
  <img src="https://github-profile-summary-cards.vercel.app/api/cards/productive-time?username=kijimad&theme=default" />
</a>

<!- most commit language ->
<a href="https://github.com/kijimad">
  <img src="https://github-profile-summary-cards.vercel.app/api/cards/most-commit-language?username=kijimad&theme=default" />
</a>

<!- most used language ->
<a href="https://github.com/kijimad">
  <img src="https://github-readme-stats.vercel.app/api/top-langs/?username=kijimad&layout=compact&langs_count=10&border_color=ffffff">
</a>
#+END_EXPORT
* グラフ関係の概要
ちゃんと名前をつけてやりたい。
- 有向グラフ
  org-roamが各ページを解釈(idとか)して、sqliteデータベースを作成する。
  出力したsqliteデータベースをjsonに加工する。
  d3.jsにデータを入れて、グラフを描画する。
- Repository Stats
  Gitリポジトリをコミットごとに調査するスクリプトでデータ取得。GNU Plotでグラフ画像を描画している。
  d3.jsに書き換えたい。
- Recent Activity
  Emacs org-modeにより時刻記録。clock-tableとorg-agendaで出力した(標準機能)。
- GitHub Statse GitHubの個人のデータをいい感じに出力してくれるサービスがある。GitHubのユーザページに貼られてるやつ。リンクを挿入するだけで使える。
- File Stat
  ファイルの文字数とリンク。
* Tasks
** TODO Write self introduction in English
簡単な説明だけ英語で書く。
** TODO テスト追加する
テストがない。
seleniumで全体的なテストができると完璧。
** TODO グラフをd3.jsで書き直す
GNU Plotで描画していてよくわからないかつださいので変える。
** TODO gitグラフのスクリプトを共通化する
同じ内容が重複しているのでまとめる。共通化すればもっといろんなことに使えるはず。
** TODO ファイルグラフの表示項目を増やす
- ページランク, タイトル, 文字数カウント, 変更回数、最終変更日(相対日付)、変更回数
** TODO Docker環境作成する
:LOGBOOK:
CLOCK: [2021-12-30 Thu 21:35]--[2021-12-30 Thu 23:01] =>  1:26
:END:
複数の依存環境があり、環境構築が面倒なので。

- Ruby
- Python
- sqlite
- Emacs
* Archives
** DONE サイトindexにstatカードを表示する
CLOSED: [2021-09-25 Sat 00:19]
:LOGBOOK:
CLOCK: [2021-09-25 Sat 00:10]--[2021-09-25 Sat 00:19] =>  0:09
:END:
- https://qiita.com/zizi4n5/items/f8076cb25bbf64a9bc1c
** DONE ファイル数グラフを追加する
いい感じに増加しているのを見たい。
[[id:90c6b715-9324-46ce-a354-63d09403b066][Git]]から、各期間での数を抽出すればいい。
** DONE ファイルサイズで並べる
CLOSED: [2021-09-10 Fri 17:49]
ファイルを並べた。
** DONE clock table作成
CLOSED: [2021-09-23 Thu 14:50]
:LOGBOOK:
CLOCK: [2021-09-23 Thu 13:48]--[2021-09-23 Thu 13:56] =>  0:08
CLOCK: [2021-09-23 Thu 12:26]--[2021-09-23 Thu 13:28] =>  1:02
CLOCK: [2021-09-23 Thu 11:29]--[2021-09-23 Thu 11:57] =>  0:28
CLOCK: [2021-09-23 Thu 11:14]--[2021-09-23 Thu 11:17] =>  0:03
:END:
スケジュール表示よりこっちのほうが見やすい。
** CLOSE ファイルサイズの棒グラフを作成する
CLOSED: [2021-09-23 Thu 22:26]
:LOGBOOK:
CLOCK: [2021-09-23 Thu 22:06]--[2021-09-23 Thu 22:26] =>  0:20
CLOCK: [2021-09-23 Thu 21:16]--[2021-09-23 Thu 21:41] =>  0:25
:END:

ファイルごとで棒グラフみたくしたかったのだが、ファイルの数が多すぎてうまくいかなかった。
また、一部の割合が大きくそのほかは0.1%代なのでグラフとしてあまり意味をもたなかった。

#+begin_src shell
set terminal dumb feed 80 50

set datafile separator ","
set noxtics

plot "character-count.dat" using 2:0:ytic(1) with lines notitle
#+end_src
** DONE コマンド整理
CLOSED: [2021-12-29 Wed 13:19]
:LOGBOOK:
:END:
** DONE 各表示項目をまとめる
CLOSED: [2021-12-29 Wed 22:56]
グラフが増えてきたので、ドキュメントを1箇所にまとめる。TODOを作成する。
